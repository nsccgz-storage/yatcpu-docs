{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u524d\u8a00 \u00b6 By: wu-kan YatCPU ( Y et a nother t oy CPU\uff0c\u9038\u82af) \u662f\u4e00\u6b3e\u5f00\u6e90\u3001\u5f00\u53d1\u4e2d\u7684\u6559\u5b66\u7528 RISC-V \u5904\u7406\u5668\uff0c\u57fa\u4e8e Chisel \u786c\u4ef6\u8bbe\u8ba1\u8bed\u8a00\u5b9e\u73b0\uff0c\u5e76\u7528\u4e8e\u4e2d\u5c71\u5927\u5b66 (Sun Yat -sen University) \u8ba1\u7b97\u673a\u5b66\u9662\u51af\u73ed\u7ec4\u6210\u539f\u7406\u5b9e\u9a8c\u8bfe\u7a0b\u7684\u6559\u5b66\u3002\u540c\u6837\u6b22\u8fce\u5176\u4ed6\u9ad8\u6821\u76f8\u5173\u8bfe\u7a0b\u4f7f\u7528\uff01 \u6b64\u5904\u540c\u6837\u7ed9\u51fa \u6211\u4eec\u5728\u8bfe\u5802\u4e0a\u7684\u5c55\u793a \u3002 Why another CPU \u00b6 \u4e3a\u4e86\u56de\u7b54\u8fd9\u4e00\u95ee\u9898\uff0c\u9700\u8981\u5148\u4ecb\u7ecd\u4e00\u4e0b\u4e2d\u5927\u5f80\u5e74\u7ec4\u6210\u539f\u7406\u5b9e\u9a8c\u8bfe\u7a0b\u7684\u60c5\u51b5\u3002\u5b66\u751f\u9700\u8981\u5728\u534a\u4e2a\u5b66\u671f\u7684\u65f6\u95f4\u91cc\uff0c\u4ece\u96f6\u5f00\u59cb\u5b9e\u73b0\u4e00\u4e2a MIPS32 \u6307\u4ee4\u96c6\u5b50\u96c6\u7684 CPU\uff0c\u5206\u522b\u5b8c\u6210 \u5355\u5468\u671f \u5230 \u4e94\u5468\u671f CPU \u7684\u5b9e\u73b0\u5e76\u7531\u52a9\u6559\u9a8c\u6536\uff0c\u5c11\u6570\u80fd\u529b\u5f3a\u7684\u540c\u5b66\u53ef\u4ee5\u5c06\u5176\u6269\u5c55\u5230\u6d41\u6c34\u7ebf\u3002\u8ba1\u7ec4\u5b9e\u9a8c\u88ab\u79f0\u4f5c\u8ba1\u9662\u5b66\u751f\u7684\u7b2c\u4e00\u9053\u95e8\u69db\uff0c\u76f8\u8f83\u4e8e\u5927\u4e00\u7684\u5b9e\u9a8c\u8bfe\u7a0b\u6302\u79d1\u7387\u98d9\u5347\uff0c\u6bcf\u5e74\u90fd\u6709\u5f88\u591a\u5b66\u751f\u91cd\u4fee\u3002 \u7136\u800c\uff0c\u95e8\u69db\u9ad8\u7684\u540c\u65f6\uff0c\u8fd9\u95e8\u8bfe\u7684\u4e0a\u9650\u5374\u5e76\u6ca1\u6709\u5f88\u9ad8\u3002\u4e00\u5c4a\u53c8\u4e00\u5c4a\u7684\u5377\u738b\u505a\u5b8c\u591a\u5468\u671f\u3001\u6d41\u6c34\u7ebf\u4e4b\u540e\u5f00\u59cb\u5377\u5404\u79cd\u7ec6\u8282\uff0c\u5982\u6307\u4ee4\u96c6\u5df2\u7ecf\u4ece\u6211\u90a3\u65f6\u7684\u5341\u51e0\u6761\u589e\u52a0\u5230\u4e86\u4e94\u5341\u591a\u6761\uff0c\u751a\u81f3\u4e8e\u5230\u4e86\u5377\u62a5\u544a\u7684\u7a0b\u5ea6\uff0819 \u7ea7\u7b2c\u4e00\u540d\u7684\u5b9e\u9a8c\u62a5\u544a\u5df2\u8fbe\u4e09\u4e07\u5b57\uff0c\u4e94\u5341\u4f59\u9875\uff09\uff1b\u589e\u52a0\u4e86\u5927\u91cf\u5de5\u4f5c\u91cf\u5374\u5e76\u4e0d\u7ed9\u4eba\u5e26\u6765\u63d0\u5347\u3002 \u4e0e\u6b64\u540c\u65f6\uff0c\u6211\u4e5f\u5728\u5404\u79cd\u65b0\u95fb\u4e0a\u770b\u5230\u56fd\u5185\u5404\u5927\u9ad8\u6821\u5bf9\u8ba1\u7ec4\u8bfe\u7a0b\u7684\u6539\u9769\uff08\u201c\u5728\u81ea\u5df1\u5199\u7684 CPU \u4e0a\u8dd1\u81ea\u5df1\u5199\u7684\u64cd\u4f5c\u7cfb\u7edf\u201d\uff09\uff0c\u5fc3\u4e2d\u5f88\u96be\u4e0d\u4ea7\u751f\u4e00\u4e9b\u7fa1\u6155\u3002\u5728\u5927\u56db\u7684\u67d0\u4e00\u5929\uff0c\u6211\u5f97\u77e5 NelsonCheung-cn \u5f00\u6e90\u4e86 Yat-sen OS \uff0c\u5e76\u6210\u529f\u7528\u5728\u4e0b\u4e00\u7ea7\u64cd\u4f5c\u7cfb\u7edf\u5b9e\u9a8c\u8bfe\u4e0a\u3002\u56de\u60f3\u8d77\u81ea\u5df1\u524d\u4e24\u5e74\u5728\u64cd\u7edf\u5b9e\u9a8c\uff08\u548c\u8ba1\u7ec4\u5b9e\u9a8c\u8bfe\u4e0a\uff09\u906d\u53d7\u7684\u6298\u78e8\uff0c\u610f\u8bc6\u5230\u81ea\u5df1\u4e5f\u53ef\u4ee5\u505a\u4e00\u4e2a TA\uff0c\u4ee5\u4e00\u4e2a\u5168\u65b0\u7684\u8eab\u4efd\u5bf9\u5f85\u4e4b\u524d\u7684\u5b9e\u9a8c\u3002\u6000\u7740\u8fd9\u79cd\u60f3\u6cd5\uff0c\u6211\u62a5\u540d\u5e76\u6210\u4e3a\u4e86\u7b2c\u4e00\u5c4a \u51af\u73ed \u8ba1\u7ec4\u8bfe\u7684\u52a9\u6559\u3002 \u73b0\u72b6\u4e0e\u79ef\u5f0a \u00b6 \u9650\u4e8e\u65f6\u95f4\u539f\u56e0\uff0c\u5728\u7b2c\u4e00\u5c4a\u5b9e\u9a8c\u8bfe\u4e0a\u6211\u5e76\u6ca1\u6709\u5bf9\u5f80\u5e74\u7684\u5b9e\u9a8c\u505a\u8fc7\u591a\u6539\u9020\uff0c\u53ea\u662f\u8c03\u6574\u4e86 \u5b9e\u9a8c\u8981\u6c42 \uff0c\u5c06\u8bfe\u7a0b\u7684\u6307\u4ee4\u96c6\u4ece MIPS32 \u6539\u4e3a RV32I\u3002\u901a\u8fc7\u89c2\u5bdf\u548c\u81ea\u5df1\u505a\u5b9e\u9a8c\u7684\u7ecf\u5386\uff0c\u4e3b\u8981\u627e\u5230\u4ee5\u4e0b\u51e0\u4e2a\u5b9e\u9a8c\u8bfe\u7a0b\u4e2d\u5b58\u5728\u7684\u95ee\u9898\uff1a \u5b9e\u9a8c\u5185\u5bb9\u8d2b\u4e4f \u82b1\u8d39\u8fc7\u591a\u65f6\u95f4\u5728\u4ece\u96f6\u5f00\u59cb\u5b9e\u73b0\u5355\u5468\u671f CPU \u4e0a \u4ec5\u5b9e\u73b0 CPU\uff0c\u672a\u5b9e\u73b0\u5176\u4ed6\u90e8\u4ef6 \u5b9e\u9a8c\u5185\u5bb9\u5272\u88c2 \u6ca1\u6709\u548c\u5176\u4ed6\u8bfe\u7a0b\uff08\u5982\u64cd\u4f5c\u7cfb\u7edf\uff09\u201c\u8d2f\u901a\u201d \u540c\u5b66\u4eec\u6b64\u65f6\u521a\u5b66\u5b8c\u7a0b\u5e8f\u8bbe\u8ba1\uff0c\u96be\u4ee5\u7406\u89e3\u4e0e\u7ec4\u6210\u539f\u7406\u7684\u5173\u8054 Verilog \u4e0a\u624b\u96be\u5ea6\u9ad8 \u4e2d\u5927\u7684\u8ba1\u7ec4\u8bfe\u7a0b\u5f00\u8bbe\u5728\u5927\u4e8c\u4e0a\u5b66\u671f\uff0c\u65e9\u4e8e\u5927\u90e8\u5206\u9ad8\u6821 \u6570\u5b57\u7535\u8def\u8bfe\u7a0b\u4e2d\u4f7f\u7528 FPGA \u662f\u9009\u505a\u5185\u5bb9\uff0c\u534a\u6570\u4ee5\u4e0a\u7684\u540c\u5b66\u5e76\u6ca1\u6709\u76f8\u5173\u7ecf\u9a8c Vivado GUI \u4f7f\u7528\u4f53\u9a8c\u5dee \u7efc\u5408\u4e0e\u5b9e\u73b0\u8fc7\u7a0b\u5197\u957f\u4e14\u5bb9\u6613\u51fa\u9519 Debug \u4e0e\u5b9e\u9a8c\u68c0\u67e5\u90fd\u53ea\u80fd\u770b\u6ce2\u5f62\u56fe \u4f5c\u4e3a\u68c0\u67e5\u5b9e\u9a8c\u7684 TA\uff0c\u975e\u5e38\u75db\u82e6\uff01 \u505a\u5b9e\u9a8c\u7684\u540c\u5b66\u66f4\u75db\u82e6\uff01 \u52a8\u673a \u00b6 \u57fa\u4e8e\u4e0a\u8ff0\u95ee\u9898\uff0c\u6211\u4eec\u5e0c\u671b\u9762\u5411\u5982\u4e0b\u76ee\u6807\u6539\u5584\u8bfe\u7a0b\u5b9e\u9a8c\uff1a \u4e0a\u624b\u96be\u5ea6\u4f4e\u3001\u5f00\u53d1\u6548\u7387\u9ad8 \u66f4\u7b80\u5355\u7684\u5f00\u53d1\u8bed\u8a00 Chisel \u5f00\u53d1\u76f8\u540c\u529f\u80fd\u76f8\u8f83\u4e8e Verilog \u51cf\u5c11\u6570\u500d \u66f4\u4e30\u5bcc\u7684\u5de5\u5177\u94fe \u5feb\u901f\u53cd\u9988\u3001\u6fc0\u53d1\u5174\u8da3 \u66f4\u5feb\u901f\u7684\u8bc4\u6d4b\u65b9\u5f0f \u5bb9\u6613\u505a\u51fa\u5c0f\u7684\u6210\u679c \u548c\u5176\u4ed6\u8bfe\u7a0b\u201c\u6253\u901a\u201d Feature and Future \u00b6 \u6700\u7ec8\uff0c\u6211\u4eec\u51b3\u5b9a\u5f00\u53d1\u4e00\u6b3e\u5c3d\u53ef\u80fd\u7b80\u5355\u7684 RISC-V CPU\uff08\u7c7b\u4f3c\u4e8e tinyriscv \uff09\uff0c\u4e3b\u8981\u9762\u5411 \u672c\u79d1\u4f4e\u5e74\u7ea7\u540c\u5b66 \uff0c\u4e5f\u5373\u5bf9\u8bfb\u8005\u7684\u77e5\u8bc6\u6c34\u5e73\u8981\u6c42\u4ec5\u4e3a\u6709\u57fa\u672c\u7684\u6570\u5b57\u7535\u8def\u4ee5\u53ca C \u8bed\u8a00\u57fa\u7840\u3002 \u7b80\u5355\u5374\u4e0d\u7b80\u964b\uff0c\u6211\u4eec\u540c\u65f6\u5e0c\u671b\u5c3d\u53ef\u80fd\u591a\u5730\u6269\u5c55\u5176\u529f\u80fd\u6027\uff08\u5012\u5e76\u4e0d\u662f\u8bf4\u5b8c\u5168\u4e0d\u8003\u8651\u6027\u80fd\u548c\u8282\u80fd\u4e86\uff0c\u53ea\u662f\u4e0d\u662f\u5f53\u524d\u7684\u5f00\u53d1\u91cd\u70b9\uff09\uff0c\u5e76\u5728\u6b64\u4e4b\u4e0a\u8bbe\u8ba1\u66f4\u591a\u6709\u8da3\u4e14\u80fd\u52a0\u6df1\u540c\u5b66\u4eec\u5bf9\u4f53\u7cfb\u7ed3\u6784\u7406\u89e3\u7684\u5b9e\u9a8c\u3002\u622a\u81f3\u76ee\u524d\u4e3a\u6b62\uff0cYatCPU \u9879\u76ee\u5305\u542b\u6216\u8ba1\u5212\u5305\u542b\u4ee5\u4e0b\u7279\u5f81\uff1a \u4f7f\u7528 Chisel \u5b9e\u73b0 RV32I \u6307\u4ee4\u96c6 \u589e\u52a0 RV64 \u7b49\u66f4\u591a\u6307\u4ee4\u96c6 \u4e09\u7ea7\u6d41\u6c34\u7ebf \u652f\u6301\u5168 Linux/WSL \u5f00\u53d1\u73af\u5883 \u81ea\u52a8\u5316\u8bc4\u6d4b \u81ea\u52a8\u5316\u70e7\u677f \u652f\u6301\u9ad8\u6821\u6570\u7535\u6559\u5b66\u5e38\u7528\u7684 Basys3 \u5f00\u53d1\u677f \u79fb\u690d\u5230\u66f4\u591a\u7684\u5f00\u53d1\u677f\uff0c\u5982 ZedBoard \u7b49 VGA \u8f93\u51fa\uff0c\u663e\u793a\u66f4\u591a\u7684\u8c03\u8bd5\u4fe1\u606f \u8fd0\u884c C \u8bed\u8a00\u7f16\u8bd1\u7684\u7a0b\u5e8f \u901a\u8fc7 RISC-V \u6307\u4ee4\u517c\u5bb9\u6027\u6d4b\u8bd5 \u8fd0\u884c CoreMark \u542f\u52a8\u64cd\u4f5c\u7cfb\u7edf FreeRTOS Yat-sen OS OpenHarmony LiteOS-A Linux Kernel Debian \u5b8c\u5584\u4e14\u9002\u7528\u4e8e\u96f6\u57fa\u7840\u65b0\u751f\u7684\u6587\u6863 \u57fa\u4e8e YatCPU \u8bbe\u8ba1\u66f4\u591a\u4f53\u7cfb\u7ed3\u6784\u5b9e\u9a8c \u7f13\u5b58 \u5fae\u7801\u67b6\u6784 \u591a\u53d1\u5c04 \u4e71\u5e8f\u6267\u884c \u5206\u652f\u9884\u6d4b \u591a\u6838 \u7f13\u5b58\u4e00\u81f4\u6027 \u5411\u91cf\u5904\u7406\u5668 \u6700\u540e\u8981\u611f\u8c22 \u5e7f\u7237 \u548c\u4ed6\u7684\u540c\u5b66\u4eec\uff0c\u53ef\u4ee5\u8ba9\u6211\u5728\u8bfe\u4e0a\u201c\u80e1\u4f5c\u975e\u4e3a\u201d\u3002\u8fd8\u8981\u7531\u8877\u611f\u8c22 howardlau1999 \uff0c\u652f\u6491\u4e86 YatCPU \u524d\u671f\u5f00\u53d1\u7684\u7edd\u5927\u90e8\u4efd\u5de5\u4f5c\u91cf\uff08\u6beb\u4e0d\u5938\u5f20\u5730\u8bf4\uff0c\u767d\u767d\u5728\u4e09\u5929\u5185\u5b8c\u6210\u4e86\u6211\u539f\u8ba1\u5212\u4e00\u4e2a\u6708\u7684\u5de5\u4f5c\u91cf\uff09\u3002","title":"\u524d\u8a00"},{"location":"#\u524d\u8a00","text":"By: wu-kan YatCPU ( Y et a nother t oy CPU\uff0c\u9038\u82af) \u662f\u4e00\u6b3e\u5f00\u6e90\u3001\u5f00\u53d1\u4e2d\u7684\u6559\u5b66\u7528 RISC-V \u5904\u7406\u5668\uff0c\u57fa\u4e8e Chisel \u786c\u4ef6\u8bbe\u8ba1\u8bed\u8a00\u5b9e\u73b0\uff0c\u5e76\u7528\u4e8e\u4e2d\u5c71\u5927\u5b66 (Sun Yat -sen University) \u8ba1\u7b97\u673a\u5b66\u9662\u51af\u73ed\u7ec4\u6210\u539f\u7406\u5b9e\u9a8c\u8bfe\u7a0b\u7684\u6559\u5b66\u3002\u540c\u6837\u6b22\u8fce\u5176\u4ed6\u9ad8\u6821\u76f8\u5173\u8bfe\u7a0b\u4f7f\u7528\uff01 \u6b64\u5904\u540c\u6837\u7ed9\u51fa \u6211\u4eec\u5728\u8bfe\u5802\u4e0a\u7684\u5c55\u793a \u3002","title":"\u524d\u8a00"},{"location":"#why-another-cpu","text":"\u4e3a\u4e86\u56de\u7b54\u8fd9\u4e00\u95ee\u9898\uff0c\u9700\u8981\u5148\u4ecb\u7ecd\u4e00\u4e0b\u4e2d\u5927\u5f80\u5e74\u7ec4\u6210\u539f\u7406\u5b9e\u9a8c\u8bfe\u7a0b\u7684\u60c5\u51b5\u3002\u5b66\u751f\u9700\u8981\u5728\u534a\u4e2a\u5b66\u671f\u7684\u65f6\u95f4\u91cc\uff0c\u4ece\u96f6\u5f00\u59cb\u5b9e\u73b0\u4e00\u4e2a MIPS32 \u6307\u4ee4\u96c6\u5b50\u96c6\u7684 CPU\uff0c\u5206\u522b\u5b8c\u6210 \u5355\u5468\u671f \u5230 \u4e94\u5468\u671f CPU \u7684\u5b9e\u73b0\u5e76\u7531\u52a9\u6559\u9a8c\u6536\uff0c\u5c11\u6570\u80fd\u529b\u5f3a\u7684\u540c\u5b66\u53ef\u4ee5\u5c06\u5176\u6269\u5c55\u5230\u6d41\u6c34\u7ebf\u3002\u8ba1\u7ec4\u5b9e\u9a8c\u88ab\u79f0\u4f5c\u8ba1\u9662\u5b66\u751f\u7684\u7b2c\u4e00\u9053\u95e8\u69db\uff0c\u76f8\u8f83\u4e8e\u5927\u4e00\u7684\u5b9e\u9a8c\u8bfe\u7a0b\u6302\u79d1\u7387\u98d9\u5347\uff0c\u6bcf\u5e74\u90fd\u6709\u5f88\u591a\u5b66\u751f\u91cd\u4fee\u3002 \u7136\u800c\uff0c\u95e8\u69db\u9ad8\u7684\u540c\u65f6\uff0c\u8fd9\u95e8\u8bfe\u7684\u4e0a\u9650\u5374\u5e76\u6ca1\u6709\u5f88\u9ad8\u3002\u4e00\u5c4a\u53c8\u4e00\u5c4a\u7684\u5377\u738b\u505a\u5b8c\u591a\u5468\u671f\u3001\u6d41\u6c34\u7ebf\u4e4b\u540e\u5f00\u59cb\u5377\u5404\u79cd\u7ec6\u8282\uff0c\u5982\u6307\u4ee4\u96c6\u5df2\u7ecf\u4ece\u6211\u90a3\u65f6\u7684\u5341\u51e0\u6761\u589e\u52a0\u5230\u4e86\u4e94\u5341\u591a\u6761\uff0c\u751a\u81f3\u4e8e\u5230\u4e86\u5377\u62a5\u544a\u7684\u7a0b\u5ea6\uff0819 \u7ea7\u7b2c\u4e00\u540d\u7684\u5b9e\u9a8c\u62a5\u544a\u5df2\u8fbe\u4e09\u4e07\u5b57\uff0c\u4e94\u5341\u4f59\u9875\uff09\uff1b\u589e\u52a0\u4e86\u5927\u91cf\u5de5\u4f5c\u91cf\u5374\u5e76\u4e0d\u7ed9\u4eba\u5e26\u6765\u63d0\u5347\u3002 \u4e0e\u6b64\u540c\u65f6\uff0c\u6211\u4e5f\u5728\u5404\u79cd\u65b0\u95fb\u4e0a\u770b\u5230\u56fd\u5185\u5404\u5927\u9ad8\u6821\u5bf9\u8ba1\u7ec4\u8bfe\u7a0b\u7684\u6539\u9769\uff08\u201c\u5728\u81ea\u5df1\u5199\u7684 CPU \u4e0a\u8dd1\u81ea\u5df1\u5199\u7684\u64cd\u4f5c\u7cfb\u7edf\u201d\uff09\uff0c\u5fc3\u4e2d\u5f88\u96be\u4e0d\u4ea7\u751f\u4e00\u4e9b\u7fa1\u6155\u3002\u5728\u5927\u56db\u7684\u67d0\u4e00\u5929\uff0c\u6211\u5f97\u77e5 NelsonCheung-cn \u5f00\u6e90\u4e86 Yat-sen OS \uff0c\u5e76\u6210\u529f\u7528\u5728\u4e0b\u4e00\u7ea7\u64cd\u4f5c\u7cfb\u7edf\u5b9e\u9a8c\u8bfe\u4e0a\u3002\u56de\u60f3\u8d77\u81ea\u5df1\u524d\u4e24\u5e74\u5728\u64cd\u7edf\u5b9e\u9a8c\uff08\u548c\u8ba1\u7ec4\u5b9e\u9a8c\u8bfe\u4e0a\uff09\u906d\u53d7\u7684\u6298\u78e8\uff0c\u610f\u8bc6\u5230\u81ea\u5df1\u4e5f\u53ef\u4ee5\u505a\u4e00\u4e2a TA\uff0c\u4ee5\u4e00\u4e2a\u5168\u65b0\u7684\u8eab\u4efd\u5bf9\u5f85\u4e4b\u524d\u7684\u5b9e\u9a8c\u3002\u6000\u7740\u8fd9\u79cd\u60f3\u6cd5\uff0c\u6211\u62a5\u540d\u5e76\u6210\u4e3a\u4e86\u7b2c\u4e00\u5c4a \u51af\u73ed \u8ba1\u7ec4\u8bfe\u7684\u52a9\u6559\u3002","title":"Why another CPU"},{"location":"#\u73b0\u72b6\u4e0e\u79ef\u5f0a","text":"\u9650\u4e8e\u65f6\u95f4\u539f\u56e0\uff0c\u5728\u7b2c\u4e00\u5c4a\u5b9e\u9a8c\u8bfe\u4e0a\u6211\u5e76\u6ca1\u6709\u5bf9\u5f80\u5e74\u7684\u5b9e\u9a8c\u505a\u8fc7\u591a\u6539\u9020\uff0c\u53ea\u662f\u8c03\u6574\u4e86 \u5b9e\u9a8c\u8981\u6c42 \uff0c\u5c06\u8bfe\u7a0b\u7684\u6307\u4ee4\u96c6\u4ece MIPS32 \u6539\u4e3a RV32I\u3002\u901a\u8fc7\u89c2\u5bdf\u548c\u81ea\u5df1\u505a\u5b9e\u9a8c\u7684\u7ecf\u5386\uff0c\u4e3b\u8981\u627e\u5230\u4ee5\u4e0b\u51e0\u4e2a\u5b9e\u9a8c\u8bfe\u7a0b\u4e2d\u5b58\u5728\u7684\u95ee\u9898\uff1a \u5b9e\u9a8c\u5185\u5bb9\u8d2b\u4e4f \u82b1\u8d39\u8fc7\u591a\u65f6\u95f4\u5728\u4ece\u96f6\u5f00\u59cb\u5b9e\u73b0\u5355\u5468\u671f CPU \u4e0a \u4ec5\u5b9e\u73b0 CPU\uff0c\u672a\u5b9e\u73b0\u5176\u4ed6\u90e8\u4ef6 \u5b9e\u9a8c\u5185\u5bb9\u5272\u88c2 \u6ca1\u6709\u548c\u5176\u4ed6\u8bfe\u7a0b\uff08\u5982\u64cd\u4f5c\u7cfb\u7edf\uff09\u201c\u8d2f\u901a\u201d \u540c\u5b66\u4eec\u6b64\u65f6\u521a\u5b66\u5b8c\u7a0b\u5e8f\u8bbe\u8ba1\uff0c\u96be\u4ee5\u7406\u89e3\u4e0e\u7ec4\u6210\u539f\u7406\u7684\u5173\u8054 Verilog \u4e0a\u624b\u96be\u5ea6\u9ad8 \u4e2d\u5927\u7684\u8ba1\u7ec4\u8bfe\u7a0b\u5f00\u8bbe\u5728\u5927\u4e8c\u4e0a\u5b66\u671f\uff0c\u65e9\u4e8e\u5927\u90e8\u5206\u9ad8\u6821 \u6570\u5b57\u7535\u8def\u8bfe\u7a0b\u4e2d\u4f7f\u7528 FPGA \u662f\u9009\u505a\u5185\u5bb9\uff0c\u534a\u6570\u4ee5\u4e0a\u7684\u540c\u5b66\u5e76\u6ca1\u6709\u76f8\u5173\u7ecf\u9a8c Vivado GUI \u4f7f\u7528\u4f53\u9a8c\u5dee \u7efc\u5408\u4e0e\u5b9e\u73b0\u8fc7\u7a0b\u5197\u957f\u4e14\u5bb9\u6613\u51fa\u9519 Debug \u4e0e\u5b9e\u9a8c\u68c0\u67e5\u90fd\u53ea\u80fd\u770b\u6ce2\u5f62\u56fe \u4f5c\u4e3a\u68c0\u67e5\u5b9e\u9a8c\u7684 TA\uff0c\u975e\u5e38\u75db\u82e6\uff01 \u505a\u5b9e\u9a8c\u7684\u540c\u5b66\u66f4\u75db\u82e6\uff01","title":"\u73b0\u72b6\u4e0e\u79ef\u5f0a"},{"location":"#\u52a8\u673a","text":"\u57fa\u4e8e\u4e0a\u8ff0\u95ee\u9898\uff0c\u6211\u4eec\u5e0c\u671b\u9762\u5411\u5982\u4e0b\u76ee\u6807\u6539\u5584\u8bfe\u7a0b\u5b9e\u9a8c\uff1a \u4e0a\u624b\u96be\u5ea6\u4f4e\u3001\u5f00\u53d1\u6548\u7387\u9ad8 \u66f4\u7b80\u5355\u7684\u5f00\u53d1\u8bed\u8a00 Chisel \u5f00\u53d1\u76f8\u540c\u529f\u80fd\u76f8\u8f83\u4e8e Verilog \u51cf\u5c11\u6570\u500d \u66f4\u4e30\u5bcc\u7684\u5de5\u5177\u94fe \u5feb\u901f\u53cd\u9988\u3001\u6fc0\u53d1\u5174\u8da3 \u66f4\u5feb\u901f\u7684\u8bc4\u6d4b\u65b9\u5f0f \u5bb9\u6613\u505a\u51fa\u5c0f\u7684\u6210\u679c \u548c\u5176\u4ed6\u8bfe\u7a0b\u201c\u6253\u901a\u201d","title":"\u52a8\u673a"},{"location":"#feature-and-future","text":"\u6700\u7ec8\uff0c\u6211\u4eec\u51b3\u5b9a\u5f00\u53d1\u4e00\u6b3e\u5c3d\u53ef\u80fd\u7b80\u5355\u7684 RISC-V CPU\uff08\u7c7b\u4f3c\u4e8e tinyriscv \uff09\uff0c\u4e3b\u8981\u9762\u5411 \u672c\u79d1\u4f4e\u5e74\u7ea7\u540c\u5b66 \uff0c\u4e5f\u5373\u5bf9\u8bfb\u8005\u7684\u77e5\u8bc6\u6c34\u5e73\u8981\u6c42\u4ec5\u4e3a\u6709\u57fa\u672c\u7684\u6570\u5b57\u7535\u8def\u4ee5\u53ca C \u8bed\u8a00\u57fa\u7840\u3002 \u7b80\u5355\u5374\u4e0d\u7b80\u964b\uff0c\u6211\u4eec\u540c\u65f6\u5e0c\u671b\u5c3d\u53ef\u80fd\u591a\u5730\u6269\u5c55\u5176\u529f\u80fd\u6027\uff08\u5012\u5e76\u4e0d\u662f\u8bf4\u5b8c\u5168\u4e0d\u8003\u8651\u6027\u80fd\u548c\u8282\u80fd\u4e86\uff0c\u53ea\u662f\u4e0d\u662f\u5f53\u524d\u7684\u5f00\u53d1\u91cd\u70b9\uff09\uff0c\u5e76\u5728\u6b64\u4e4b\u4e0a\u8bbe\u8ba1\u66f4\u591a\u6709\u8da3\u4e14\u80fd\u52a0\u6df1\u540c\u5b66\u4eec\u5bf9\u4f53\u7cfb\u7ed3\u6784\u7406\u89e3\u7684\u5b9e\u9a8c\u3002\u622a\u81f3\u76ee\u524d\u4e3a\u6b62\uff0cYatCPU \u9879\u76ee\u5305\u542b\u6216\u8ba1\u5212\u5305\u542b\u4ee5\u4e0b\u7279\u5f81\uff1a \u4f7f\u7528 Chisel \u5b9e\u73b0 RV32I \u6307\u4ee4\u96c6 \u589e\u52a0 RV64 \u7b49\u66f4\u591a\u6307\u4ee4\u96c6 \u4e09\u7ea7\u6d41\u6c34\u7ebf \u652f\u6301\u5168 Linux/WSL \u5f00\u53d1\u73af\u5883 \u81ea\u52a8\u5316\u8bc4\u6d4b \u81ea\u52a8\u5316\u70e7\u677f \u652f\u6301\u9ad8\u6821\u6570\u7535\u6559\u5b66\u5e38\u7528\u7684 Basys3 \u5f00\u53d1\u677f \u79fb\u690d\u5230\u66f4\u591a\u7684\u5f00\u53d1\u677f\uff0c\u5982 ZedBoard \u7b49 VGA \u8f93\u51fa\uff0c\u663e\u793a\u66f4\u591a\u7684\u8c03\u8bd5\u4fe1\u606f \u8fd0\u884c C \u8bed\u8a00\u7f16\u8bd1\u7684\u7a0b\u5e8f \u901a\u8fc7 RISC-V \u6307\u4ee4\u517c\u5bb9\u6027\u6d4b\u8bd5 \u8fd0\u884c CoreMark \u542f\u52a8\u64cd\u4f5c\u7cfb\u7edf FreeRTOS Yat-sen OS OpenHarmony LiteOS-A Linux Kernel Debian \u5b8c\u5584\u4e14\u9002\u7528\u4e8e\u96f6\u57fa\u7840\u65b0\u751f\u7684\u6587\u6863 \u57fa\u4e8e YatCPU \u8bbe\u8ba1\u66f4\u591a\u4f53\u7cfb\u7ed3\u6784\u5b9e\u9a8c \u7f13\u5b58 \u5fae\u7801\u67b6\u6784 \u591a\u53d1\u5c04 \u4e71\u5e8f\u6267\u884c \u5206\u652f\u9884\u6d4b \u591a\u6838 \u7f13\u5b58\u4e00\u81f4\u6027 \u5411\u91cf\u5904\u7406\u5668 \u6700\u540e\u8981\u611f\u8c22 \u5e7f\u7237 \u548c\u4ed6\u7684\u540c\u5b66\u4eec\uff0c\u53ef\u4ee5\u8ba9\u6211\u5728\u8bfe\u4e0a\u201c\u80e1\u4f5c\u975e\u4e3a\u201d\u3002\u8fd8\u8981\u7531\u8877\u611f\u8c22 howardlau1999 \uff0c\u652f\u6491\u4e86 YatCPU \u524d\u671f\u5f00\u53d1\u7684\u7edd\u5927\u90e8\u4efd\u5de5\u4f5c\u91cf\uff08\u6beb\u4e0d\u5938\u5f20\u5730\u8bf4\uff0c\u767d\u767d\u5728\u4e09\u5929\u5185\u5b8c\u6210\u4e86\u6211\u539f\u8ba1\u5212\u4e00\u4e2a\u6708\u7684\u5de5\u4f5c\u91cf\uff09\u3002","title":"Feature and Future"},{"location":"acknowledgement/","text":"\u81f4\u8c22 \u00b6 \u672c\u9879\u76ee\u611f\u8c22\u4ee5\u4e0b\u5404\u4f4d\u8001\u5e08\u548c\u540c\u5b66\u7684\u4ed8\u51fa\uff1a \u611f\u8c22\u9648\u5fd7\u5e7f\u526f\u6559\u6388\u63d0\u4f9b\u4e86 Pynq \u5b9e\u9a8c\u677f\u4ee5\u53ca\u5728\u4ed6\u7684\u8bfe\u5802\u4e0a\u63a8\u5e7f\u672c\u9879\u76ee\u3002 \u611f\u8c22\u5218\u7693\u94e7\u540c\u5b66\u5b8c\u6210\u4e86\u521d\u671f\u5927\u90e8\u5206\u7684\u5de5\u4f5c\uff0c\u5b9e\u73b0\u4e86\u5e26\u4e2d\u65ad\u3001\u603b\u7ebf\u7684\u4e09\u7ea7\u6d41\u6c34\u7ebf CPU\uff0c\u7f16\u5199\u4e86\u57fa\u672c\u7684\u6d4b\u8bd5\u7a0b\u5e8f\u548c Verilator \u4e3b\u7a0b\u5e8f\u4ee3\u7801\uff0c\u63d0\u4f9b\u4e86\u81ea\u52a8\u5316\u70e7\u677f\u811a\u672c\uff0c\u4ee5\u53ca\u79fb\u690d\u5e76\u8fd0\u884c RISC-V \u5408\u89c4\u6027\u6d4b\u8bd5\u4ee5\u53ca CoreMark \u6027\u80fd\u6d4b\u8bd5\u3002\u540c\u65f6\uff0c\u4ed6\u8fd8\u53c2\u4e0e\u7f16\u5199\u4e86\u672c\u6587\u6863\u7684\u73af\u5883\u51c6\u5907\u4ee5\u53ca\u53c2\u8003\u8d44\u6599\u90e8\u5206\u3002 \u611f\u8c22\u9ec4\u707f\u5f6c\u540c\u5b66\u5728\u4e09\u7ea7\u6d41\u6c34\u7ebf CPU \u57fa\u7840\u4e0a\u5b9e\u73b0\u4e86\u5e26\u8f6c\u53d1\u529f\u80fd\u7684\u4e94\u7ea7\u6d41\u6c34\u7ebf CPU\u3002 \u611f\u8c22 \u5434\u574e \u540c\u5b66\u53c2\u4e0e\u7f16\u5199\u6587\u6863\u4e2d\u73af\u5883\u51c6\u5907\u4ee5\u53ca\u5b9e\u9a8c\u8bbe\u8ba1\u90e8\u5206\uff0c\u4ee5\u53ca SYsU \u79fb\u690d\u3002 \u611f\u8c22\u5f20\u94a7\u5b87\u540c\u5b66\u53c2\u4e0e\u7f16\u5199\u4e86\u6587\u6863\u4e2d\u5173\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u7684\u90e8\u5206\u3002","title":"\u81f4\u8c22"},{"location":"acknowledgement/#\u81f4\u8c22","text":"\u672c\u9879\u76ee\u611f\u8c22\u4ee5\u4e0b\u5404\u4f4d\u8001\u5e08\u548c\u540c\u5b66\u7684\u4ed8\u51fa\uff1a \u611f\u8c22\u9648\u5fd7\u5e7f\u526f\u6559\u6388\u63d0\u4f9b\u4e86 Pynq \u5b9e\u9a8c\u677f\u4ee5\u53ca\u5728\u4ed6\u7684\u8bfe\u5802\u4e0a\u63a8\u5e7f\u672c\u9879\u76ee\u3002 \u611f\u8c22\u5218\u7693\u94e7\u540c\u5b66\u5b8c\u6210\u4e86\u521d\u671f\u5927\u90e8\u5206\u7684\u5de5\u4f5c\uff0c\u5b9e\u73b0\u4e86\u5e26\u4e2d\u65ad\u3001\u603b\u7ebf\u7684\u4e09\u7ea7\u6d41\u6c34\u7ebf CPU\uff0c\u7f16\u5199\u4e86\u57fa\u672c\u7684\u6d4b\u8bd5\u7a0b\u5e8f\u548c Verilator \u4e3b\u7a0b\u5e8f\u4ee3\u7801\uff0c\u63d0\u4f9b\u4e86\u81ea\u52a8\u5316\u70e7\u677f\u811a\u672c\uff0c\u4ee5\u53ca\u79fb\u690d\u5e76\u8fd0\u884c RISC-V \u5408\u89c4\u6027\u6d4b\u8bd5\u4ee5\u53ca CoreMark \u6027\u80fd\u6d4b\u8bd5\u3002\u540c\u65f6\uff0c\u4ed6\u8fd8\u53c2\u4e0e\u7f16\u5199\u4e86\u672c\u6587\u6863\u7684\u73af\u5883\u51c6\u5907\u4ee5\u53ca\u53c2\u8003\u8d44\u6599\u90e8\u5206\u3002 \u611f\u8c22\u9ec4\u707f\u5f6c\u540c\u5b66\u5728\u4e09\u7ea7\u6d41\u6c34\u7ebf CPU \u57fa\u7840\u4e0a\u5b9e\u73b0\u4e86\u5e26\u8f6c\u53d1\u529f\u80fd\u7684\u4e94\u7ea7\u6d41\u6c34\u7ebf CPU\u3002 \u611f\u8c22 \u5434\u574e \u540c\u5b66\u53c2\u4e0e\u7f16\u5199\u6587\u6863\u4e2d\u73af\u5883\u51c6\u5907\u4ee5\u53ca\u5b9e\u9a8c\u8bbe\u8ba1\u90e8\u5206\uff0c\u4ee5\u53ca SYsU \u79fb\u690d\u3002 \u611f\u8c22\u5f20\u94a7\u5b87\u540c\u5b66\u53c2\u4e0e\u7f16\u5199\u4e86\u6587\u6863\u4e2d\u5173\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u7684\u90e8\u5206\u3002","title":"\u81f4\u8c22"},{"location":"appendix/","text":"\u7b80\u4ecb \u00b6 \u672c\u7ae0\u5c06\u4ecb\u7ecd\u4e00\u4e9b\u4e0e\u8bfe\u7a0b\u76f8\u5173\u6027\u4e0d\u5927\u7684\u6269\u5c55\u9605\u8bfb\u6750\u6599\u3002","title":"\u7b80\u4ecb"},{"location":"appendix/#\u7b80\u4ecb","text":"\u672c\u7ae0\u5c06\u4ecb\u7ecd\u4e00\u4e9b\u4e0e\u8bfe\u7a0b\u76f8\u5173\u6027\u4e0d\u5927\u7684\u6269\u5c55\u9605\u8bfb\u6750\u6599\u3002","title":"\u7b80\u4ecb"},{"location":"faq/","text":"\u5e38\u89c1\u95ee\u9898 \u00b6 By: howardlau1999 \u4e3a\u4ec0\u4e48\u6211\u5728 Chisel \u91cc\u7f16\u5199\u7684\u6a21\u5757/IO \u7aef\u53e3/\u5bc4\u5b58\u5668\u5728\u751f\u6210\u7684 Verilog \u4ee3\u7801\uff08\u6216\u6ce2\u5f62\u56fe\uff09\u91cc\u627e\u4e0d\u5230\uff1f \u7531\u4e8e Chisel \u662f\u5148\u751f\u6210 FIRRTL \u4ee3\u7801\uff0c\u7136\u540e\u5bf9 FIRRTL \u4ee3\u7801\u8fdb\u884c\u903b\u8f91\u7b80\u5316/\u5e38\u91cf\u4f20\u64ad/\u6b7b\u4ee3\u7801\u6d88\u9664\u7b49\u4f18\u5316\uff0c\u6700\u540e\u518d\u6839\u636e\u4f18\u5316\u540e\u7684 FIRRTL \u4ee3\u7801\u751f\u6210 Verilog \u4ee3\u7801\uff0c\u5982\u679c\u4f60\u5728 Chisel \u4e2d\u7f16\u5199\u7684\u6a21\u5757/IO \u7aef\u53e3/\u5bc4\u5b58\u5668\u5728\u751f\u6210\u7684 Verilog \u4ee3\u7801\u91cc\u627e\u4e0d\u5230\uff0c\u8bf7\u68c0\u67e5\u4e00\u4e0b\u4f60\u662f\u4e0d\u662f\u5fd8\u8bb0\u8fde\u63a5\u6a21\u5757\uff0c\u6216\u8005\u4f60\u7684\u903b\u8f91\u662f\u5426\u6709\u95ee\u9898\uff0c\u5bfc\u81f4\u67d0\u4e2a\u5bc4\u5b58\u5668\u7684\u503c\u4e3a\u5e38\u91cf\u7b49\u3002 \u62a5\u9519 Exception in thread \"main\" firrtl.passes.CheckInitialization$RefNotInitializedException: @[Top.scala 22:19] : [module Top] Reference cpu is not fully initialized.: cpu.io.interrupt_flag <= VOID \u662f\u4ec0\u4e48\u610f\u601d\uff1f \u8bf4\u660e\u4f60\u7684\u8fd9\u4e2a\u6a21\u5757\u7684 IO \u7aef\u53e3\u60ac\u7a7a\u4e86\uff0c\u6216\u8005\u5728\u67d0\u4e9b\u903b\u8f91\u5206\u652f\u91cc\u6ca1\u6709\u8d4b\u503c\u3002\u8bf7\u68c0\u67e5\u4e00\u4e0b\u62a5\u9519\u6d89\u53ca\u7684\u7aef\u53e3\u662f\u4e0d\u662f\u5728\u6240\u6709\u53ef\u80fd\u7684\u903b\u8f91\u5206\u652f\u91cc\u90fd\u88ab\u8d4b\u503c/\u8fde\u63a5\u4e86\u3002","title":"FAQ"},{"location":"faq/#\u5e38\u89c1\u95ee\u9898","text":"By: howardlau1999 \u4e3a\u4ec0\u4e48\u6211\u5728 Chisel \u91cc\u7f16\u5199\u7684\u6a21\u5757/IO \u7aef\u53e3/\u5bc4\u5b58\u5668\u5728\u751f\u6210\u7684 Verilog \u4ee3\u7801\uff08\u6216\u6ce2\u5f62\u56fe\uff09\u91cc\u627e\u4e0d\u5230\uff1f \u7531\u4e8e Chisel \u662f\u5148\u751f\u6210 FIRRTL \u4ee3\u7801\uff0c\u7136\u540e\u5bf9 FIRRTL \u4ee3\u7801\u8fdb\u884c\u903b\u8f91\u7b80\u5316/\u5e38\u91cf\u4f20\u64ad/\u6b7b\u4ee3\u7801\u6d88\u9664\u7b49\u4f18\u5316\uff0c\u6700\u540e\u518d\u6839\u636e\u4f18\u5316\u540e\u7684 FIRRTL \u4ee3\u7801\u751f\u6210 Verilog \u4ee3\u7801\uff0c\u5982\u679c\u4f60\u5728 Chisel \u4e2d\u7f16\u5199\u7684\u6a21\u5757/IO \u7aef\u53e3/\u5bc4\u5b58\u5668\u5728\u751f\u6210\u7684 Verilog \u4ee3\u7801\u91cc\u627e\u4e0d\u5230\uff0c\u8bf7\u68c0\u67e5\u4e00\u4e0b\u4f60\u662f\u4e0d\u662f\u5fd8\u8bb0\u8fde\u63a5\u6a21\u5757\uff0c\u6216\u8005\u4f60\u7684\u903b\u8f91\u662f\u5426\u6709\u95ee\u9898\uff0c\u5bfc\u81f4\u67d0\u4e2a\u5bc4\u5b58\u5668\u7684\u503c\u4e3a\u5e38\u91cf\u7b49\u3002 \u62a5\u9519 Exception in thread \"main\" firrtl.passes.CheckInitialization$RefNotInitializedException: @[Top.scala 22:19] : [module Top] Reference cpu is not fully initialized.: cpu.io.interrupt_flag <= VOID \u662f\u4ec0\u4e48\u610f\u601d\uff1f \u8bf4\u660e\u4f60\u7684\u8fd9\u4e2a\u6a21\u5757\u7684 IO \u7aef\u53e3\u60ac\u7a7a\u4e86\uff0c\u6216\u8005\u5728\u67d0\u4e9b\u903b\u8f91\u5206\u652f\u91cc\u6ca1\u6709\u8d4b\u503c\u3002\u8bf7\u68c0\u67e5\u4e00\u4e0b\u62a5\u9519\u6d89\u53ca\u7684\u7aef\u53e3\u662f\u4e0d\u662f\u5728\u6240\u6709\u53ef\u80fd\u7684\u903b\u8f91\u5206\u652f\u91cc\u90fd\u88ab\u8d4b\u503c/\u8fde\u63a5\u4e86\u3002","title":"\u5e38\u89c1\u95ee\u9898"},{"location":"getting-started/","text":"\u5f00\u59cb\u4e4b\u524d \u00b6 By: howardlau1999 \u5728\u5f00\u59cb\u8270\u82e6\u7684\u5b9e\u9a8c\u65c5\u9014\u4e4b\u524d\uff0c\u8bf7\u5148\u5728\u5c71\u811a\u5c0f\u61a9\u4e00\u4e0b\uff0c\u4ef0\u671b\u4f60\u5373\u5c06\u6500\u767b\u7684\u9ad8\u5cf0\u5427\u3002\u6216\u8bb8\u4f60\u5df2\u7ecf\u4ece\u90a3\u4e9b\u5df2\u7ecf\u201c\u957f\u5f81\u201d\u56de\u6765\u7684\u524d\u8f88\u53e3\u4e2d\u5f97\u77e5\uff0c\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u662f\u4e00\u95e8\u975e\u5e38\u96be\u3001\u5f88\u82b1\u65f6\u95f4\u7684\u4e00\u95e8\u4e13\u4e1a\u8bfe\uff0c\u800c\u914d\u5957\u7684\u8ba1\u7ec4\u5b9e\u9a8c\u8bfe\u66f4\u662f\u5730\u72f1\u822c\u7684\u5b58\u5728\u3002\u4e0d\u5e78\u7684\u662f\uff0c\u4ed6\u4eec\u7684\u7ecf\u9a8c\u4e4b\u8c08\u662f\u5bf9\u7684\uff0c\u800c\u4e14\uff0c\u4f5c\u4e3a\u6539\u9769\u7684\u51b2\u950b\u5175\uff0c\u4f60\u4eec\u5c06\u8981\u9762\u5bf9\u524d\u8f88\u4eec\u4e0d\u66fe\u63a5\u89e6\u8fc7\u7684\u66f4\u6df1\u5965\u7684\u5b9e\u9a8c\u5185\u5bb9\uff0c\u5176\u4e2d\u7684\u6311\u6218\u53ef\u60f3\u800c\u77e5\u3002 \u8ba1\u7b97\u673a\u662f\u4e00\u95e8\u6781\u5176\u6ce8\u91cd\u5b9e\u8df5\u7684\u4e13\u4e1a\u3002\u201c\u7eb8\u4e0a\u5f97\u6765\u7ec8\u89c9\u6d45\uff0c\u7edd\u77e5\u6b64\u4e8b\u8981\u8eac\u884c\u201d\uff0c\u5bf9\u4e8e\u8ba1\u7b97\u673a\u4e13\u4e1a\u7684\u540c\u5b66\u66f4\u662f\u5982\u6b64\u3002\u5728\u8fd9\u95e8\u8ba1\u7ec4\u5b9e\u9a8c\u8bfe\u91cc\uff0c\u4f60\u5c06\u4f1a\u628a\u8bfe\u672c\u4e0a\u62bd\u8c61\u7684\u6d41\u6c34\u7ebf\u3001\u7f13\u5b58\u7b49\u6982\u5ff5\uff0c\u4eb2\u624b\u53d8\u4e3a\u4f60\u624b\u91cc\u7684\u4e00\u53f0\u8ff7\u4f60\u8ba1\u7b97\u673a\u3002\u5c06\u7406\u8bba\u4ed8\u8bf8\u5b9e\u8df5\uff0c\u5728\u5b9e\u8df5\u4e2d\u5347\u534e\u7406\u8bba\u3002 \u672c\u5b9e\u9a8c\u4ece 2022 \u5e74\u5f00\u59cb\uff0c\u5c06\u4e00\u6539\u4e4b\u524d\u7684 MIPS \u5b9e\u9a8c\uff0c\u91c7\u7528\u66f4\u5148\u8fdb\u7684\u5f00\u6e90 ISA\u2014\u2014 RISC-V \u3002\u540c\u65f6\uff0c\u6bd4\u8d77\u76f4\u63a5\u7f16\u5199\u6666\u6da9\u96be\u61c2\u7684 Verilog \u4ee3\u7801\uff0c\u4f60\u5c06\u4f7f\u7528\u5bf9\u8ba1\u7b97\u673a\u4e13\u4e1a\u66f4\u53cb\u597d\uff0c\u4e0a\u624b\u96be\u5ea6\u4e5f\u66f4\u4f4e\u7684 Chisel \u786c\u4ef6\u63cf\u8ff0\u8bed\u8a00 \u3002\u4e2d\u79d1\u9662\u8ba1\u7b97\u6240\u7684\u5f00\u6e90 RISC-V \u5904\u7406\u5668\u2014\u2014 \u9999\u5c71\u5904\u7406\u5668 \u540c\u6837\u4f7f\u7528\u4e86 Chisel \u786c\u4ef6\u63cf\u8ff0\u8bed\u8a00\u3002\u8fd8\u6709\u4e00\u4e2a\u597d\u6d88\u606f\u662f\uff0c\u4f60\u5c06\u4e0d\u518d\u9700\u8981\u4ece\u96f6\u5f00\u59cb\u642d\u5efa CPU\uff0c\u800c\u662f\u53ef\u4ee5\u7ad9\u5728\u5de8\u4eba\u7684\u80a9\u8180\u4e0a\uff0c\u57fa\u4e8e\u5df2\u6709\u7684\u4ee3\u7801\u6846\u67b6\u5f00\u5c55\u5b9e\u9a8c\u3002\u4f60\u5c06\u4f1a\u6709\u66f4\u591a\u7684\u65f6\u95f4\u6765\u8fdb\u4e00\u6b65\u63a2\u7d22\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u3002\u4f60\u53ef\u4ee5\u4ece\u6df1\u5ea6\u4e0a\u6316\u6398\u2014\u2014\u4f8b\u5982\u5c06\u6211\u4eec\u7684\u4e09\u7ea7\u6d41\u6c34\u7ebf\u6539\u4e3a\u66f4\u957f\u7684\u6d41\u6c34\u7ebf\uff0c\u751a\u81f3\u652f\u6301\u591a\u53d1\u5c04\u4ee5\u53ca\u4e71\u5e8f\u6267\u884c\u3002\u4f60\u4e5f\u53ef\u4ee5\u4ece\u5e7f\u5ea6\u4e0a\u6316\u6398\uff0c\u5c1d\u8bd5\u5b9e\u73b0\u66f4\u591a\u7684\u6307\u4ee4\u96c6\uff0c\u4f8b\u5982\u4e58\u9664\u6cd5\u534f\u5904\u7406\u5668\uff0c\u6216\u8005\u7ed9 YatCPU \u6dfb\u52a0\u4e0d\u540c\u7684\u529f\u80fd\uff0c\u6bd4\u5982\u591a\u7ea7\u7f13\u5b58\u6216\u8005\u865a\u62df\u5185\u5b58\u3002 \u62bd\u8c61\u601d\u7ef4\u4e0e\u7cfb\u7edf\u601d\u7ef4\u5c06\u8d2f\u7a7f\u8ba1\u7b97\u673a\u4e13\u4e1a\u8bfe\u7684\u5b66\u4e60\u8fc7\u7a0b\uff0c\u800c\u8fd9\u4e24\u79cd\u601d\u7ef4\u57f9\u517b\u7684\u8d77\u70b9\u6b63\u662f\u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5\u548c\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u3002\u5982\u679c\u8bf4\u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5\u662f\u8ba1\u7b97\u673a\u7684\u7075\u9b42\uff0c\u90a3\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u5c31\u662f\u8ba1\u7b97\u673a\u7684\u8089\u4f53\u3002\u8ba1\u7ec4\u4e0d\u4ec5\u662f\u8ba1\u7b97\u673a\u4e13\u4e1a\u7684\u6838\u5fc3\u8bfe\u7a0b\u4e4b\u4e00\uff0c\u4e5f\u662f\u8ba1\u7b97\u673a\u79d1\u73ed\u4e0e\u975e\u79d1\u73ed\u4e4b\u95f4\u5c11\u6709\u7684\u533a\u522b\u3002\u800c\u4e14\uff0c\u8ba1\u7ec4\u5e76\u4e0d\u662f\u4e00\u95e8\u5b64\u7acb\u7684\u8bfe\u7a0b\uff0c\u540e\u7eed\u7684\u64cd\u4f5c\u7cfb\u7edf\u548c\u8ba1\u7b97\u673a\u7f51\u7edc\u7b49\u6838\u5fc3\u4e13\u4e1a\u8bfe\uff0c\u4e5f\u5c06\u4e0e\u8ba1\u7ec4\u6709\u7740\u5343\u4e1d\u4e07\u7f15\u7684\u8054\u7cfb\u3002\u53ef\u4ee5\u8bf4\uff0c\u4f60\u5bf9\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u7684\u7406\u89e3\u5c06\u5f88\u5927\u7a0b\u5ea6\u4e0a\u5f71\u54cd\u4f60\u7f16\u7a0b\u5b9e\u73b0\u7684\u6c34\u5e73\uff0c\u4e5f\u662f\u8861\u91cf\u4f60\u7684\u8ba1\u7b97\u673a\u6c34\u5e73\u7684\u4e00\u4e2a\u91cd\u8981\u6807\u51c6\u3002\u66f4\u4e3a\u91cd\u8981\u7684\u662f\uff0c\u5e0c\u671b\u4f60\u80fd\u901a\u8fc7\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u7684\u5b66\u4e60\uff0c\u5efa\u7acb\u8d77\u5bf9\u8ba1\u7b97\u673a\u7cfb\u7edf\u7684\u5927\u5c40\u89c2\uff0c\u611f\u53d7\u8ba1\u7b97\u673a\u4e0d\u540c\u7ec4\u4ef6\u7684\u5171\u6027\u4e0e\u7279\u70b9\uff0c\u800c\u4e0d\u662f\u8ff7\u5931\u5728\u832b\u832b\u7684\u7ec6\u8282\u4e0e\u5b9e\u73b0\u4e4b\u4e2d\u3002 \u5c3d\u7ba1\u63a5\u4e0b\u6765\u7684\u65c5\u9014\u5c06\u662f\u6f2b\u957f\u4e14\u8270\u82e6\u7684\uff0c\u8bf7\u4f60\u76f8\u4fe1\u201c\u4e16\u4e4b\u5947\u4f1f\u3001\u7470\u602a\u3001\u975e\u5e38\u4e4b\u89c2\uff0c\u5e38\u5728\u9669\u8fdc\u201d\uff0c\u7ecf\u8fc7\u4e00\u756a\u87ba\u65cb\u5f0f\u4e0a\u5347\u7684\u5b66\u4e60\uff0c\u4f60\u4f1a\u5bf9\u4f60\u6bcf\u5929\u4f7f\u7528\u7684\u8ba1\u7b97\u673a\uff0c\u751a\u81f3\u624b\u673a\u548c\u5e73\u677f\uff0c\u6709\u4e00\u756a\u4e0d\u540c\u7684\u8ba4\u8bc6\u3002\u5982\u679c\u5728\u8def\u9014\u4e2d\u9047\u5230\u4e86\u9669\u963b\uff0c\u8bf7\u4e0d\u8981\u5fd8\u8bb0\u4f60\u7684\u8eab\u8fb9\u8fd8\u6709\u540c\u4f34\u548c\u8001\u5e08\uff0c\u4ed6\u4eec\u5c06\u4e00\u540c\u966a\u4f34\u4f60\u514b\u670d\u56f0\u96be\uff0c\u8d70\u5b8c\u8fd9\u6bb5\u8346\u68d8\u4e4b\u8def\uff1b\u4e5f\u4e0d\u8981\u5fd8\u8bb0\u5728\u529b\u6240\u80fd\u53ca\u7684\u65f6\u5019\uff0c\u4f38\u51fa\u4f60\u7684\u63f4\u624b\u3002 \u73b0\u5728\uff0c\u5f00\u59cb \u51c6\u5907\u4f60\u7684\u5b9e\u9a8c\u73af\u5883 \uff0c\u6211\u4eec\u6574\u88c5\u5f85\u53d1\uff01","title":"\u5f00\u59cb\u4e4b\u524d"},{"location":"getting-started/#\u5f00\u59cb\u4e4b\u524d","text":"By: howardlau1999 \u5728\u5f00\u59cb\u8270\u82e6\u7684\u5b9e\u9a8c\u65c5\u9014\u4e4b\u524d\uff0c\u8bf7\u5148\u5728\u5c71\u811a\u5c0f\u61a9\u4e00\u4e0b\uff0c\u4ef0\u671b\u4f60\u5373\u5c06\u6500\u767b\u7684\u9ad8\u5cf0\u5427\u3002\u6216\u8bb8\u4f60\u5df2\u7ecf\u4ece\u90a3\u4e9b\u5df2\u7ecf\u201c\u957f\u5f81\u201d\u56de\u6765\u7684\u524d\u8f88\u53e3\u4e2d\u5f97\u77e5\uff0c\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u662f\u4e00\u95e8\u975e\u5e38\u96be\u3001\u5f88\u82b1\u65f6\u95f4\u7684\u4e00\u95e8\u4e13\u4e1a\u8bfe\uff0c\u800c\u914d\u5957\u7684\u8ba1\u7ec4\u5b9e\u9a8c\u8bfe\u66f4\u662f\u5730\u72f1\u822c\u7684\u5b58\u5728\u3002\u4e0d\u5e78\u7684\u662f\uff0c\u4ed6\u4eec\u7684\u7ecf\u9a8c\u4e4b\u8c08\u662f\u5bf9\u7684\uff0c\u800c\u4e14\uff0c\u4f5c\u4e3a\u6539\u9769\u7684\u51b2\u950b\u5175\uff0c\u4f60\u4eec\u5c06\u8981\u9762\u5bf9\u524d\u8f88\u4eec\u4e0d\u66fe\u63a5\u89e6\u8fc7\u7684\u66f4\u6df1\u5965\u7684\u5b9e\u9a8c\u5185\u5bb9\uff0c\u5176\u4e2d\u7684\u6311\u6218\u53ef\u60f3\u800c\u77e5\u3002 \u8ba1\u7b97\u673a\u662f\u4e00\u95e8\u6781\u5176\u6ce8\u91cd\u5b9e\u8df5\u7684\u4e13\u4e1a\u3002\u201c\u7eb8\u4e0a\u5f97\u6765\u7ec8\u89c9\u6d45\uff0c\u7edd\u77e5\u6b64\u4e8b\u8981\u8eac\u884c\u201d\uff0c\u5bf9\u4e8e\u8ba1\u7b97\u673a\u4e13\u4e1a\u7684\u540c\u5b66\u66f4\u662f\u5982\u6b64\u3002\u5728\u8fd9\u95e8\u8ba1\u7ec4\u5b9e\u9a8c\u8bfe\u91cc\uff0c\u4f60\u5c06\u4f1a\u628a\u8bfe\u672c\u4e0a\u62bd\u8c61\u7684\u6d41\u6c34\u7ebf\u3001\u7f13\u5b58\u7b49\u6982\u5ff5\uff0c\u4eb2\u624b\u53d8\u4e3a\u4f60\u624b\u91cc\u7684\u4e00\u53f0\u8ff7\u4f60\u8ba1\u7b97\u673a\u3002\u5c06\u7406\u8bba\u4ed8\u8bf8\u5b9e\u8df5\uff0c\u5728\u5b9e\u8df5\u4e2d\u5347\u534e\u7406\u8bba\u3002 \u672c\u5b9e\u9a8c\u4ece 2022 \u5e74\u5f00\u59cb\uff0c\u5c06\u4e00\u6539\u4e4b\u524d\u7684 MIPS \u5b9e\u9a8c\uff0c\u91c7\u7528\u66f4\u5148\u8fdb\u7684\u5f00\u6e90 ISA\u2014\u2014 RISC-V \u3002\u540c\u65f6\uff0c\u6bd4\u8d77\u76f4\u63a5\u7f16\u5199\u6666\u6da9\u96be\u61c2\u7684 Verilog \u4ee3\u7801\uff0c\u4f60\u5c06\u4f7f\u7528\u5bf9\u8ba1\u7b97\u673a\u4e13\u4e1a\u66f4\u53cb\u597d\uff0c\u4e0a\u624b\u96be\u5ea6\u4e5f\u66f4\u4f4e\u7684 Chisel \u786c\u4ef6\u63cf\u8ff0\u8bed\u8a00 \u3002\u4e2d\u79d1\u9662\u8ba1\u7b97\u6240\u7684\u5f00\u6e90 RISC-V \u5904\u7406\u5668\u2014\u2014 \u9999\u5c71\u5904\u7406\u5668 \u540c\u6837\u4f7f\u7528\u4e86 Chisel \u786c\u4ef6\u63cf\u8ff0\u8bed\u8a00\u3002\u8fd8\u6709\u4e00\u4e2a\u597d\u6d88\u606f\u662f\uff0c\u4f60\u5c06\u4e0d\u518d\u9700\u8981\u4ece\u96f6\u5f00\u59cb\u642d\u5efa CPU\uff0c\u800c\u662f\u53ef\u4ee5\u7ad9\u5728\u5de8\u4eba\u7684\u80a9\u8180\u4e0a\uff0c\u57fa\u4e8e\u5df2\u6709\u7684\u4ee3\u7801\u6846\u67b6\u5f00\u5c55\u5b9e\u9a8c\u3002\u4f60\u5c06\u4f1a\u6709\u66f4\u591a\u7684\u65f6\u95f4\u6765\u8fdb\u4e00\u6b65\u63a2\u7d22\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u3002\u4f60\u53ef\u4ee5\u4ece\u6df1\u5ea6\u4e0a\u6316\u6398\u2014\u2014\u4f8b\u5982\u5c06\u6211\u4eec\u7684\u4e09\u7ea7\u6d41\u6c34\u7ebf\u6539\u4e3a\u66f4\u957f\u7684\u6d41\u6c34\u7ebf\uff0c\u751a\u81f3\u652f\u6301\u591a\u53d1\u5c04\u4ee5\u53ca\u4e71\u5e8f\u6267\u884c\u3002\u4f60\u4e5f\u53ef\u4ee5\u4ece\u5e7f\u5ea6\u4e0a\u6316\u6398\uff0c\u5c1d\u8bd5\u5b9e\u73b0\u66f4\u591a\u7684\u6307\u4ee4\u96c6\uff0c\u4f8b\u5982\u4e58\u9664\u6cd5\u534f\u5904\u7406\u5668\uff0c\u6216\u8005\u7ed9 YatCPU \u6dfb\u52a0\u4e0d\u540c\u7684\u529f\u80fd\uff0c\u6bd4\u5982\u591a\u7ea7\u7f13\u5b58\u6216\u8005\u865a\u62df\u5185\u5b58\u3002 \u62bd\u8c61\u601d\u7ef4\u4e0e\u7cfb\u7edf\u601d\u7ef4\u5c06\u8d2f\u7a7f\u8ba1\u7b97\u673a\u4e13\u4e1a\u8bfe\u7684\u5b66\u4e60\u8fc7\u7a0b\uff0c\u800c\u8fd9\u4e24\u79cd\u601d\u7ef4\u57f9\u517b\u7684\u8d77\u70b9\u6b63\u662f\u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5\u548c\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u3002\u5982\u679c\u8bf4\u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5\u662f\u8ba1\u7b97\u673a\u7684\u7075\u9b42\uff0c\u90a3\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u5c31\u662f\u8ba1\u7b97\u673a\u7684\u8089\u4f53\u3002\u8ba1\u7ec4\u4e0d\u4ec5\u662f\u8ba1\u7b97\u673a\u4e13\u4e1a\u7684\u6838\u5fc3\u8bfe\u7a0b\u4e4b\u4e00\uff0c\u4e5f\u662f\u8ba1\u7b97\u673a\u79d1\u73ed\u4e0e\u975e\u79d1\u73ed\u4e4b\u95f4\u5c11\u6709\u7684\u533a\u522b\u3002\u800c\u4e14\uff0c\u8ba1\u7ec4\u5e76\u4e0d\u662f\u4e00\u95e8\u5b64\u7acb\u7684\u8bfe\u7a0b\uff0c\u540e\u7eed\u7684\u64cd\u4f5c\u7cfb\u7edf\u548c\u8ba1\u7b97\u673a\u7f51\u7edc\u7b49\u6838\u5fc3\u4e13\u4e1a\u8bfe\uff0c\u4e5f\u5c06\u4e0e\u8ba1\u7ec4\u6709\u7740\u5343\u4e1d\u4e07\u7f15\u7684\u8054\u7cfb\u3002\u53ef\u4ee5\u8bf4\uff0c\u4f60\u5bf9\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u7684\u7406\u89e3\u5c06\u5f88\u5927\u7a0b\u5ea6\u4e0a\u5f71\u54cd\u4f60\u7f16\u7a0b\u5b9e\u73b0\u7684\u6c34\u5e73\uff0c\u4e5f\u662f\u8861\u91cf\u4f60\u7684\u8ba1\u7b97\u673a\u6c34\u5e73\u7684\u4e00\u4e2a\u91cd\u8981\u6807\u51c6\u3002\u66f4\u4e3a\u91cd\u8981\u7684\u662f\uff0c\u5e0c\u671b\u4f60\u80fd\u901a\u8fc7\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u7684\u5b66\u4e60\uff0c\u5efa\u7acb\u8d77\u5bf9\u8ba1\u7b97\u673a\u7cfb\u7edf\u7684\u5927\u5c40\u89c2\uff0c\u611f\u53d7\u8ba1\u7b97\u673a\u4e0d\u540c\u7ec4\u4ef6\u7684\u5171\u6027\u4e0e\u7279\u70b9\uff0c\u800c\u4e0d\u662f\u8ff7\u5931\u5728\u832b\u832b\u7684\u7ec6\u8282\u4e0e\u5b9e\u73b0\u4e4b\u4e2d\u3002 \u5c3d\u7ba1\u63a5\u4e0b\u6765\u7684\u65c5\u9014\u5c06\u662f\u6f2b\u957f\u4e14\u8270\u82e6\u7684\uff0c\u8bf7\u4f60\u76f8\u4fe1\u201c\u4e16\u4e4b\u5947\u4f1f\u3001\u7470\u602a\u3001\u975e\u5e38\u4e4b\u89c2\uff0c\u5e38\u5728\u9669\u8fdc\u201d\uff0c\u7ecf\u8fc7\u4e00\u756a\u87ba\u65cb\u5f0f\u4e0a\u5347\u7684\u5b66\u4e60\uff0c\u4f60\u4f1a\u5bf9\u4f60\u6bcf\u5929\u4f7f\u7528\u7684\u8ba1\u7b97\u673a\uff0c\u751a\u81f3\u624b\u673a\u548c\u5e73\u677f\uff0c\u6709\u4e00\u756a\u4e0d\u540c\u7684\u8ba4\u8bc6\u3002\u5982\u679c\u5728\u8def\u9014\u4e2d\u9047\u5230\u4e86\u9669\u963b\uff0c\u8bf7\u4e0d\u8981\u5fd8\u8bb0\u4f60\u7684\u8eab\u8fb9\u8fd8\u6709\u540c\u4f34\u548c\u8001\u5e08\uff0c\u4ed6\u4eec\u5c06\u4e00\u540c\u966a\u4f34\u4f60\u514b\u670d\u56f0\u96be\uff0c\u8d70\u5b8c\u8fd9\u6bb5\u8346\u68d8\u4e4b\u8def\uff1b\u4e5f\u4e0d\u8981\u5fd8\u8bb0\u5728\u529b\u6240\u80fd\u53ca\u7684\u65f6\u5019\uff0c\u4f38\u51fa\u4f60\u7684\u63f4\u624b\u3002 \u73b0\u5728\uff0c\u5f00\u59cb \u51c6\u5907\u4f60\u7684\u5b9e\u9a8c\u73af\u5883 \uff0c\u6211\u4eec\u6574\u88c5\u5f85\u53d1\uff01","title":"\u5f00\u59cb\u4e4b\u524d"},{"location":"getting-started/compliance-test/","text":"\u914d\u7f6e RISC-V \u5408\u89c4\u6027\u6d4b\u8bd5 \u00b6 RISC-V \u5408\u89c4\u6027\u6d4b\u8bd5\u4ec5\u652f\u6301\u4f7f\u7528 Makefile \u4e0e gcc \u7f16\u8bd1\u5668\u8fd0\u884c\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f Windows\uff0c\u90a3\u4e48\u4f60\u5e94\u5f53\u914d\u7f6e\u597d mingw \u73af\u5883\uff0c\u4ee5\u4fbf\u8fd0\u884c\u6d4b\u8bd5\u3002\u5982\u679c\u4f60\u5df2\u7ecf\u914d\u7f6e\u597d Verilator\uff0c\u90a3\u4e48\u5408\u89c4\u6027\u6d4b\u8bd5\u5e94\u5f53\u4e5f\u53ef\u4ee5\u6b63\u5e38\u8fd0\u884c\u3002 \u7f16\u8bd1\u4eff\u771f\u5668\u4ee3\u7801 \u00b6 \u53c2\u8003 \u6ce2\u5f62\u4eff\u771f\u4e00\u8282 \u5148\u7f16\u8bd1\u51fa\u4eff\u771f\u5668\u53ef\u6267\u884c\u7a0b\u5e8f\u3002 \u514b\u9686\u5408\u89c4\u6027\u6d4b\u8bd5\u4ed3\u5e93 \u00b6 \u5408\u89c4\u6027\u6d4b\u8bd5\u4ed3\u5e93\u4f4d\u4e8e https://github.com/riscv-non-isa/riscv-arch-test \uff0c\u5728\u548c YatCPU \u540c\u7ea7\uff08\u6ce8\u610f\u4e0d\u8981\u514b\u9686\u5230 CPU \u9879\u76ee\u6587\u4ef6\u5939\u5185\uff09\u76ee\u5f55\u4e0b\u8fd0\u884c\uff1a git clone https://github.com/riscv-non-isa/riscv-arch-test \u514b\u9686\u5b8c\u6210\u540e\uff0c\u8fdb\u5165\u5408\u89c4\u6027\u6d4b\u8bd5\u4ed3\u5e93\uff0c\u914d\u7f6e\u73af\u5883\u53d8\u91cf\uff0c\u5e76\u7f16\u8bd1\u8fd0\u884c\u6d4b\u8bd5\uff1a cd riscv-arch-test export TARGET_SIM = ~/yatcpu/verilog/verilator/obj_dir/VTop export TARGETDIR = ~/yatcpu/riscv-target export RISCV_TARGET = yatcpu make","title":"\u914d\u7f6e\u5408\u89c4\u6027\u6d4b\u8bd5"},{"location":"getting-started/compliance-test/#\u914d\u7f6e-risc-v-\u5408\u89c4\u6027\u6d4b\u8bd5","text":"RISC-V \u5408\u89c4\u6027\u6d4b\u8bd5\u4ec5\u652f\u6301\u4f7f\u7528 Makefile \u4e0e gcc \u7f16\u8bd1\u5668\u8fd0\u884c\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f Windows\uff0c\u90a3\u4e48\u4f60\u5e94\u5f53\u914d\u7f6e\u597d mingw \u73af\u5883\uff0c\u4ee5\u4fbf\u8fd0\u884c\u6d4b\u8bd5\u3002\u5982\u679c\u4f60\u5df2\u7ecf\u914d\u7f6e\u597d Verilator\uff0c\u90a3\u4e48\u5408\u89c4\u6027\u6d4b\u8bd5\u5e94\u5f53\u4e5f\u53ef\u4ee5\u6b63\u5e38\u8fd0\u884c\u3002","title":"\u914d\u7f6e RISC-V \u5408\u89c4\u6027\u6d4b\u8bd5"},{"location":"getting-started/compliance-test/#\u7f16\u8bd1\u4eff\u771f\u5668\u4ee3\u7801","text":"\u53c2\u8003 \u6ce2\u5f62\u4eff\u771f\u4e00\u8282 \u5148\u7f16\u8bd1\u51fa\u4eff\u771f\u5668\u53ef\u6267\u884c\u7a0b\u5e8f\u3002","title":"\u7f16\u8bd1\u4eff\u771f\u5668\u4ee3\u7801"},{"location":"getting-started/compliance-test/#\u514b\u9686\u5408\u89c4\u6027\u6d4b\u8bd5\u4ed3\u5e93","text":"\u5408\u89c4\u6027\u6d4b\u8bd5\u4ed3\u5e93\u4f4d\u4e8e https://github.com/riscv-non-isa/riscv-arch-test \uff0c\u5728\u548c YatCPU \u540c\u7ea7\uff08\u6ce8\u610f\u4e0d\u8981\u514b\u9686\u5230 CPU \u9879\u76ee\u6587\u4ef6\u5939\u5185\uff09\u76ee\u5f55\u4e0b\u8fd0\u884c\uff1a git clone https://github.com/riscv-non-isa/riscv-arch-test \u514b\u9686\u5b8c\u6210\u540e\uff0c\u8fdb\u5165\u5408\u89c4\u6027\u6d4b\u8bd5\u4ed3\u5e93\uff0c\u914d\u7f6e\u73af\u5883\u53d8\u91cf\uff0c\u5e76\u7f16\u8bd1\u8fd0\u884c\u6d4b\u8bd5\uff1a cd riscv-arch-test export TARGET_SIM = ~/yatcpu/verilog/verilator/obj_dir/VTop export TARGETDIR = ~/yatcpu/riscv-target export RISCV_TARGET = yatcpu make","title":"\u514b\u9686\u5408\u89c4\u6027\u6d4b\u8bd5\u4ed3\u5e93"},{"location":"getting-started/coremark-benchmark/","text":"\u914d\u7f6e CoreMark \u6027\u80fd\u57fa\u51c6\u6d4b\u8bd5 \u00b6 CoreMark \u662f\u4e00\u5957\u7528\u4e8e\u8861\u91cf MCU \u548c CPU \u7b49\u8bbe\u5907\u7684\u8ba1\u7b97\u6027\u80fd\u7684\u57fa\u51c6\u6d4b\u8bd5\uff0c\u5305\u542b\u77e9\u9635\u4e58\u6cd5\u3001\u94fe\u8868\u64cd\u4f5c\u7b49\u6d4b\u8bd5\u3002CoreMark \u540c\u6837\u53ea\u80fd\u4f7f\u7528 Makefile \u8fdb\u884c\u7f16\u8bd1\uff0c\u4f46\u53ef\u4ee5\u4f7f\u7528 Clang \u7f16\u8bd1\u5668\u7f16\u8bd1\u3002 \u7f16\u8bd1\u6ce2\u5f62\u4eff\u771f\u7a0b\u5e8f \u00b6 CoreMark \u7f16\u8bd1\u51fa\u6765\u53ef\u4ee5\u50cf\u6211\u4eec\u81ea\u5df1\u5199\u7684\u7a0b\u5e8f\u4e00\u6837\u52a0\u8f7d\u5230 CPU \u8fd0\u884c\uff0c\u4e5f\u53ef\u4ee5\u5148\u5728\u7535\u8111\u6a21\u62df\u4eff\u771f\u3002\u5982\u679c\u60f3\u5728\u7535\u8111\u6a21\u62df\u4eff\u771f\uff0c\u9700\u8981\u5148\u53c2\u8003 \u6ce2\u5f62\u4eff\u771f\u4e00\u8282 \u5148\u7f16\u8bd1\u51fa\u4eff\u771f\u53ef\u6267\u884c\u7a0b\u5e8f\u3002 \u514b\u9686 CoreMark \u4ed3\u5e93 \u00b6 \u8fd9\u91cc\u540c\u6837\u5c06 CoreMark \u4ed3\u5e93\u514b\u9686\u5230\u548c\u6211\u4eec CPU \u9879\u76ee\u540c\u7ea7\uff1a git clone https://github.com/eembc/coremark \u514b\u9686\u5b8c\u6210\u540e\uff0c\u5c06 CPU \u9879\u76ee\u5185\u7684\u53ef\u79fb\u690d\u6587\u4ef6\u62f7\u8d1d\u5230 CoreMark \u76ee\u5f55\u4e2d\uff08\u6216\u521b\u5efa\u8f6f\u8fde\u63a5\uff09\uff0c\u7136\u540e\u7f16\u8bd1 CoreMark \u53ef\u6267\u884c\u6587\u4ef6\uff0c\u4f7f\u7528\u4eff\u771f\u5668\u52a0\u8f7d\u5e76\u8fd0\u884c\uff1a cp -r ~/yatcpu/coremark/yatcpu ~/coremark cd ~/coremark make PORT_DIR = yatcpu ~/yatcpu/verilog/verilator/obj_dir/VTop -instruction coremark.bin.asmbin -time 10000000000 \u8fd0\u884c\u65f6\u95f4\u4f1a\u6bd4\u8f83\u957f\uff0c\u5927\u7ea6\u9700\u8981 6 \u5206\u949f\u624d\u6709\u8f93\u51fa\u3002","title":"\u914d\u7f6e CoreMark \u6d4b\u8bd5"},{"location":"getting-started/coremark-benchmark/#\u914d\u7f6e-coremark-\u6027\u80fd\u57fa\u51c6\u6d4b\u8bd5","text":"CoreMark \u662f\u4e00\u5957\u7528\u4e8e\u8861\u91cf MCU \u548c CPU \u7b49\u8bbe\u5907\u7684\u8ba1\u7b97\u6027\u80fd\u7684\u57fa\u51c6\u6d4b\u8bd5\uff0c\u5305\u542b\u77e9\u9635\u4e58\u6cd5\u3001\u94fe\u8868\u64cd\u4f5c\u7b49\u6d4b\u8bd5\u3002CoreMark \u540c\u6837\u53ea\u80fd\u4f7f\u7528 Makefile \u8fdb\u884c\u7f16\u8bd1\uff0c\u4f46\u53ef\u4ee5\u4f7f\u7528 Clang \u7f16\u8bd1\u5668\u7f16\u8bd1\u3002","title":"\u914d\u7f6e CoreMark \u6027\u80fd\u57fa\u51c6\u6d4b\u8bd5"},{"location":"getting-started/coremark-benchmark/#\u7f16\u8bd1\u6ce2\u5f62\u4eff\u771f\u7a0b\u5e8f","text":"CoreMark \u7f16\u8bd1\u51fa\u6765\u53ef\u4ee5\u50cf\u6211\u4eec\u81ea\u5df1\u5199\u7684\u7a0b\u5e8f\u4e00\u6837\u52a0\u8f7d\u5230 CPU \u8fd0\u884c\uff0c\u4e5f\u53ef\u4ee5\u5148\u5728\u7535\u8111\u6a21\u62df\u4eff\u771f\u3002\u5982\u679c\u60f3\u5728\u7535\u8111\u6a21\u62df\u4eff\u771f\uff0c\u9700\u8981\u5148\u53c2\u8003 \u6ce2\u5f62\u4eff\u771f\u4e00\u8282 \u5148\u7f16\u8bd1\u51fa\u4eff\u771f\u53ef\u6267\u884c\u7a0b\u5e8f\u3002","title":"\u7f16\u8bd1\u6ce2\u5f62\u4eff\u771f\u7a0b\u5e8f"},{"location":"getting-started/coremark-benchmark/#\u514b\u9686-coremark-\u4ed3\u5e93","text":"\u8fd9\u91cc\u540c\u6837\u5c06 CoreMark \u4ed3\u5e93\u514b\u9686\u5230\u548c\u6211\u4eec CPU \u9879\u76ee\u540c\u7ea7\uff1a git clone https://github.com/eembc/coremark \u514b\u9686\u5b8c\u6210\u540e\uff0c\u5c06 CPU \u9879\u76ee\u5185\u7684\u53ef\u79fb\u690d\u6587\u4ef6\u62f7\u8d1d\u5230 CoreMark \u76ee\u5f55\u4e2d\uff08\u6216\u521b\u5efa\u8f6f\u8fde\u63a5\uff09\uff0c\u7136\u540e\u7f16\u8bd1 CoreMark \u53ef\u6267\u884c\u6587\u4ef6\uff0c\u4f7f\u7528\u4eff\u771f\u5668\u52a0\u8f7d\u5e76\u8fd0\u884c\uff1a cp -r ~/yatcpu/coremark/yatcpu ~/coremark cd ~/coremark make PORT_DIR = yatcpu ~/yatcpu/verilog/verilator/obj_dir/VTop -instruction coremark.bin.asmbin -time 10000000000 \u8fd0\u884c\u65f6\u95f4\u4f1a\u6bd4\u8f83\u957f\uff0c\u5927\u7ea6\u9700\u8981 6 \u5206\u949f\u624d\u6709\u8f93\u51fa\u3002","title":"\u514b\u9686 CoreMark \u4ed3\u5e93"},{"location":"getting-started/environment/","text":"\u5f00\u53d1\u73af\u5883 \u00b6 By: wu-kan \u3001 howardlau1999 \u672c\u9879\u76ee\u7ecf\u8fc7\u6d4b\u8bd5\u4e14\u53ef\u7528\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e3a\uff1a Windows 10 Debian 11 Debian 11, Windows Subsystem for Linux (WSL) macOS \u65e0\u6cd5\u70e7\u677f \u9664\u4e86 Vivado \u4e4b\u5916\uff0c\u6240\u6709\u5de5\u5177\u90fd\u53ef\u4ee5\u5728 macOS \u4e0a\u8fd0\u884c\uff0c\u4e5f\u5373\u53ef\u4ee5\u987a\u5229\u5b8c\u6210\u8f6f\u4ef6\u6d4b\u8bd5\u4ee5\u53ca\u6ce2\u5f62\u4eff\u771f\u3002\u4f46\u7531\u4e8e Vivado \u65e0\u6cd5\u5728 macOS \u4e0a\u5b89\u88c5 \uff0c\u6240\u4ee5\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f macOS \u5e76\u4e14 \u9700\u8981\u8fdb\u884c\u70e7\u677f\u5b9e\u9a8c \uff0c\u8bf7\u901a\u8fc7\u865a\u62df\u673a\u6216\u4f7f\u7528\u5176\u4ed6\u8bbe\u5907\u7b49\u65b9\u5f0f\u4f7f\u7528\u4e0a\u8ff0\u7684\u64cd\u4f5c\u7cfb\u7edf\u8fdb\u884c\u5b9e\u9a8c\u3002 \u6211\u4eec\u63d0\u4f9b\u4e24\u79cd\u98ce\u683c\u7684\u5f00\u53d1\u73af\u5883\u914d\u7f6e\u65b9\u6848\uff1a \u5bf9\u4e8e\u559c\u6b22\u4f7f\u7528 IDE \u96c6\u6210\u73af\u5883\u7684\u540c\u5b66\uff0c\u63a8\u8350\u4f7f\u7528 Windows \u914d\u7f6e\u65b9\u6cd5\u3002 \u5bf9\u4e8e\u559c\u6b22\u4f7f\u7528\u7ec8\u7aef+\u4ee3\u7801\u7f16\u8f91\u5668\u7ec4\u5408\u7684\u540c\u5b66\uff0c\u63a8\u8350\u4f7f\u7528 Linux/WSL \u914d\u7f6e\u65b9\u6cd5\uff0c\u6216\u4f7f\u7528\u6211\u4eec\u51c6\u5907\u597d\u7684 Docker \u73af\u5883\u3002 Docker \u914d\u7f6e\u65b9\u6cd5 \u00b6 \u8be5\u65b9\u6cd5\u9002\u7528\u4e8e Windows\u3001Linux \u548c macOS \u7cfb\u7edf\u3002 \u9996\u5148\u5230 Docker \u5b98\u65b9\u7f51\u7ad9 \u9009\u62e9\u5e76\u4e0b\u8f7d\u4f60\u4f7f\u7528\u7684\u64cd\u4f5c\u7cfb\u7edf\u6240\u5bf9\u5e94\u7684\u5b89\u88c5\u5305\uff0c\u6309\u7167\u5b89\u88c5\u6307\u5357\u914d\u7f6e\u597d Docker\u3002Docker \u73af\u5883\u4e2d\u542b\u6709 Scala \u5f00\u53d1\u73af\u5883\u4ee5\u53ca Verilator \u4eff\u771f\u5668\uff0c\u4f46\u4e0d\u5305\u542b Vivado\u3002\u5982\u679c\u4f60\u4e0d\u9700\u8981\u70e7\u677f\uff0c\u90a3\u4e48\u4f7f\u7528 Docker \u73af\u5883\u5c31\u53ef\u4ee5\u5b8c\u6210\u6240\u6709\u5b9e\u9a8c\u4ee5\u53ca\u8f6f\u4ef6\u6d4b\u8bd5\u4e86\u3002 \u4e4b\u540e\uff0c\u53ea\u9700\u8981\u8fd0\u884c docker run -it --rm howardlau1999/yatcpu sbt test Docker \u4f1a\u81ea\u52a8\u4e0b\u8f7d\u6211\u4eec\u51c6\u5907\u597d\u7684\u955c\u50cf\u5e76\u8fd0\u884c\u5bb9\u5668\u3002\u5982\u679c\u6210\u529f\u6267\u884c\uff0c\u4f60\u4f1a\u770b\u5230\u7c7b\u4f3c\u8fd9\u6837\u7684\u8f93\u51fa\u3002 [success] Total time: 385 s (06:25), completed Dec 15, 2021, 8:45:25 PM Docker \u4e2d\u7684 YatCPU \u4ee3\u7801\u53ef\u80fd\u4e0d\u662f\u6700\u65b0\u7248\uff0c\u4e14\u5bb9\u5668\u7ed3\u675f\u8fd0\u884c\u4e4b\u540e\u6240\u6709\u4fee\u6539\u90fd\u5c06\u4e22\u5931\uff0c\u5982\u679c\u4f60\u9700\u8981\u5b8c\u6210\u5b9e\u9a8c\uff0c\u9700\u8981\u5148\u5c06\u4ee3\u7801\u4ed3\u5e93\u514b\u9686\u5230\u672c\u673a\uff0c\u7136\u540e\u5728\u8fd0\u884c Docker \u5bb9\u5668\u65f6\u6302\u8f7d\u672c\u673a\u76ee\u5f55\uff1a git clone https://github.com/howardlau1999/yatcpu docker run -it --rm -v yatcpu:/root/yatcpu howardlau1999/yatcpu \u6309\u7167\u8fd9\u79cd\u65b9\u6cd5\u5728\u5bb9\u5668\u4e2d\u6240\u505a\u7684\u4fee\u6539\u5c06\u4fdd\u5b58\u5230\u672c\u673a\u6587\u4ef6\u5939\uff0c\u53cd\u4e4b\u540c\u7406\u3002 Windows \u914d\u7f6e\u65b9\u6cd5 \u00b6 \u5b89\u88c5 Intellij IDEA \u548c Scala \u63d2\u4ef6 \u00b6 \u4f7f\u7528 Intellij IDEA \u914d\u7f6e\u5f00\u53d1\u73af\u5883\u6bd4\u8f83\u7b80\u5355\uff0c\u800c\u4e14\u4e5f\u7ecf\u8fc7\u4e86\u6d4b\u8bd5\uff0c\u6240\u4ee5\uff0c\u6211\u4eec\u63a8\u8350\u5728 Windows \u4e0a\u76f4\u63a5\u4f7f\u7528 Intellij IDEA \u6765\u8bbe\u7f6e\u5f00\u53d1\u73af\u5883\u3002 \u53ef\u4ee5\u5148 \u5b89\u88c5 JetBrains Toolbox \uff0c\u7136\u540e\u901a\u8fc7 JetBrains Toolbox \u4e00\u952e\u5b89\u88c5 Intellij IDEA Community Edition\u3002 \u6216\u8005 \u5230 JetBrains \u5b98\u65b9\u7f51\u7ad9\u4e0b\u8f7d Intellij IDEA \uff0c\u4e0b\u8f7d\u514d\u8d39\u7684 Commnunity Edition \u5373\u53ef\u3002 \u6253\u5f00 Intellij IDEA\uff0c\u9009\u62e9 \u201cGet from VCS\u201d\uff0c\u6309\u7167\u4e0b\u56fe\u586b\u5165\u4fe1\u606f\uff1a \u5176\u4e2d URL \u586b https://github.com/howardlau1999/yatcpu \uff0cDirectory \u53ef\u4ee5\u586b\u4e00\u4e2a\u4f60\u559c\u6b22\u7684\u8def\u5f84\uff0c\u8981\u8bb0\u5f97\u81ea\u5df1\u5b58\u5728\u54ea\uff0c\u540e\u7eed\u547d\u4ee4\u884c\u8981\u4f7f\u7528\u5230\u8fd9\u4e2a\u8def\u5f84\uff0c\u4e4b\u540e\u70b9\u51fb \u201cClone\u201d\uff0c\u5c31\u4f1a\u81ea\u52a8\u4e0b\u8f7d\u9879\u76ee\u4ee3\u7801\u4ed3\u5e93\u5e76\u6253\u5f00\u4e86\u3002 \u6253\u5f00 IDE \u540e\uff0c\u6309\u5feb\u6377\u952e Ctrl + Alt + S \u6253\u5f00\u8bbe\u7f6e\u3002 \u9009\u62e9 Plugins\uff0c\u641c\u7d22\u5e76\u5b89\u88c5 Scala \u63d2\u4ef6\u3002 \u4f60\u8fd8\u53ef\u4ee5\u987a\u4fbf\u5b89\u88c5\u4e00\u4e2a\u4e2d\u6587\u63d2\u4ef6\u3002\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u70b9\u51fb Restart IDE \u91cd\u542f IDE\u3002 \u70b9\u51fb\u56fe\u4e0a\u7684\u8bbe\u7f6e JDK\uff0c\u9009\u62e9\u4e0b\u8f7d JDK\u3002 \u4e0b\u8f7d\u3002\u5982\u679c\u6ca1\u6709\u5f39\u51fa\u63d0\u793a\uff0c\u8bf7\u5c55\u5f00\u4e0b\u65b9\u5e2e\u52a9\u6309\u7167\u6307\u5f15\u624b\u52a8\u4e0b\u8f7d JDK\u3002 \u624b\u52a8\u4e0b\u8f7d JDK \u5982\u679c\u6ca1\u6709\u5f39\u51fa\u63d0\u793a\uff0c\u6309 Ctrl + Alt + Shift + S \u6253\u5f00\u8bbe\u7f6e\uff0c\u9009\u62e9\u5de6\u8fb9\u7684 Project\uff08\u9879\u76ee\uff09\u9009\u9879\uff0c\u7136\u540e\u70b9\u51fb JDK \u4e0b\u62c9\u83dc\u5355\uff0c\u79fb\u52a8\u5230\u6dfb\u52a0 JDK \u4e0a\uff0c\u9009\u62e9\u4e0b\u8f7d JDK\u3002 \u4e4b\u540e\u5728\u5f39\u51fa\u7684\u5bf9\u8bdd\u6846\u4e2d\u9009\u62e9\u9700\u8981\u4e0b\u8f7d\u7684\u7248\u672c\uff0c\u70b9\u51fb\u4e0b\u8f7d\u5373\u53ef\u3002 \u518d\u9009\u62e9\u8bbe\u7f6e Scala SDK\u3002 \u624b\u52a8\u4e0b\u8f7d Scala SDK \u5982\u679c\u6ca1\u6709\u5982\u679c\u6ca1\u6709\u5f39\u51fa\u63d0\u793a\uff0c\u6309 Ctrl + Alt + Shift + S \u6253\u5f00\u8bbe\u7f6e\uff0c\u9009\u62e9\u5de6\u8fb9\u7684 Libraries\uff08\u5168\u5c40\u5e93\uff09\u9009\u9879\uff0c\u70b9\u51fb + \u53f7\uff0c\u9009\u62e9 Scala SDK\uff0c\u5728\u5f39\u51fa\u7684\u7a97\u53e3\u9009\u62e9\u4e0b\u8f7d\uff0c\u9009\u62e9\u9700\u8981\u7684\u7248\u672c\u4e4b\u540e\u70b9\u786e\u5b9a\u5f00\u59cb\u4e0b\u8f7d\uff0c\u7136\u540e\u5728\u5217\u8868\u91cc\u9009\u4e2d\u521a\u521a\u4e0b\u8f7d\u597d\u7684\u7248\u672c\u9009\u62e9\u6dfb\u52a0\u5373\u53ef\u3002 \u9009\u62e9\u521b\u5efa\u3002 \u70b9\u4e0b\u8f7d\uff0c\u5728\u8df3\u51fa\u6765\u7684\u7a97\u53e3\u4e2d\u9009\u62e9\u6211\u4eec\u9879\u76ee\u4f7f\u7528\u7684 2.12.13 \u7248\u672c\u3002 \u56de\u5230\u201c\u6dfb\u52a0 Scala \u652f\u6301\u201d\u7a97\u53e3\uff0c\u5728\u201c\u4f7f\u7528\u5e93\u201d\u4e2d\u9009\u4e2d\u6211\u4eec\u521a\u624d\u4e0b\u8f7d\u7684\u7248\u672c\uff0c\u70b9\u51fb\u786e\u5b9a\u3002\u6700\u540e\u8bb0\u5f97\u70b9\u51fb\u201c\u52a0\u8f7d sbt \u9879\u76ee\u201d\u52a0\u8f7d\u9879\u76ee\u914d\u7f6e\u3002 \u5927\u529f\u544a\u6210\uff01 \u5b89\u88c5 Vivado \u00b6 \u4e2d\u5c71\u5927\u5b66\u7ec4\u6210\u539f\u7406\u5b9e\u9a8c\u8bfe\u4f7f\u7528\u7684 Basys3 \u5b9e\u9a8c\u677f\u578b\u53f7\u4e3a XC7A35T\uff0c\u9700\u8981 Xilinx \u7684\u5de5\u5177\u8fdb\u884c\u7efc\u5408\u5b9e\u73b0\u4ee5\u53ca\u70e7\u677f\u3002\u8fd9\u91cc\u5b89\u88c5 Vivado HL WebPACK \u5373\u53ef\uff0c\u4e0d\u9700\u8981\u8bb8\u53ef\u6216\u6fc0\u6d3b\u8bb8\u53ef\u5bc6\u94a5\u3002 \u7ecf\u8fc7\u6d4b\u8bd5\u4e14\u53ef\u7528\u7684 Vivado \u7248\u672c\u4e3a 2020.1\u3002\u66f4\u65b0\u6216\u66f4\u65e7\u7684\u7248\u672c\u7406\u8bba\u4e0a\u53ef\u4ee5\u4f7f\u7528\uff0c\u4f46\u6ca1\u6709\u7ecf\u8fc7\u6d4b\u8bd5\u3002 \u5b89\u88c5\u5305\u4f53\u79ef\u8f83\u5927\uff0c \u63a8\u8350\u4f7f\u7528\u5e26\u65ad\u70b9\u7eed\u4f20\u529f\u80fd\u7684\u4e0b\u8f7d\u5de5\u5177\u5982\u8fc5\u96f7\u3001Free Download Manager \u4e0b\u8f7d \u3002 \u5982\u679c\u4f60\u5728 \u4e2d\u5c71\u5927\u5b66\u6821\u56ed\u7f51\u5185 \u4e0b\u8f7d Vivado 2020.1 \u5b89\u88c5\u5305\uff0c\u53ef\u4ee5\u4f7f\u7528\u6211\u4eec\u63d0\u4f9b\u7684\u955c\u50cf\uff1a \u70b9\u6b64\u4e0b\u8f7d \u3002 \u4e5f\u53ef\u4ee5\u5728 Xilinx \u7684\u5b98\u7f51\u4e0b\u8f7d\uff1a \u70b9\u51fb\u8df3\u8f6c \u3002 \u9884\u7559\u8db3\u591f\u7684\u786c\u76d8\u7a7a\u95f4 Vivado 2020.1 \u5b89\u88c5\u5305\u4f53\u79ef\u8f83\u5927\uff0c\u7ea6\u4e3a 36 GB\uff0c\u4e14\u540e\u7eed\u5b89\u88c5\u4e5f\u8981\u4f7f\u7528\u5927\u91cf\u786c\u76d8\u7a7a\u95f4\u3002\u8bf7\u9884\u7559\u597d \u81f3\u5c11 100 GB \u7684\u786c\u76d8\u7a7a\u95f4 \u3002 \u5b89\u88c5 Clang \u7f16\u8bd1\u5668 \u00b6 \u5982\u679c\u4f60 \u6ca1\u6709\u5b89\u88c5\u8fc7 Visual Studio \uff0c \u70b9\u6b64\u4e0b\u8f7d Visual Studio Build Tools \u5b89\u88c5\u5305 \u5e76\u8fd0\u884c\uff0c\u5728\u201c\u5de5\u4f5c\u8d1f\u8377\u201d\u6807\u7b7e\u9875\u9009\u62e9\u201c\u4f7f\u7528 C++ \u7684\u684c\u9762\u5f00\u53d1\u201d\uff0c\u5e76\u5728\u53f3\u4fa7\u201c\u5b89\u88c5\u8be6\u7ec6\u4fe1\u606f\u201d\u4e2d\u7684\u201c\u53ef\u9009\u201d\u5217\u8868\u91cc\uff0c\u52fe\u9009\u201c\u9002\u7528\u4e8e Windows \u7684 C++ Clang \u5de5\u5177\u201d\uff0c\u4e4b\u540e\u70b9\u51fb\u5b89\u88c5\u5373\u53ef\u3002 \u5982\u679c \u5df2\u7ecf\u5b89\u88c5\u8fc7 Visual Studio \uff0c\u5728\u5f00\u59cb\u83dc\u5355\u4e2d\u641c\u7d22\u201cVisual Studio Installer\u201d\uff0c\u7136\u540e\u70b9\u51fb\u201c\u4fee\u6539\u201d\uff0c\u9009\u4e2d\u201c\u5de5\u4f5c\u8d1f\u8377\u201d\u6807\u7b7e\u9875\u91cc\u7684\u201c\u4f7f\u7528 C++ \u7684\u684c\u9762\u5f00\u53d1\u201d\uff0c\u5e76\u5728\u53f3\u4fa7\u201c\u5b89\u88c5\u8be6\u7ec6\u4fe1\u606f\u201d\u4e2d\u7684\u201c\u53ef\u9009\u201d\u5217\u8868\u91cc\uff0c\u52fe\u9009\u201c\u9002\u7528\u4e8e Windows \u7684 C++ Clang \u5de5\u5177\u201d\uff0c\u4e4b\u540e\u70b9\u51fb\u201c\u5b89\u88c5\u201d\u5373\u53ef\u3002 \u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u5728\u5f00\u59cb\u83dc\u5355\u4e2d\u641c\u7d22\u201cDeveloper Command Prompt\u201d\uff0c\u7136\u540e\u8fd0\u884c\uff0c\u5e94\u8be5\u4f1a\u5f39\u51fa\u4e00\u4e2a\u547d\u4ee4\u884c\u7a97\u53e3\u663e\u793a\u4ee5\u4e0b\u4fe1\u606f\uff08\u4ee5\u4e0b\u4e3a\u5df2\u5b89\u88c5 Visual Studio \u7684\u6837\u4f8b\uff09\uff1a ********************************************************************** ** Visual Studio 2022 Developer Command Prompt v17.0.4 ** Copyright (c) 2021 Microsoft Corporation ********************************************************************** C:\\Program Files\\Microsoft Visual Studio\\2022\\Community> \u4e4b\u540e\uff0c cd \u5230\u4f60\u514b\u9686\u5230\u672c\u5730\u7684\u4ee3\u7801\u4ed3\u5e93\u7684\u4e2d\u7684 csrc \u6587\u4ef6\u5939\uff0c\u4f8b\u5982 C:\\yatcpu\\csrc \uff0c\u5982\u679c\u4f60\u7684\u9879\u76ee\u6587\u4ef6\u4fdd\u5b58\u5728\u522b\u7684\u76d8\u7b26\uff08\u4f8b\u5982 D: \uff09\uff0c\u8981\u5148\u8f93\u5165 D: \u6309\u56de\u8f66\u540e\u518d\u6267\u884c cd \u547d\u4ee4\u3002\u7136\u540e\u8fd0\u884c .\\build.bat \u811a\u672c\uff1a C:\\Program Files\\Microsoft Visual Studio\\2022\\Community>cd C:\\yatcpu\\csrc C:\\yatcpu\\csrc>.\\build.bat \u5982\u679c\u6b63\u5e38\u8fd0\u884c\uff0c\u5e94\u8be5\u770b\u5230\u4ee5\u4e0b\u8f93\u51fa\uff1a C:\\yatcpu\\csrc>rmdir /Q /S build \u7cfb\u7edf\u627e\u4e0d\u5230\u6307\u5b9a\u7684\u6587\u4ef6\u3002 C:\\yatcpu\\csrc>cmake -DCMAKE_TOOLCHAIN_FILE=toolchain.cmake -G\"NMake Makefiles\" -B build . -- The C compiler identification is Clang 12.0.0 -- The CXX compiler identification is Clang 12.0.0 -- The ASM compiler identification is Clang -- Found assembler: C:/Program Files/Microsoft Visual Studio/2022/Community/VC/Tools/Llvm/x64/bin/clang.exe -- Detecting C compiler ABI info -- Detecting C compiler ABI info - done -- Check for working C compiler: C:/Program Files/Microsoft Visual Studio/2022/Community/VC/Tools/Llvm/x64/bin/clang.exe - skipped -- Detecting C compile features -- Detecting C compile features - done -- Detecting CXX compiler ABI info -- Detecting CXX compiler ABI info - done -- Check for working CXX compiler: C:/Program Files/Microsoft Visual Studio/2022/Community/VC/Tools/Llvm/x64/bin/clang++.exe - skipped -- Detecting CXX compile features -- Detecting CXX compile features - done -- Configuring done -- Generating done -- Build files have been written to: C:/yatcpu/csrc/build C:\\yatcpu\\csrc>cmake --build build Scanning dependencies of target tetris [ 6%] Building ASM object CMakeFiles/tetris.dir/init.S.obj [ 12%] Building C object CMakeFiles/tetris.dir/tetris.c.obj [ 18%] Linking C executable tetris [ 18%] Built target tetris Scanning dependencies of target hello [ 25%] Building ASM object CMakeFiles/hello.dir/init.S.obj [ 31%] Building C object CMakeFiles/hello.dir/hello.c.obj [ 37%] Linking C executable hello [ 37%] Built target hello Scanning dependencies of target fibonacci [ 43%] Building ASM object CMakeFiles/fibonacci.dir/init.S.obj [ 50%] Building C object CMakeFiles/fibonacci.dir/fibonacci.c.obj [ 56%] Linking C executable fibonacci [ 56%] Built target fibonacci Scanning dependencies of target quicksort [ 62%] Building ASM object CMakeFiles/quicksort.dir/init.S.obj [ 68%] Building C object CMakeFiles/quicksort.dir/quicksort.c.obj [ 75%] Linking C executable quicksort [ 75%] Built target quicksort Scanning dependencies of target mmio [ 81%] Building ASM object CMakeFiles/mmio.dir/mmio.S.obj [ 87%] Linking ASM executable mmio [ 87%] Built target mmio Scanning dependencies of target sb [ 93%] Building ASM object CMakeFiles/sb.dir/sb.S.obj [100%] Linking ASM executable sb [100%] Built target sb \u5b89\u88c5 Verilator \u00b6 Chisel 3 \u81ea\u5e26\u7684\u4eff\u771f\u5668\u901f\u5ea6\u8f83\u6162\uff0cVerilator \u901a\u8fc7\u5c06 Verilog \u4ee3\u7801\u7f16\u8bd1\u4e3a C++ \u4ee3\u7801\u52a0\u901f\u4eff\u771f\u3002\u76ee\u524d\uff0cVerilator \u4ec5\u539f\u751f\u652f\u6301 Linux \u7cfb\u7edf\uff0c\u4f46\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 MSYS2 \u5728 Windows \u4e0a\u4f7f\u7528 Verilator\u3002 \u9996\u5148\u9700\u8981\u5b89\u88c5 MSYS2\uff0c\u5230 \u5b98\u65b9\u7f51\u7ad9\u4e0b\u8f7d\u6700\u65b0\u7684\u5b89\u88c5\u5305 \uff0c\u8fd0\u884c\u5b89\u88c5\u7a0b\u5e8f\u3002\u6ce8\u610f \u5b89\u88c5\u8def\u5f84\u4e0d\u80fd\u542b\u6709\u4e2d\u6587\u548c\u7a7a\u683c \uff0c\u5efa\u8bae\u76f4\u63a5\u5b89\u88c5\u5728\u9ed8\u8ba4\u7684 C:\\msys64 \u4e0b\u3002\u5b89\u88c5\u5b8c\u6210\u4e4b\u540e\uff0c\u6309 Win + R \uff0c\u8f93\u5165 cmd \u56de\u8f66\uff0c\u6253\u5f00\u547d\u4ee4\u63d0\u793a\u7b26\uff0c\u8fd0\u884c\uff1a C:\\msys64\\usr\\bin\\bash.exe -l -c ^ \"pacman -Sy --noconfirm --needed ^ base-devel mingw-w64-x86_64-toolchain ^ git flex mingw-w64-x86_64-cmake ^ mingw-w64-x86_64-verilator\" \u8be5\u547d\u4ee4\u5c06\u5b89\u88c5 Verilator \u4ee5\u53ca\u5176\u4f9d\u8d56\u3002\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u8fd8\u9700\u8981\u8bbe\u7f6e\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\uff0c\u5728\u5f00\u59cb\u83dc\u5355\u641c\u7d22\u201c\u73af\u5883\u53d8\u91cf\u201d\uff0c\u6253\u5f00\u201c\u7f16\u8f91\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u201d\uff0c\u5728\u5f39\u51fa\u7684\u5bf9\u8bdd\u6846\u70b9\u51fb\u201c\u73af\u5883\u53d8\u91cf\u201d\uff0c\u53cc\u51fb\u7528\u6237\u53d8\u91cf\u4e2d\u7684\u201cPath\u201d\uff0c\u70b9\u51fb\u201c\u65b0\u5efa\u201d\uff0c\u5728 \u6700\u540e \u6dfb\u52a0\u4e24\u884c\uff1a C:\\msys64\\usr\\bin C:\\msys64\\mingw64\\bin \u4e4b\u540e\u4e00\u8def\u70b9\u201c\u786e\u5b9a\u201d\u5173\u6389\u6240\u6709\u5bf9\u8bdd\u6846\uff0c\u5e76\u5173\u6389\u521a\u521a\u6253\u5f00\u7684\u547d\u4ee4\u63d0\u793a\u7b26\u3002\u7136\u540e\u91cd\u65b0\u6253\u5f00\u547d\u4ee4\u63d0\u793a\u7b26\uff0c\u8fd0\u884c verilator_bin --version \uff0c\u5982\u679c\u914d\u7f6e\u6b63\u786e\uff0c\u5e94\u5f53\u770b\u5230\u7c7b\u4f3c\u7684\u8f93\u51fa\uff1a C:\\>verilator_bin --version Verilator 4.218 2022-01-17 rev UNKNOWN.REV \u4e4b\u540e\uff0c\u8fd0\u884c\u4eff\u771f\u6d4b\u8bd5\u7684\u65f6\u5019\uff0c\u6d4b\u8bd5\u6846\u67b6\u5c06\u81ea\u52a8\u5bfb\u627e Verilator \u5e76\u7528\u6765\u52a0\u901f\u3002 Linux/WSL1 \u914d\u7f6e\u65b9\u6cd5 \u00b6 \u4e0b\u9762\u4ecb\u7ecd\u5982\u4f55\u5728 Linux \u6216 WSL(Windows Subsystem for Linux) \u73af\u5883\u4e2d\u642d\u5efa\u672c\u5b9e\u9a8c\u7684\u5f00\u53d1\u73af\u5883\u3002 \u8fd9\u91cc \u7ed9\u51fa\u642d\u5efa\u76f8\u5173\u73af\u5883\u7684\u4e00\u4e2a\u53c2\u7167\u3002 \u8fd9\u91cc\u5047\u8bbe\u4f60\u4f7f\u7528\u7684 Linux \u6216 WSL \u7cfb\u7edf\u662f Debian 11\u3002\u5bf9\u4e8e\u4f7f\u7528\u5176\u4ed6 Linux \u7cfb\u7edf\u7684\u540c\u5b66\uff0c\u64cd\u4f5c\u662f\u7c7b\u4f3c\u7684\uff0c\u76f8\u4fe1\u4f60\u6709\u8db3\u591f\u7684\u80fd\u529b\u53c2\u8003\u4e0b\u9762\u7684\u6307\u4ee4\u642d\u5efa\u73af\u5883\u3002 \u5b89\u88c5\u5fc5\u8981\u5de5\u5177 \u00b6 \u672c\u5b9e\u9a8c\u5c06\u4f1a\u4f7f\u7528\u5230\u4ee5\u4e0b\u5de5\u5177\uff0c\u9664 sbt \u5916\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u63d0\u4f9b\u7684\u547d\u4ee4\u4e00\u952e\u5b89\u88c5\uff1a sudo apt install -y git \\ clang \\ make \\ gnupg \\ scala \\ libtinfo5 \\ coreutils \\ cmake \\ llvm \\ lld \u540d\u79f0 \u8bf4\u660e git \u4ee3\u7801\u7248\u672c\u7ba1\u7406\u5de5\u5177 clang, lld \u7528\u4e8e\u7f16\u8bd1\u751f\u6210 RISC-V \u53ef\u6267\u884c\u4e8c\u8fdb\u5236\u6587\u4ef6 llvm \u7528\u4e8e\u7f16\u8f91\u548c\u67e5\u770b\u4e8c\u8fdb\u5236\u6587\u4ef6 make \u7528\u4e8e\u6267\u884c Makefile cmake \u7528\u4e8e\u6267\u884c CMakeLists.txt gnupg \u7b7e\u540d\u9a8c\u8bc1\u5de5\u5177 scala \u672c\u9879\u76ee\u7684\u8bed\u8a00\u7f16\u8bd1\u5668 sbt Scala \u5305\u7ba1\u7406\u5668 libtinfo5 Vivado \u542f\u52a8\u4f9d\u8d56 md5sum \u5b89\u88c5\u5305\u6821\u9a8c\u5de5\u5177 \u5b89\u88c5 sbt \u5305\u7ba1\u7406\u5668 \u00b6 sbt \u76ee\u524d\u4ecd\u7136\u5728 Debian \u7684 \u4e0d\u7a33\u5b9a \u7248\u672c\u4e2d\u3002\u5bf9\u4e8e\u4e0d\u5e0c\u671b\u4f7f\u7528 sid \u7cfb\u7edf\u7684\u540c\u5b66\uff0c\u53ef\u4ee5\u6309\u7167 \u6587\u6863 \u7684\u6307\u793a\u4e0b\u8f7d\u5b89\u88c5\u3002 curl -fsSL \"https://keyserver.ubuntu.com/pks/lookup?op=get&\\ search=0x2EE0EA64E40A89B84B2DF73499E82A75642AC823\" | \\ sudo gpg --dearmor -o /usr/share/keyrings/scalasbt-archive-keyring.gpg echo \"deb [signed-by=/usr/share/keyrings/scalasbt-archive-keyring.gpg] \\ https://repo.scala-sbt.org/scalasbt/debian all main\" | sudo tee \\ /etc/apt/sources.list.d/sbt.list echo \"deb [signed-by=/usr/share/keyrings/scalasbt-archive-keyring.gpg] \\ https://repo.scala-sbt.org/scalasbt/debian /\" | sudo tee \\ /etc/apt/sources.list.d/sbt_old.list sudo apt update sudo apt install sbt \u5b89\u88c5 Vivado \u00b6 \u4e2d\u5c71\u5927\u5b66\u7ec4\u6210\u539f\u7406\u5b9e\u9a8c\u8bfe\u4f7f\u7528\u7684 Basys3 \u5b9e\u9a8c\u677f\u578b\u53f7\u4e3a XC7A35T\uff0c\u9700\u8981 Xilinx \u7684\u5de5\u5177\u8fdb\u884c\u7efc\u5408\u5b9e\u73b0\u4ee5\u53ca\u70e7\u677f\u3002\u8fd9\u91cc\u5b89\u88c5 Vivado HL WebPACK \u5373\u53ef\uff0c\u4e0d\u9700\u8981\u8bb8\u53ef\u6216\u6fc0\u6d3b\u8bb8\u53ef\u5bc6\u94a5\u3002 \u7ecf\u8fc7\u6d4b\u8bd5\u4e14\u53ef\u7528\u7684 Vivado \u7248\u672c\u4e3a 2020.1\u3002\u66f4\u65b0\u6216\u66f4\u65e7\u7684\u7248\u672c\u7406\u8bba\u4e0a\u53ef\u4ee5\u4f7f\u7528\uff0c\u4f46\u6ca1\u6709\u7ecf\u8fc7\u6d4b\u8bd5\u3002 \u4e2d\u5c71\u5927\u5b66\u6821\u56ed\u7f51\u5185\u4e0b\u8f7d Vivado 2020.1 \u5b89\u88c5\u5305\uff0c\u53ef\u4ee5\u4f7f\u7528\u6211\u4eec\u63d0\u4f9b\u7684\u955c\u50cf\u3002 \u9884\u7559\u8db3\u591f\u7684\u786c\u76d8\u7a7a\u95f4 Vivado 2020.1 \u5b89\u88c5\u5305\u4f53\u79ef\u8f83\u5927\uff0c\u7ea6\u4e3a 36 GB\uff0c\u4e14\u540e\u7eed\u5b89\u88c5\u4e5f\u8981\u4f7f\u7528\u5927\u91cf\u786c\u76d8\u7a7a\u95f4\u3002\u8bf7\u9884\u7559\u597d \u81f3\u5c11 100 GB \u7684\u786c\u76d8\u7a7a\u95f4 \u3002 \u4e0b\u9762\u662f\u4f7f\u7528 curl \u4e0b\u8f7d\u6821\u56ed\u7f51\u5b89\u88c5\u5305\u955c\u50cf\u7684\u547d\u4ee4\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5176\u4ed6\u65b9\u5f0f\u4e0b\u8f7d\u3002 # \u4e0b\u8f7d curl -O https://mirrors.matrix.moe/software/Xilinx_Unified_2020.1_0602_1208.tar.gz # \u4e5f\u53ef\u4ee5\u5728 Xilinx \u7684\u5b98\u7f51\u4e0b\u8f7d # https://china.xilinx.com/support/download/index.html/content/xilinx/zh/downloadNav/vivado-design-tools/archive.html \u7531\u4e8e\u6587\u4ef6\u8f83\u5927\uff0c\u4e3a\u4e86\u6821\u9a8c\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u662f\u5426\u53d1\u751f\u9519\u8bef\uff0c\u8bf7\u5728\u4e0b\u8f7d\u5b8c\u6210\u540e\u9a8c\u8bc1\u5b89\u88c5\u5305\u7684 MD5 \u503c\u3002\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8ba1\u7b97\u6587\u4ef6\u7684 MD5 \u503c\uff1a md5sum Xilinx_Unified_2020.1_0602_1208.tar.gz \u547d\u4ee4\u5e94\u5f53\u8f93\u51fa\u4ee5\u4e0b\u5185\u5bb9\uff1a b018f7b331ab0446137756156ff944d9 Xilinx_Unified_2020.1_0602_1208.tar.gz \u5982\u679c\u4e0d\u4e00\u81f4\uff0c\u8bf7\u91cd\u65b0\u4e0b\u8f7d\u3002\u6821\u9a8c\u901a\u8fc7\u540e\uff0c\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u89e3\u538b\u5b89\u88c5\u5305\u5e76\u751f\u6210\u5b89\u88c5\u914d\u7f6e\u6587\u4ef6\uff1a tar -zxf Xilinx_Unified_2020.1_0602_1208.tar.gz cd Xilinx_Unified_2020.1_0602_1208 ./xsetup -b ConfigGen \u5148\u8f93\u5165 2 \u518d\u8f93\u5165 1 \uff0c\u8fd9\u65f6\u4f1a\u9009\u4e2d Vivado HL WebPACK \u3002\u6700\u540e\u4f1a\u4ea7\u751f\u4e00\u4e2a\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6 ~/.Xilinx/install_config.txt \u3002 \u968f\u540e\u518d\u6b21\u6267\u884c\u4e0b\u8ff0\u6307\u4ee4\uff0c\u5b89\u88c5 Vivado HL WebPACK \u3002 ./xsetup -a XilinxEULA,3rdPartyEULA,WebTalkTerms -b Install \\ -c ~/.Xilinx/install_config.txt -l ~/Xilinx \u5176\u4e2d ~/Xilinx \u662f\u5b89\u88c5\u76ee\u5f55\uff0c\u53ef\u4ee5\u81ea\u884c\u5b9a\u4e49\u3002 \u6d4b\u8bd5 Clang \u7f16\u8bd1\u5668 \u00b6 cd \u5230\u4ed3\u5e93\u4e2d\u7684 csrc \u76ee\u5f55\uff0c\u8fd0\u884c ./build.sh \u811a\u672c\uff0c\u4e00\u5207\u6b63\u5e38\u7684\u8bdd\u5e94\u5f53\u770b\u5230\u5982\u4e0b\u8f93\u51fa\uff1a ~/chisel-riscv/csrc$ ./build.sh -- The C compiler identification is Clang 11 .0.1 -- The CXX compiler identification is Clang 11 .0.1 -- The ASM compiler identification is Clang -- Found assembler: /usr/bin/clang -- Detecting C compiler ABI info -- Detecting C compiler ABI info - done -- Check for working C compiler: /usr/bin/clang - skipped -- Detecting C compile features -- Detecting C compile features - done -- Detecting CXX compiler ABI info -- Detecting CXX compiler ABI info - done -- Check for working CXX compiler: /usr/bin/clang++ - skipped -- Detecting CXX compile features -- Detecting CXX compile features - done -- Configuring done -- Generating done -- Build files have been written to: /mnt/c/Users/Liuhaohua/Desktop/chisel-riscv/csrc/build Scanning dependencies of target prelude [ 7 % ] Building ASM object CMakeFiles/prelude.dir/init.S.obj [ 14 % ] Linking ASM static library libprelude.a [ 14 % ] Built target prelude Scanning dependencies of target fibonacci Scanning dependencies of target hello Scanning dependencies of target mmio Scanning dependencies of target quicksort Scanning dependencies of target tetris Scanning dependencies of target sb [ 21 % ] Building ASM object CMakeFiles/mmio.dir/mmio.S.obj [ 57 % ] Building C object CMakeFiles/quicksort.dir/quicksort.c.obj [ 57 % ] Building ASM object CMakeFiles/sb.dir/sb.S.obj [ 57 % ] Building C object CMakeFiles/tetris.dir/tetris.c.obj [ 57 % ] Building C object CMakeFiles/fibonacci.dir/fibonacci.c.obj [ 57 % ] Building C object CMakeFiles/hello.dir/hello.c.obj [ 78 % ] Linking C executable quicksort [ 78 % ] Linking C executable fibonacci [ 78 % ] Linking C executable tetris [ 100 % ] Linking ASM executable sb [ 100 % ] Linking C executable hello [ 100 % ] Linking ASM executable mmio [ 100 % ] Built target quicksort [ 100 % ] Built target tetris [ 100 % ] Built target fibonacci [ 100 % ] Built target sb [ 100 % ] Built target mmio [ 100 % ] Built target hello \u5b89\u88c5 Verilator \u00b6 Verilator \u662f\u4e00\u6b3e\u5c06 Verilog \u4ee3\u7801\u7f16\u8bd1\u5230 C++ \u4ee3\u7801\u4ee5\u52a0\u901f\u6a21\u62df\u8fc7\u7a0b\u7684\u8f6f\u4ef6\uff0c\u76ee\u524d\u4ec5\u652f\u6301\u5728 Linux/macOS \u73af\u5883\u4e0b\u8fd0\u884c\u3002\u800c Chisel 3 \u81ea\u5e26\u7684\u6a21\u62df\u8f6f\u4ef6\u8f83\u6162\uff0c\u5bf9\u4e8e\u540e\u671f\u9700\u8981 CPU \u8fd0\u884c\u8f83\u5927\u7684\u7a0b\u5e8f\u65f6\uff0c\u6d4b\u8bd5\u8fc7\u7a0b\u53ef\u80fd\u4f1a\u5f88\u6162\u3002\u5bf9\u4e8e\u5927\u578b\u7684\u6d4b\u8bd5\uff0c\u6d4b\u8bd5\u7a0b\u5e8f\u4f1a\u5728 PATH \u76ee\u5f55\u4e2d\u5bfb\u627e Verilator \u4ee5\u52a0\u901f\u6d4b\u8bd5\u8fc7\u7a0b\uff0c\u63d0\u9ad8\u8fed\u4ee3\u6548\u7387\u3002 \u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7 apt \u5b89\u88c5\uff1a sudo apt install verilator \u6216\u8005\u4f7f\u7528 Verilator \u63a8\u8350\u7684\u5b89\u88c5\u65b9\u5f0f\uff0c\u4ece\u6e90\u7801\u5b89\u88c5\uff1a cd $HOME sudo apt-get install git perl python3 make autoconf g++ \\ flex bison ccache libgoogle-perftools-dev numactl perl-doc git clone --depth 1 -b stable https://github.com/verilator/verilator cd verilator autoconf ./configure make -j ` nproc ` sudo make install \u4fee\u6539\u5b89\u88c5\u8def\u5f84 \u5982\u679c\u4e0d\u60f3\u5168\u5c40\u5b89\u88c5\uff0c\u53ef\u4ee5\u5728 ./configure \u540e\u52a0\u53c2\u6570 --prefix=/path/to/install \uff0c\u6307\u5b9a\u5b89\u88c5\u8def\u5f84\uff0c\u4e14\u5728\u540e\u7eed\u6d4b\u8bd5\u65f6\uff0c\u9700\u8981\u5c06\u5b89\u88c5\u8def\u5f84\u6dfb\u52a0\u5230 PATH \u73af\u5883\u53d8\u91cf\uff0c\u4ee5\u4fbf\u6d4b\u8bd5\u7a0b\u5e8f\u53ef\u4ee5\u627e\u5230 Verilator \u53ef\u6267\u884c\u7a0b\u5e8f\u3002 \u547d\u4ee4\u6267\u884c\u5b8c\u6bd5\u540e\uff0c\u53ef\u4ee5\u6267\u884c\u547d\u4ee4 verilator --version \u6d4b\u8bd5\u5b89\u88c5\u662f\u5426\u6210\u529f\u3002\u5982\u679c\u5b89\u88c5\u65e0\u8bef\uff0c\u5e94\u5f53\u770b\u5230\u5982\u4e0b\u8f93\u51fa\uff08\u7248\u672c\u53f7\u53ef\u80fd\u4e0d\u540c\uff09\uff1a Verilator 4.219 devel rev UNKNOWN.REV (mod) \u4e4b\u540e\uff0c\u8fd0\u884c\u4eff\u771f\u6d4b\u8bd5\u7684\u65f6\u5019\uff0c\u6d4b\u8bd5\u6846\u67b6\u5c06\u81ea\u52a8\u5bfb\u627e Verilator \u5e76\u7528\u6765\u52a0\u901f\u3002 macOS \u914d\u7f6e\u6307\u5357 \u00b6 \u5efa\u8bae\u4f7f\u7528 Homebrew \u5305\u7ba1\u7406\u5668\uff0c\u6267\u884c\uff1a brew install llvm cmake verilator sbt","title":"\u5f00\u53d1\u73af\u5883"},{"location":"getting-started/environment/#\u5f00\u53d1\u73af\u5883","text":"By: wu-kan \u3001 howardlau1999 \u672c\u9879\u76ee\u7ecf\u8fc7\u6d4b\u8bd5\u4e14\u53ef\u7528\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e3a\uff1a Windows 10 Debian 11 Debian 11, Windows Subsystem for Linux (WSL) macOS \u65e0\u6cd5\u70e7\u677f \u9664\u4e86 Vivado \u4e4b\u5916\uff0c\u6240\u6709\u5de5\u5177\u90fd\u53ef\u4ee5\u5728 macOS \u4e0a\u8fd0\u884c\uff0c\u4e5f\u5373\u53ef\u4ee5\u987a\u5229\u5b8c\u6210\u8f6f\u4ef6\u6d4b\u8bd5\u4ee5\u53ca\u6ce2\u5f62\u4eff\u771f\u3002\u4f46\u7531\u4e8e Vivado \u65e0\u6cd5\u5728 macOS \u4e0a\u5b89\u88c5 \uff0c\u6240\u4ee5\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f macOS \u5e76\u4e14 \u9700\u8981\u8fdb\u884c\u70e7\u677f\u5b9e\u9a8c \uff0c\u8bf7\u901a\u8fc7\u865a\u62df\u673a\u6216\u4f7f\u7528\u5176\u4ed6\u8bbe\u5907\u7b49\u65b9\u5f0f\u4f7f\u7528\u4e0a\u8ff0\u7684\u64cd\u4f5c\u7cfb\u7edf\u8fdb\u884c\u5b9e\u9a8c\u3002 \u6211\u4eec\u63d0\u4f9b\u4e24\u79cd\u98ce\u683c\u7684\u5f00\u53d1\u73af\u5883\u914d\u7f6e\u65b9\u6848\uff1a \u5bf9\u4e8e\u559c\u6b22\u4f7f\u7528 IDE \u96c6\u6210\u73af\u5883\u7684\u540c\u5b66\uff0c\u63a8\u8350\u4f7f\u7528 Windows \u914d\u7f6e\u65b9\u6cd5\u3002 \u5bf9\u4e8e\u559c\u6b22\u4f7f\u7528\u7ec8\u7aef+\u4ee3\u7801\u7f16\u8f91\u5668\u7ec4\u5408\u7684\u540c\u5b66\uff0c\u63a8\u8350\u4f7f\u7528 Linux/WSL \u914d\u7f6e\u65b9\u6cd5\uff0c\u6216\u4f7f\u7528\u6211\u4eec\u51c6\u5907\u597d\u7684 Docker \u73af\u5883\u3002","title":"\u5f00\u53d1\u73af\u5883"},{"location":"getting-started/environment/#docker-\u914d\u7f6e\u65b9\u6cd5","text":"\u8be5\u65b9\u6cd5\u9002\u7528\u4e8e Windows\u3001Linux \u548c macOS \u7cfb\u7edf\u3002 \u9996\u5148\u5230 Docker \u5b98\u65b9\u7f51\u7ad9 \u9009\u62e9\u5e76\u4e0b\u8f7d\u4f60\u4f7f\u7528\u7684\u64cd\u4f5c\u7cfb\u7edf\u6240\u5bf9\u5e94\u7684\u5b89\u88c5\u5305\uff0c\u6309\u7167\u5b89\u88c5\u6307\u5357\u914d\u7f6e\u597d Docker\u3002Docker \u73af\u5883\u4e2d\u542b\u6709 Scala \u5f00\u53d1\u73af\u5883\u4ee5\u53ca Verilator \u4eff\u771f\u5668\uff0c\u4f46\u4e0d\u5305\u542b Vivado\u3002\u5982\u679c\u4f60\u4e0d\u9700\u8981\u70e7\u677f\uff0c\u90a3\u4e48\u4f7f\u7528 Docker \u73af\u5883\u5c31\u53ef\u4ee5\u5b8c\u6210\u6240\u6709\u5b9e\u9a8c\u4ee5\u53ca\u8f6f\u4ef6\u6d4b\u8bd5\u4e86\u3002 \u4e4b\u540e\uff0c\u53ea\u9700\u8981\u8fd0\u884c docker run -it --rm howardlau1999/yatcpu sbt test Docker \u4f1a\u81ea\u52a8\u4e0b\u8f7d\u6211\u4eec\u51c6\u5907\u597d\u7684\u955c\u50cf\u5e76\u8fd0\u884c\u5bb9\u5668\u3002\u5982\u679c\u6210\u529f\u6267\u884c\uff0c\u4f60\u4f1a\u770b\u5230\u7c7b\u4f3c\u8fd9\u6837\u7684\u8f93\u51fa\u3002 [success] Total time: 385 s (06:25), completed Dec 15, 2021, 8:45:25 PM Docker \u4e2d\u7684 YatCPU \u4ee3\u7801\u53ef\u80fd\u4e0d\u662f\u6700\u65b0\u7248\uff0c\u4e14\u5bb9\u5668\u7ed3\u675f\u8fd0\u884c\u4e4b\u540e\u6240\u6709\u4fee\u6539\u90fd\u5c06\u4e22\u5931\uff0c\u5982\u679c\u4f60\u9700\u8981\u5b8c\u6210\u5b9e\u9a8c\uff0c\u9700\u8981\u5148\u5c06\u4ee3\u7801\u4ed3\u5e93\u514b\u9686\u5230\u672c\u673a\uff0c\u7136\u540e\u5728\u8fd0\u884c Docker \u5bb9\u5668\u65f6\u6302\u8f7d\u672c\u673a\u76ee\u5f55\uff1a git clone https://github.com/howardlau1999/yatcpu docker run -it --rm -v yatcpu:/root/yatcpu howardlau1999/yatcpu \u6309\u7167\u8fd9\u79cd\u65b9\u6cd5\u5728\u5bb9\u5668\u4e2d\u6240\u505a\u7684\u4fee\u6539\u5c06\u4fdd\u5b58\u5230\u672c\u673a\u6587\u4ef6\u5939\uff0c\u53cd\u4e4b\u540c\u7406\u3002","title":"Docker \u914d\u7f6e\u65b9\u6cd5"},{"location":"getting-started/environment/#windows-\u914d\u7f6e\u65b9\u6cd5","text":"","title":"Windows \u914d\u7f6e\u65b9\u6cd5"},{"location":"getting-started/environment/#\u5b89\u88c5-intellij-idea-\u548c-scala-\u63d2\u4ef6","text":"\u4f7f\u7528 Intellij IDEA \u914d\u7f6e\u5f00\u53d1\u73af\u5883\u6bd4\u8f83\u7b80\u5355\uff0c\u800c\u4e14\u4e5f\u7ecf\u8fc7\u4e86\u6d4b\u8bd5\uff0c\u6240\u4ee5\uff0c\u6211\u4eec\u63a8\u8350\u5728 Windows \u4e0a\u76f4\u63a5\u4f7f\u7528 Intellij IDEA \u6765\u8bbe\u7f6e\u5f00\u53d1\u73af\u5883\u3002 \u53ef\u4ee5\u5148 \u5b89\u88c5 JetBrains Toolbox \uff0c\u7136\u540e\u901a\u8fc7 JetBrains Toolbox \u4e00\u952e\u5b89\u88c5 Intellij IDEA Community Edition\u3002 \u6216\u8005 \u5230 JetBrains \u5b98\u65b9\u7f51\u7ad9\u4e0b\u8f7d Intellij IDEA \uff0c\u4e0b\u8f7d\u514d\u8d39\u7684 Commnunity Edition \u5373\u53ef\u3002 \u6253\u5f00 Intellij IDEA\uff0c\u9009\u62e9 \u201cGet from VCS\u201d\uff0c\u6309\u7167\u4e0b\u56fe\u586b\u5165\u4fe1\u606f\uff1a \u5176\u4e2d URL \u586b https://github.com/howardlau1999/yatcpu \uff0cDirectory \u53ef\u4ee5\u586b\u4e00\u4e2a\u4f60\u559c\u6b22\u7684\u8def\u5f84\uff0c\u8981\u8bb0\u5f97\u81ea\u5df1\u5b58\u5728\u54ea\uff0c\u540e\u7eed\u547d\u4ee4\u884c\u8981\u4f7f\u7528\u5230\u8fd9\u4e2a\u8def\u5f84\uff0c\u4e4b\u540e\u70b9\u51fb \u201cClone\u201d\uff0c\u5c31\u4f1a\u81ea\u52a8\u4e0b\u8f7d\u9879\u76ee\u4ee3\u7801\u4ed3\u5e93\u5e76\u6253\u5f00\u4e86\u3002 \u6253\u5f00 IDE \u540e\uff0c\u6309\u5feb\u6377\u952e Ctrl + Alt + S \u6253\u5f00\u8bbe\u7f6e\u3002 \u9009\u62e9 Plugins\uff0c\u641c\u7d22\u5e76\u5b89\u88c5 Scala \u63d2\u4ef6\u3002 \u4f60\u8fd8\u53ef\u4ee5\u987a\u4fbf\u5b89\u88c5\u4e00\u4e2a\u4e2d\u6587\u63d2\u4ef6\u3002\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u70b9\u51fb Restart IDE \u91cd\u542f IDE\u3002 \u70b9\u51fb\u56fe\u4e0a\u7684\u8bbe\u7f6e JDK\uff0c\u9009\u62e9\u4e0b\u8f7d JDK\u3002 \u4e0b\u8f7d\u3002\u5982\u679c\u6ca1\u6709\u5f39\u51fa\u63d0\u793a\uff0c\u8bf7\u5c55\u5f00\u4e0b\u65b9\u5e2e\u52a9\u6309\u7167\u6307\u5f15\u624b\u52a8\u4e0b\u8f7d JDK\u3002 \u624b\u52a8\u4e0b\u8f7d JDK \u5982\u679c\u6ca1\u6709\u5f39\u51fa\u63d0\u793a\uff0c\u6309 Ctrl + Alt + Shift + S \u6253\u5f00\u8bbe\u7f6e\uff0c\u9009\u62e9\u5de6\u8fb9\u7684 Project\uff08\u9879\u76ee\uff09\u9009\u9879\uff0c\u7136\u540e\u70b9\u51fb JDK \u4e0b\u62c9\u83dc\u5355\uff0c\u79fb\u52a8\u5230\u6dfb\u52a0 JDK \u4e0a\uff0c\u9009\u62e9\u4e0b\u8f7d JDK\u3002 \u4e4b\u540e\u5728\u5f39\u51fa\u7684\u5bf9\u8bdd\u6846\u4e2d\u9009\u62e9\u9700\u8981\u4e0b\u8f7d\u7684\u7248\u672c\uff0c\u70b9\u51fb\u4e0b\u8f7d\u5373\u53ef\u3002 \u518d\u9009\u62e9\u8bbe\u7f6e Scala SDK\u3002 \u624b\u52a8\u4e0b\u8f7d Scala SDK \u5982\u679c\u6ca1\u6709\u5982\u679c\u6ca1\u6709\u5f39\u51fa\u63d0\u793a\uff0c\u6309 Ctrl + Alt + Shift + S \u6253\u5f00\u8bbe\u7f6e\uff0c\u9009\u62e9\u5de6\u8fb9\u7684 Libraries\uff08\u5168\u5c40\u5e93\uff09\u9009\u9879\uff0c\u70b9\u51fb + \u53f7\uff0c\u9009\u62e9 Scala SDK\uff0c\u5728\u5f39\u51fa\u7684\u7a97\u53e3\u9009\u62e9\u4e0b\u8f7d\uff0c\u9009\u62e9\u9700\u8981\u7684\u7248\u672c\u4e4b\u540e\u70b9\u786e\u5b9a\u5f00\u59cb\u4e0b\u8f7d\uff0c\u7136\u540e\u5728\u5217\u8868\u91cc\u9009\u4e2d\u521a\u521a\u4e0b\u8f7d\u597d\u7684\u7248\u672c\u9009\u62e9\u6dfb\u52a0\u5373\u53ef\u3002 \u9009\u62e9\u521b\u5efa\u3002 \u70b9\u4e0b\u8f7d\uff0c\u5728\u8df3\u51fa\u6765\u7684\u7a97\u53e3\u4e2d\u9009\u62e9\u6211\u4eec\u9879\u76ee\u4f7f\u7528\u7684 2.12.13 \u7248\u672c\u3002 \u56de\u5230\u201c\u6dfb\u52a0 Scala \u652f\u6301\u201d\u7a97\u53e3\uff0c\u5728\u201c\u4f7f\u7528\u5e93\u201d\u4e2d\u9009\u4e2d\u6211\u4eec\u521a\u624d\u4e0b\u8f7d\u7684\u7248\u672c\uff0c\u70b9\u51fb\u786e\u5b9a\u3002\u6700\u540e\u8bb0\u5f97\u70b9\u51fb\u201c\u52a0\u8f7d sbt \u9879\u76ee\u201d\u52a0\u8f7d\u9879\u76ee\u914d\u7f6e\u3002 \u5927\u529f\u544a\u6210\uff01","title":"\u5b89\u88c5 Intellij IDEA \u548c Scala \u63d2\u4ef6"},{"location":"getting-started/environment/#\u5b89\u88c5-vivado","text":"\u4e2d\u5c71\u5927\u5b66\u7ec4\u6210\u539f\u7406\u5b9e\u9a8c\u8bfe\u4f7f\u7528\u7684 Basys3 \u5b9e\u9a8c\u677f\u578b\u53f7\u4e3a XC7A35T\uff0c\u9700\u8981 Xilinx \u7684\u5de5\u5177\u8fdb\u884c\u7efc\u5408\u5b9e\u73b0\u4ee5\u53ca\u70e7\u677f\u3002\u8fd9\u91cc\u5b89\u88c5 Vivado HL WebPACK \u5373\u53ef\uff0c\u4e0d\u9700\u8981\u8bb8\u53ef\u6216\u6fc0\u6d3b\u8bb8\u53ef\u5bc6\u94a5\u3002 \u7ecf\u8fc7\u6d4b\u8bd5\u4e14\u53ef\u7528\u7684 Vivado \u7248\u672c\u4e3a 2020.1\u3002\u66f4\u65b0\u6216\u66f4\u65e7\u7684\u7248\u672c\u7406\u8bba\u4e0a\u53ef\u4ee5\u4f7f\u7528\uff0c\u4f46\u6ca1\u6709\u7ecf\u8fc7\u6d4b\u8bd5\u3002 \u5b89\u88c5\u5305\u4f53\u79ef\u8f83\u5927\uff0c \u63a8\u8350\u4f7f\u7528\u5e26\u65ad\u70b9\u7eed\u4f20\u529f\u80fd\u7684\u4e0b\u8f7d\u5de5\u5177\u5982\u8fc5\u96f7\u3001Free Download Manager \u4e0b\u8f7d \u3002 \u5982\u679c\u4f60\u5728 \u4e2d\u5c71\u5927\u5b66\u6821\u56ed\u7f51\u5185 \u4e0b\u8f7d Vivado 2020.1 \u5b89\u88c5\u5305\uff0c\u53ef\u4ee5\u4f7f\u7528\u6211\u4eec\u63d0\u4f9b\u7684\u955c\u50cf\uff1a \u70b9\u6b64\u4e0b\u8f7d \u3002 \u4e5f\u53ef\u4ee5\u5728 Xilinx \u7684\u5b98\u7f51\u4e0b\u8f7d\uff1a \u70b9\u51fb\u8df3\u8f6c \u3002 \u9884\u7559\u8db3\u591f\u7684\u786c\u76d8\u7a7a\u95f4 Vivado 2020.1 \u5b89\u88c5\u5305\u4f53\u79ef\u8f83\u5927\uff0c\u7ea6\u4e3a 36 GB\uff0c\u4e14\u540e\u7eed\u5b89\u88c5\u4e5f\u8981\u4f7f\u7528\u5927\u91cf\u786c\u76d8\u7a7a\u95f4\u3002\u8bf7\u9884\u7559\u597d \u81f3\u5c11 100 GB \u7684\u786c\u76d8\u7a7a\u95f4 \u3002","title":"\u5b89\u88c5 Vivado"},{"location":"getting-started/environment/#\u5b89\u88c5-clang-\u7f16\u8bd1\u5668","text":"\u5982\u679c\u4f60 \u6ca1\u6709\u5b89\u88c5\u8fc7 Visual Studio \uff0c \u70b9\u6b64\u4e0b\u8f7d Visual Studio Build Tools \u5b89\u88c5\u5305 \u5e76\u8fd0\u884c\uff0c\u5728\u201c\u5de5\u4f5c\u8d1f\u8377\u201d\u6807\u7b7e\u9875\u9009\u62e9\u201c\u4f7f\u7528 C++ \u7684\u684c\u9762\u5f00\u53d1\u201d\uff0c\u5e76\u5728\u53f3\u4fa7\u201c\u5b89\u88c5\u8be6\u7ec6\u4fe1\u606f\u201d\u4e2d\u7684\u201c\u53ef\u9009\u201d\u5217\u8868\u91cc\uff0c\u52fe\u9009\u201c\u9002\u7528\u4e8e Windows \u7684 C++ Clang \u5de5\u5177\u201d\uff0c\u4e4b\u540e\u70b9\u51fb\u5b89\u88c5\u5373\u53ef\u3002 \u5982\u679c \u5df2\u7ecf\u5b89\u88c5\u8fc7 Visual Studio \uff0c\u5728\u5f00\u59cb\u83dc\u5355\u4e2d\u641c\u7d22\u201cVisual Studio Installer\u201d\uff0c\u7136\u540e\u70b9\u51fb\u201c\u4fee\u6539\u201d\uff0c\u9009\u4e2d\u201c\u5de5\u4f5c\u8d1f\u8377\u201d\u6807\u7b7e\u9875\u91cc\u7684\u201c\u4f7f\u7528 C++ \u7684\u684c\u9762\u5f00\u53d1\u201d\uff0c\u5e76\u5728\u53f3\u4fa7\u201c\u5b89\u88c5\u8be6\u7ec6\u4fe1\u606f\u201d\u4e2d\u7684\u201c\u53ef\u9009\u201d\u5217\u8868\u91cc\uff0c\u52fe\u9009\u201c\u9002\u7528\u4e8e Windows \u7684 C++ Clang \u5de5\u5177\u201d\uff0c\u4e4b\u540e\u70b9\u51fb\u201c\u5b89\u88c5\u201d\u5373\u53ef\u3002 \u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u5728\u5f00\u59cb\u83dc\u5355\u4e2d\u641c\u7d22\u201cDeveloper Command Prompt\u201d\uff0c\u7136\u540e\u8fd0\u884c\uff0c\u5e94\u8be5\u4f1a\u5f39\u51fa\u4e00\u4e2a\u547d\u4ee4\u884c\u7a97\u53e3\u663e\u793a\u4ee5\u4e0b\u4fe1\u606f\uff08\u4ee5\u4e0b\u4e3a\u5df2\u5b89\u88c5 Visual Studio \u7684\u6837\u4f8b\uff09\uff1a ********************************************************************** ** Visual Studio 2022 Developer Command Prompt v17.0.4 ** Copyright (c) 2021 Microsoft Corporation ********************************************************************** C:\\Program Files\\Microsoft Visual Studio\\2022\\Community> \u4e4b\u540e\uff0c cd \u5230\u4f60\u514b\u9686\u5230\u672c\u5730\u7684\u4ee3\u7801\u4ed3\u5e93\u7684\u4e2d\u7684 csrc \u6587\u4ef6\u5939\uff0c\u4f8b\u5982 C:\\yatcpu\\csrc \uff0c\u5982\u679c\u4f60\u7684\u9879\u76ee\u6587\u4ef6\u4fdd\u5b58\u5728\u522b\u7684\u76d8\u7b26\uff08\u4f8b\u5982 D: \uff09\uff0c\u8981\u5148\u8f93\u5165 D: \u6309\u56de\u8f66\u540e\u518d\u6267\u884c cd \u547d\u4ee4\u3002\u7136\u540e\u8fd0\u884c .\\build.bat \u811a\u672c\uff1a C:\\Program Files\\Microsoft Visual Studio\\2022\\Community>cd C:\\yatcpu\\csrc C:\\yatcpu\\csrc>.\\build.bat \u5982\u679c\u6b63\u5e38\u8fd0\u884c\uff0c\u5e94\u8be5\u770b\u5230\u4ee5\u4e0b\u8f93\u51fa\uff1a C:\\yatcpu\\csrc>rmdir /Q /S build \u7cfb\u7edf\u627e\u4e0d\u5230\u6307\u5b9a\u7684\u6587\u4ef6\u3002 C:\\yatcpu\\csrc>cmake -DCMAKE_TOOLCHAIN_FILE=toolchain.cmake -G\"NMake Makefiles\" -B build . -- The C compiler identification is Clang 12.0.0 -- The CXX compiler identification is Clang 12.0.0 -- The ASM compiler identification is Clang -- Found assembler: C:/Program Files/Microsoft Visual Studio/2022/Community/VC/Tools/Llvm/x64/bin/clang.exe -- Detecting C compiler ABI info -- Detecting C compiler ABI info - done -- Check for working C compiler: C:/Program Files/Microsoft Visual Studio/2022/Community/VC/Tools/Llvm/x64/bin/clang.exe - skipped -- Detecting C compile features -- Detecting C compile features - done -- Detecting CXX compiler ABI info -- Detecting CXX compiler ABI info - done -- Check for working CXX compiler: C:/Program Files/Microsoft Visual Studio/2022/Community/VC/Tools/Llvm/x64/bin/clang++.exe - skipped -- Detecting CXX compile features -- Detecting CXX compile features - done -- Configuring done -- Generating done -- Build files have been written to: C:/yatcpu/csrc/build C:\\yatcpu\\csrc>cmake --build build Scanning dependencies of target tetris [ 6%] Building ASM object CMakeFiles/tetris.dir/init.S.obj [ 12%] Building C object CMakeFiles/tetris.dir/tetris.c.obj [ 18%] Linking C executable tetris [ 18%] Built target tetris Scanning dependencies of target hello [ 25%] Building ASM object CMakeFiles/hello.dir/init.S.obj [ 31%] Building C object CMakeFiles/hello.dir/hello.c.obj [ 37%] Linking C executable hello [ 37%] Built target hello Scanning dependencies of target fibonacci [ 43%] Building ASM object CMakeFiles/fibonacci.dir/init.S.obj [ 50%] Building C object CMakeFiles/fibonacci.dir/fibonacci.c.obj [ 56%] Linking C executable fibonacci [ 56%] Built target fibonacci Scanning dependencies of target quicksort [ 62%] Building ASM object CMakeFiles/quicksort.dir/init.S.obj [ 68%] Building C object CMakeFiles/quicksort.dir/quicksort.c.obj [ 75%] Linking C executable quicksort [ 75%] Built target quicksort Scanning dependencies of target mmio [ 81%] Building ASM object CMakeFiles/mmio.dir/mmio.S.obj [ 87%] Linking ASM executable mmio [ 87%] Built target mmio Scanning dependencies of target sb [ 93%] Building ASM object CMakeFiles/sb.dir/sb.S.obj [100%] Linking ASM executable sb [100%] Built target sb","title":"\u5b89\u88c5 Clang \u7f16\u8bd1\u5668"},{"location":"getting-started/environment/#\u5b89\u88c5-verilator","text":"Chisel 3 \u81ea\u5e26\u7684\u4eff\u771f\u5668\u901f\u5ea6\u8f83\u6162\uff0cVerilator \u901a\u8fc7\u5c06 Verilog \u4ee3\u7801\u7f16\u8bd1\u4e3a C++ \u4ee3\u7801\u52a0\u901f\u4eff\u771f\u3002\u76ee\u524d\uff0cVerilator \u4ec5\u539f\u751f\u652f\u6301 Linux \u7cfb\u7edf\uff0c\u4f46\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 MSYS2 \u5728 Windows \u4e0a\u4f7f\u7528 Verilator\u3002 \u9996\u5148\u9700\u8981\u5b89\u88c5 MSYS2\uff0c\u5230 \u5b98\u65b9\u7f51\u7ad9\u4e0b\u8f7d\u6700\u65b0\u7684\u5b89\u88c5\u5305 \uff0c\u8fd0\u884c\u5b89\u88c5\u7a0b\u5e8f\u3002\u6ce8\u610f \u5b89\u88c5\u8def\u5f84\u4e0d\u80fd\u542b\u6709\u4e2d\u6587\u548c\u7a7a\u683c \uff0c\u5efa\u8bae\u76f4\u63a5\u5b89\u88c5\u5728\u9ed8\u8ba4\u7684 C:\\msys64 \u4e0b\u3002\u5b89\u88c5\u5b8c\u6210\u4e4b\u540e\uff0c\u6309 Win + R \uff0c\u8f93\u5165 cmd \u56de\u8f66\uff0c\u6253\u5f00\u547d\u4ee4\u63d0\u793a\u7b26\uff0c\u8fd0\u884c\uff1a C:\\msys64\\usr\\bin\\bash.exe -l -c ^ \"pacman -Sy --noconfirm --needed ^ base-devel mingw-w64-x86_64-toolchain ^ git flex mingw-w64-x86_64-cmake ^ mingw-w64-x86_64-verilator\" \u8be5\u547d\u4ee4\u5c06\u5b89\u88c5 Verilator \u4ee5\u53ca\u5176\u4f9d\u8d56\u3002\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u8fd8\u9700\u8981\u8bbe\u7f6e\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\uff0c\u5728\u5f00\u59cb\u83dc\u5355\u641c\u7d22\u201c\u73af\u5883\u53d8\u91cf\u201d\uff0c\u6253\u5f00\u201c\u7f16\u8f91\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u201d\uff0c\u5728\u5f39\u51fa\u7684\u5bf9\u8bdd\u6846\u70b9\u51fb\u201c\u73af\u5883\u53d8\u91cf\u201d\uff0c\u53cc\u51fb\u7528\u6237\u53d8\u91cf\u4e2d\u7684\u201cPath\u201d\uff0c\u70b9\u51fb\u201c\u65b0\u5efa\u201d\uff0c\u5728 \u6700\u540e \u6dfb\u52a0\u4e24\u884c\uff1a C:\\msys64\\usr\\bin C:\\msys64\\mingw64\\bin \u4e4b\u540e\u4e00\u8def\u70b9\u201c\u786e\u5b9a\u201d\u5173\u6389\u6240\u6709\u5bf9\u8bdd\u6846\uff0c\u5e76\u5173\u6389\u521a\u521a\u6253\u5f00\u7684\u547d\u4ee4\u63d0\u793a\u7b26\u3002\u7136\u540e\u91cd\u65b0\u6253\u5f00\u547d\u4ee4\u63d0\u793a\u7b26\uff0c\u8fd0\u884c verilator_bin --version \uff0c\u5982\u679c\u914d\u7f6e\u6b63\u786e\uff0c\u5e94\u5f53\u770b\u5230\u7c7b\u4f3c\u7684\u8f93\u51fa\uff1a C:\\>verilator_bin --version Verilator 4.218 2022-01-17 rev UNKNOWN.REV \u4e4b\u540e\uff0c\u8fd0\u884c\u4eff\u771f\u6d4b\u8bd5\u7684\u65f6\u5019\uff0c\u6d4b\u8bd5\u6846\u67b6\u5c06\u81ea\u52a8\u5bfb\u627e Verilator \u5e76\u7528\u6765\u52a0\u901f\u3002","title":"\u5b89\u88c5 Verilator"},{"location":"getting-started/environment/#linuxwsl1-\u914d\u7f6e\u65b9\u6cd5","text":"\u4e0b\u9762\u4ecb\u7ecd\u5982\u4f55\u5728 Linux \u6216 WSL(Windows Subsystem for Linux) \u73af\u5883\u4e2d\u642d\u5efa\u672c\u5b9e\u9a8c\u7684\u5f00\u53d1\u73af\u5883\u3002 \u8fd9\u91cc \u7ed9\u51fa\u642d\u5efa\u76f8\u5173\u73af\u5883\u7684\u4e00\u4e2a\u53c2\u7167\u3002 \u8fd9\u91cc\u5047\u8bbe\u4f60\u4f7f\u7528\u7684 Linux \u6216 WSL \u7cfb\u7edf\u662f Debian 11\u3002\u5bf9\u4e8e\u4f7f\u7528\u5176\u4ed6 Linux \u7cfb\u7edf\u7684\u540c\u5b66\uff0c\u64cd\u4f5c\u662f\u7c7b\u4f3c\u7684\uff0c\u76f8\u4fe1\u4f60\u6709\u8db3\u591f\u7684\u80fd\u529b\u53c2\u8003\u4e0b\u9762\u7684\u6307\u4ee4\u642d\u5efa\u73af\u5883\u3002","title":"Linux/WSL1 \u914d\u7f6e\u65b9\u6cd5"},{"location":"getting-started/environment/#\u5b89\u88c5\u5fc5\u8981\u5de5\u5177","text":"\u672c\u5b9e\u9a8c\u5c06\u4f1a\u4f7f\u7528\u5230\u4ee5\u4e0b\u5de5\u5177\uff0c\u9664 sbt \u5916\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u63d0\u4f9b\u7684\u547d\u4ee4\u4e00\u952e\u5b89\u88c5\uff1a sudo apt install -y git \\ clang \\ make \\ gnupg \\ scala \\ libtinfo5 \\ coreutils \\ cmake \\ llvm \\ lld \u540d\u79f0 \u8bf4\u660e git \u4ee3\u7801\u7248\u672c\u7ba1\u7406\u5de5\u5177 clang, lld \u7528\u4e8e\u7f16\u8bd1\u751f\u6210 RISC-V \u53ef\u6267\u884c\u4e8c\u8fdb\u5236\u6587\u4ef6 llvm \u7528\u4e8e\u7f16\u8f91\u548c\u67e5\u770b\u4e8c\u8fdb\u5236\u6587\u4ef6 make \u7528\u4e8e\u6267\u884c Makefile cmake \u7528\u4e8e\u6267\u884c CMakeLists.txt gnupg \u7b7e\u540d\u9a8c\u8bc1\u5de5\u5177 scala \u672c\u9879\u76ee\u7684\u8bed\u8a00\u7f16\u8bd1\u5668 sbt Scala \u5305\u7ba1\u7406\u5668 libtinfo5 Vivado \u542f\u52a8\u4f9d\u8d56 md5sum \u5b89\u88c5\u5305\u6821\u9a8c\u5de5\u5177","title":"\u5b89\u88c5\u5fc5\u8981\u5de5\u5177"},{"location":"getting-started/environment/#\u5b89\u88c5-sbt-\u5305\u7ba1\u7406\u5668","text":"sbt \u76ee\u524d\u4ecd\u7136\u5728 Debian \u7684 \u4e0d\u7a33\u5b9a \u7248\u672c\u4e2d\u3002\u5bf9\u4e8e\u4e0d\u5e0c\u671b\u4f7f\u7528 sid \u7cfb\u7edf\u7684\u540c\u5b66\uff0c\u53ef\u4ee5\u6309\u7167 \u6587\u6863 \u7684\u6307\u793a\u4e0b\u8f7d\u5b89\u88c5\u3002 curl -fsSL \"https://keyserver.ubuntu.com/pks/lookup?op=get&\\ search=0x2EE0EA64E40A89B84B2DF73499E82A75642AC823\" | \\ sudo gpg --dearmor -o /usr/share/keyrings/scalasbt-archive-keyring.gpg echo \"deb [signed-by=/usr/share/keyrings/scalasbt-archive-keyring.gpg] \\ https://repo.scala-sbt.org/scalasbt/debian all main\" | sudo tee \\ /etc/apt/sources.list.d/sbt.list echo \"deb [signed-by=/usr/share/keyrings/scalasbt-archive-keyring.gpg] \\ https://repo.scala-sbt.org/scalasbt/debian /\" | sudo tee \\ /etc/apt/sources.list.d/sbt_old.list sudo apt update sudo apt install sbt","title":"\u5b89\u88c5 sbt \u5305\u7ba1\u7406\u5668"},{"location":"getting-started/environment/#\u5b89\u88c5-vivado_1","text":"\u4e2d\u5c71\u5927\u5b66\u7ec4\u6210\u539f\u7406\u5b9e\u9a8c\u8bfe\u4f7f\u7528\u7684 Basys3 \u5b9e\u9a8c\u677f\u578b\u53f7\u4e3a XC7A35T\uff0c\u9700\u8981 Xilinx \u7684\u5de5\u5177\u8fdb\u884c\u7efc\u5408\u5b9e\u73b0\u4ee5\u53ca\u70e7\u677f\u3002\u8fd9\u91cc\u5b89\u88c5 Vivado HL WebPACK \u5373\u53ef\uff0c\u4e0d\u9700\u8981\u8bb8\u53ef\u6216\u6fc0\u6d3b\u8bb8\u53ef\u5bc6\u94a5\u3002 \u7ecf\u8fc7\u6d4b\u8bd5\u4e14\u53ef\u7528\u7684 Vivado \u7248\u672c\u4e3a 2020.1\u3002\u66f4\u65b0\u6216\u66f4\u65e7\u7684\u7248\u672c\u7406\u8bba\u4e0a\u53ef\u4ee5\u4f7f\u7528\uff0c\u4f46\u6ca1\u6709\u7ecf\u8fc7\u6d4b\u8bd5\u3002 \u4e2d\u5c71\u5927\u5b66\u6821\u56ed\u7f51\u5185\u4e0b\u8f7d Vivado 2020.1 \u5b89\u88c5\u5305\uff0c\u53ef\u4ee5\u4f7f\u7528\u6211\u4eec\u63d0\u4f9b\u7684\u955c\u50cf\u3002 \u9884\u7559\u8db3\u591f\u7684\u786c\u76d8\u7a7a\u95f4 Vivado 2020.1 \u5b89\u88c5\u5305\u4f53\u79ef\u8f83\u5927\uff0c\u7ea6\u4e3a 36 GB\uff0c\u4e14\u540e\u7eed\u5b89\u88c5\u4e5f\u8981\u4f7f\u7528\u5927\u91cf\u786c\u76d8\u7a7a\u95f4\u3002\u8bf7\u9884\u7559\u597d \u81f3\u5c11 100 GB \u7684\u786c\u76d8\u7a7a\u95f4 \u3002 \u4e0b\u9762\u662f\u4f7f\u7528 curl \u4e0b\u8f7d\u6821\u56ed\u7f51\u5b89\u88c5\u5305\u955c\u50cf\u7684\u547d\u4ee4\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5176\u4ed6\u65b9\u5f0f\u4e0b\u8f7d\u3002 # \u4e0b\u8f7d curl -O https://mirrors.matrix.moe/software/Xilinx_Unified_2020.1_0602_1208.tar.gz # \u4e5f\u53ef\u4ee5\u5728 Xilinx \u7684\u5b98\u7f51\u4e0b\u8f7d # https://china.xilinx.com/support/download/index.html/content/xilinx/zh/downloadNav/vivado-design-tools/archive.html \u7531\u4e8e\u6587\u4ef6\u8f83\u5927\uff0c\u4e3a\u4e86\u6821\u9a8c\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u662f\u5426\u53d1\u751f\u9519\u8bef\uff0c\u8bf7\u5728\u4e0b\u8f7d\u5b8c\u6210\u540e\u9a8c\u8bc1\u5b89\u88c5\u5305\u7684 MD5 \u503c\u3002\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8ba1\u7b97\u6587\u4ef6\u7684 MD5 \u503c\uff1a md5sum Xilinx_Unified_2020.1_0602_1208.tar.gz \u547d\u4ee4\u5e94\u5f53\u8f93\u51fa\u4ee5\u4e0b\u5185\u5bb9\uff1a b018f7b331ab0446137756156ff944d9 Xilinx_Unified_2020.1_0602_1208.tar.gz \u5982\u679c\u4e0d\u4e00\u81f4\uff0c\u8bf7\u91cd\u65b0\u4e0b\u8f7d\u3002\u6821\u9a8c\u901a\u8fc7\u540e\uff0c\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u89e3\u538b\u5b89\u88c5\u5305\u5e76\u751f\u6210\u5b89\u88c5\u914d\u7f6e\u6587\u4ef6\uff1a tar -zxf Xilinx_Unified_2020.1_0602_1208.tar.gz cd Xilinx_Unified_2020.1_0602_1208 ./xsetup -b ConfigGen \u5148\u8f93\u5165 2 \u518d\u8f93\u5165 1 \uff0c\u8fd9\u65f6\u4f1a\u9009\u4e2d Vivado HL WebPACK \u3002\u6700\u540e\u4f1a\u4ea7\u751f\u4e00\u4e2a\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6 ~/.Xilinx/install_config.txt \u3002 \u968f\u540e\u518d\u6b21\u6267\u884c\u4e0b\u8ff0\u6307\u4ee4\uff0c\u5b89\u88c5 Vivado HL WebPACK \u3002 ./xsetup -a XilinxEULA,3rdPartyEULA,WebTalkTerms -b Install \\ -c ~/.Xilinx/install_config.txt -l ~/Xilinx \u5176\u4e2d ~/Xilinx \u662f\u5b89\u88c5\u76ee\u5f55\uff0c\u53ef\u4ee5\u81ea\u884c\u5b9a\u4e49\u3002","title":"\u5b89\u88c5 Vivado"},{"location":"getting-started/environment/#\u6d4b\u8bd5-clang-\u7f16\u8bd1\u5668","text":"cd \u5230\u4ed3\u5e93\u4e2d\u7684 csrc \u76ee\u5f55\uff0c\u8fd0\u884c ./build.sh \u811a\u672c\uff0c\u4e00\u5207\u6b63\u5e38\u7684\u8bdd\u5e94\u5f53\u770b\u5230\u5982\u4e0b\u8f93\u51fa\uff1a ~/chisel-riscv/csrc$ ./build.sh -- The C compiler identification is Clang 11 .0.1 -- The CXX compiler identification is Clang 11 .0.1 -- The ASM compiler identification is Clang -- Found assembler: /usr/bin/clang -- Detecting C compiler ABI info -- Detecting C compiler ABI info - done -- Check for working C compiler: /usr/bin/clang - skipped -- Detecting C compile features -- Detecting C compile features - done -- Detecting CXX compiler ABI info -- Detecting CXX compiler ABI info - done -- Check for working CXX compiler: /usr/bin/clang++ - skipped -- Detecting CXX compile features -- Detecting CXX compile features - done -- Configuring done -- Generating done -- Build files have been written to: /mnt/c/Users/Liuhaohua/Desktop/chisel-riscv/csrc/build Scanning dependencies of target prelude [ 7 % ] Building ASM object CMakeFiles/prelude.dir/init.S.obj [ 14 % ] Linking ASM static library libprelude.a [ 14 % ] Built target prelude Scanning dependencies of target fibonacci Scanning dependencies of target hello Scanning dependencies of target mmio Scanning dependencies of target quicksort Scanning dependencies of target tetris Scanning dependencies of target sb [ 21 % ] Building ASM object CMakeFiles/mmio.dir/mmio.S.obj [ 57 % ] Building C object CMakeFiles/quicksort.dir/quicksort.c.obj [ 57 % ] Building ASM object CMakeFiles/sb.dir/sb.S.obj [ 57 % ] Building C object CMakeFiles/tetris.dir/tetris.c.obj [ 57 % ] Building C object CMakeFiles/fibonacci.dir/fibonacci.c.obj [ 57 % ] Building C object CMakeFiles/hello.dir/hello.c.obj [ 78 % ] Linking C executable quicksort [ 78 % ] Linking C executable fibonacci [ 78 % ] Linking C executable tetris [ 100 % ] Linking ASM executable sb [ 100 % ] Linking C executable hello [ 100 % ] Linking ASM executable mmio [ 100 % ] Built target quicksort [ 100 % ] Built target tetris [ 100 % ] Built target fibonacci [ 100 % ] Built target sb [ 100 % ] Built target mmio [ 100 % ] Built target hello","title":"\u6d4b\u8bd5 Clang \u7f16\u8bd1\u5668"},{"location":"getting-started/environment/#\u5b89\u88c5-verilator_1","text":"Verilator \u662f\u4e00\u6b3e\u5c06 Verilog \u4ee3\u7801\u7f16\u8bd1\u5230 C++ \u4ee3\u7801\u4ee5\u52a0\u901f\u6a21\u62df\u8fc7\u7a0b\u7684\u8f6f\u4ef6\uff0c\u76ee\u524d\u4ec5\u652f\u6301\u5728 Linux/macOS \u73af\u5883\u4e0b\u8fd0\u884c\u3002\u800c Chisel 3 \u81ea\u5e26\u7684\u6a21\u62df\u8f6f\u4ef6\u8f83\u6162\uff0c\u5bf9\u4e8e\u540e\u671f\u9700\u8981 CPU \u8fd0\u884c\u8f83\u5927\u7684\u7a0b\u5e8f\u65f6\uff0c\u6d4b\u8bd5\u8fc7\u7a0b\u53ef\u80fd\u4f1a\u5f88\u6162\u3002\u5bf9\u4e8e\u5927\u578b\u7684\u6d4b\u8bd5\uff0c\u6d4b\u8bd5\u7a0b\u5e8f\u4f1a\u5728 PATH \u76ee\u5f55\u4e2d\u5bfb\u627e Verilator \u4ee5\u52a0\u901f\u6d4b\u8bd5\u8fc7\u7a0b\uff0c\u63d0\u9ad8\u8fed\u4ee3\u6548\u7387\u3002 \u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7 apt \u5b89\u88c5\uff1a sudo apt install verilator \u6216\u8005\u4f7f\u7528 Verilator \u63a8\u8350\u7684\u5b89\u88c5\u65b9\u5f0f\uff0c\u4ece\u6e90\u7801\u5b89\u88c5\uff1a cd $HOME sudo apt-get install git perl python3 make autoconf g++ \\ flex bison ccache libgoogle-perftools-dev numactl perl-doc git clone --depth 1 -b stable https://github.com/verilator/verilator cd verilator autoconf ./configure make -j ` nproc ` sudo make install \u4fee\u6539\u5b89\u88c5\u8def\u5f84 \u5982\u679c\u4e0d\u60f3\u5168\u5c40\u5b89\u88c5\uff0c\u53ef\u4ee5\u5728 ./configure \u540e\u52a0\u53c2\u6570 --prefix=/path/to/install \uff0c\u6307\u5b9a\u5b89\u88c5\u8def\u5f84\uff0c\u4e14\u5728\u540e\u7eed\u6d4b\u8bd5\u65f6\uff0c\u9700\u8981\u5c06\u5b89\u88c5\u8def\u5f84\u6dfb\u52a0\u5230 PATH \u73af\u5883\u53d8\u91cf\uff0c\u4ee5\u4fbf\u6d4b\u8bd5\u7a0b\u5e8f\u53ef\u4ee5\u627e\u5230 Verilator \u53ef\u6267\u884c\u7a0b\u5e8f\u3002 \u547d\u4ee4\u6267\u884c\u5b8c\u6bd5\u540e\uff0c\u53ef\u4ee5\u6267\u884c\u547d\u4ee4 verilator --version \u6d4b\u8bd5\u5b89\u88c5\u662f\u5426\u6210\u529f\u3002\u5982\u679c\u5b89\u88c5\u65e0\u8bef\uff0c\u5e94\u5f53\u770b\u5230\u5982\u4e0b\u8f93\u51fa\uff08\u7248\u672c\u53f7\u53ef\u80fd\u4e0d\u540c\uff09\uff1a Verilator 4.219 devel rev UNKNOWN.REV (mod) \u4e4b\u540e\uff0c\u8fd0\u884c\u4eff\u771f\u6d4b\u8bd5\u7684\u65f6\u5019\uff0c\u6d4b\u8bd5\u6846\u67b6\u5c06\u81ea\u52a8\u5bfb\u627e Verilator \u5e76\u7528\u6765\u52a0\u901f\u3002","title":"\u5b89\u88c5 Verilator"},{"location":"getting-started/environment/#macos-\u914d\u7f6e\u6307\u5357","text":"\u5efa\u8bae\u4f7f\u7528 Homebrew \u5305\u7ba1\u7406\u5668\uff0c\u6267\u884c\uff1a brew install llvm cmake verilator sbt","title":"macOS \u914d\u7f6e\u6307\u5357"},{"location":"getting-started/program-device/","text":"\u70e7\u677f\u9a8c\u8bc1 \u00b6 By: wu-kan \u751f\u6210\u4e8c\u8fdb\u5236\u6587\u4ef6 \u00b6 \u5047\u8bbe\u4f60\u7684 Vivado \u5b89\u88c5\u76ee\u5f55\u662f ~/Xilinx \uff08\u5176\u4ed6\u76ee\u5f55\u81ea\u884c\u4fee\u6539\uff09\uff0c\u6267\u884c\u4e0b\u8ff0\u6307\u4ee4\uff0c\u53ef\u4ee5\u6839\u636e verilog/Top.v \u751f\u6210\u4e8c\u8fdb\u5236\u6587\u4ef6 vivado/riscv-basys3/riscv-basys3.runs/impl_1/Top.bit \u3002 cd vivado ~/Xilinx/Vivado/2020.1/bin/vivado -mode batch \\ -source ./generate_bitstream.tcl \u70e7\u677f \u00b6 \u7531\u4e8e WSL \u4e0b\u6682\u65f6\u4e0d\u53ef\u4ee5\u4f7f\u7528 USB \u8bbe\u5907\uff0c\u56e0\u6b64\u4e0d\u53ef\u4ee5\u76f4\u63a5\u70e7\u677f\u3002\u89e3\u51b3\u65b9\u6848\u6709\u4e24\u4e2a\u3002 \u4f7f\u7528 USB \u65b9\u5f0f\u70e7\u677f \u00b6 \u9700\u8981\u4e00\u4e2a FAT32 \u683c\u5f0f\u7684 U \u76d8\u3002 \u5728 Windows \u4e0b\u70e7\u677f \u00b6 \u7531\u4e8e WSL \u4e0b\u53ef\u4ee5\u8c03\u7528 powershell \uff0c\u6211\u4eec\u53ef\u4ee5\u56de\u5230 Windows \u4e0b\u70e7\u677f\u3002Windows \u4e0b\u53ef\u4ee5\u53ea\u88c5 Vivado Lab\uff0c\u548c\u5b8c\u6574\u7248\u7684 Vivado \u76f8\u6bd4\u53ea\u6709\u70e7\u677f\u529f\u80fd\uff0c\u7cbe\u7b80\u5f88\u591a\uff0c\u5b89\u88c5\u5305\u4f53\u79ef\u7ea6\u4e3a 1 GB\u3002 # \u5047\u8bbe\u4f60\u5728\u672c\u9879\u76ee\u7684 vivado \u76ee\u5f55\u4e0b\uff0c\u540c\u65f6 Windows \u4e0b Vivado Lab 2020.1 \u5b89\u88c5\u5728 C:\\Xilinx \u76ee\u5f55\u4e0b powershell.exe 'C:\\Xilinx\\Vivado_Lab\\2020.1\\bin\\vivado_lab.bat -mode batch -source .\\program_device.tcl' \u4e2d\u5c71\u5927\u5b66\u6821\u56ed\u7f51\u5185 \u4e0b\u8f7d Vivado Lab \u5b89\u88c5\u5305\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u6211\u4eec\u63d0\u4f9b\u7684\u7684\u955c\u50cf\uff1a \u70b9\u6b64\u4e0b\u8f7d \u70e7\u677f\u7ed3\u679c \u00b6 \u5982\u679c\u4e00\u5207\u6b63\u5e38\uff0c\u5728\u6240\u6709\u7684\u5f00\u5173\u5904\u4e8e\u4e0b\u9762\u7684\u4f4d\u7f6e\u7684\u65f6\u5019\uff0c\u677f\u4e0a\u6570\u7801\u7ba1\u5e94\u5f53\u663e\u793a \u201cSYSU\u201d \u7684\u5b57\u6bcd\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a","title":"\u70e7\u677f\u9a8c\u8bc1"},{"location":"getting-started/program-device/#\u70e7\u677f\u9a8c\u8bc1","text":"By: wu-kan","title":"\u70e7\u677f\u9a8c\u8bc1"},{"location":"getting-started/program-device/#\u751f\u6210\u4e8c\u8fdb\u5236\u6587\u4ef6","text":"\u5047\u8bbe\u4f60\u7684 Vivado \u5b89\u88c5\u76ee\u5f55\u662f ~/Xilinx \uff08\u5176\u4ed6\u76ee\u5f55\u81ea\u884c\u4fee\u6539\uff09\uff0c\u6267\u884c\u4e0b\u8ff0\u6307\u4ee4\uff0c\u53ef\u4ee5\u6839\u636e verilog/Top.v \u751f\u6210\u4e8c\u8fdb\u5236\u6587\u4ef6 vivado/riscv-basys3/riscv-basys3.runs/impl_1/Top.bit \u3002 cd vivado ~/Xilinx/Vivado/2020.1/bin/vivado -mode batch \\ -source ./generate_bitstream.tcl","title":"\u751f\u6210\u4e8c\u8fdb\u5236\u6587\u4ef6"},{"location":"getting-started/program-device/#\u70e7\u677f","text":"\u7531\u4e8e WSL \u4e0b\u6682\u65f6\u4e0d\u53ef\u4ee5\u4f7f\u7528 USB \u8bbe\u5907\uff0c\u56e0\u6b64\u4e0d\u53ef\u4ee5\u76f4\u63a5\u70e7\u677f\u3002\u89e3\u51b3\u65b9\u6848\u6709\u4e24\u4e2a\u3002","title":"\u70e7\u677f"},{"location":"getting-started/program-device/#\u4f7f\u7528-usb-\u65b9\u5f0f\u70e7\u677f","text":"\u9700\u8981\u4e00\u4e2a FAT32 \u683c\u5f0f\u7684 U \u76d8\u3002","title":"\u4f7f\u7528 USB \u65b9\u5f0f\u70e7\u677f"},{"location":"getting-started/program-device/#\u5728-windows-\u4e0b\u70e7\u677f","text":"\u7531\u4e8e WSL \u4e0b\u53ef\u4ee5\u8c03\u7528 powershell \uff0c\u6211\u4eec\u53ef\u4ee5\u56de\u5230 Windows \u4e0b\u70e7\u677f\u3002Windows \u4e0b\u53ef\u4ee5\u53ea\u88c5 Vivado Lab\uff0c\u548c\u5b8c\u6574\u7248\u7684 Vivado \u76f8\u6bd4\u53ea\u6709\u70e7\u677f\u529f\u80fd\uff0c\u7cbe\u7b80\u5f88\u591a\uff0c\u5b89\u88c5\u5305\u4f53\u79ef\u7ea6\u4e3a 1 GB\u3002 # \u5047\u8bbe\u4f60\u5728\u672c\u9879\u76ee\u7684 vivado \u76ee\u5f55\u4e0b\uff0c\u540c\u65f6 Windows \u4e0b Vivado Lab 2020.1 \u5b89\u88c5\u5728 C:\\Xilinx \u76ee\u5f55\u4e0b powershell.exe 'C:\\Xilinx\\Vivado_Lab\\2020.1\\bin\\vivado_lab.bat -mode batch -source .\\program_device.tcl' \u4e2d\u5c71\u5927\u5b66\u6821\u56ed\u7f51\u5185 \u4e0b\u8f7d Vivado Lab \u5b89\u88c5\u5305\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u6211\u4eec\u63d0\u4f9b\u7684\u7684\u955c\u50cf\uff1a \u70b9\u6b64\u4e0b\u8f7d","title":"\u5728 Windows \u4e0b\u70e7\u677f"},{"location":"getting-started/program-device/#\u70e7\u677f\u7ed3\u679c","text":"\u5982\u679c\u4e00\u5207\u6b63\u5e38\uff0c\u5728\u6240\u6709\u7684\u5f00\u5173\u5904\u4e8e\u4e0b\u9762\u7684\u4f4d\u7f6e\u7684\u65f6\u5019\uff0c\u677f\u4e0a\u6570\u7801\u7ba1\u5e94\u5f53\u663e\u793a \u201cSYSU\u201d \u7684\u5b57\u6bcd\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a","title":"\u70e7\u677f\u7ed3\u679c"},{"location":"getting-started/simulation/","text":"\u6ce2\u5f62\u4eff\u771f \u00b6 By: howardlau1999 \u5728\u70e7\u677f\u9a8c\u8bc1\u4e4b\u524d\uff0c\u53ef\u4ee5\u4f7f\u7528\u6ce2\u5f62\u4eff\u771f\u518d\u8fdb\u884c\u4e00\u6b21\u6d4b\u8bd5\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 Vivado \u6216\u8005 Verilator \u8fdb\u884c\u6ce2\u5f62\u4eff\u771f\u3002\u4f7f\u7528 Verilator \u4eff\u771f\u9700\u8981\u5b89\u88c5 C++ \u7f16\u8bd1\u5668\u3002 \u751f\u6210\u6ce2\u5f62\u6587\u4ef6 \u00b6 \u6d4b\u8bd5\u65f6\u751f\u6210\u6ce2\u5f62\u6587\u4ef6 \u00b6 \u5728\u8fd0\u884c\u6d4b\u8bd5\u65f6\uff0c\u5982\u679c\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf WRITE_VCD \u4e3a 1 \uff0c\u5219\u4f1a\u751f\u6210\u6ce2\u5f62\u6587\u4ef6\u3002 Linux/macOS Windows Intellij IDEA WRITE_VCD = 1 sbt test Powershell: $Env:WRITE_VCD = 1 ; sbt test \u547d\u4ee4\u63d0\u793a\u7b26: set WRITE_VCD=1 sbt test \u5148\u70b9\u51fb\u53f3\u4e0a\u89d2\u4e09\u89d2\u5f62\u5de6\u8fb9\u7684\u4e0b\u62c9\u83dc\u5355\uff0c\u70b9 \u201cEdit configurations...\u201d\uff0c\u5982\u679c\u6ca1\u6709\u5c31\u5148\u8fd0\u884c\u4e00\u6b21\u6d4b\u8bd5\u3002 \u5728 \u201cEnvironment Variables\u201d \u9009\u9879\u4e2d\uff0c\u6dfb\u52a0\u4e00\u4e2a\u73af\u5883\u53d8\u91cf\uff0c\u540d\u79f0\u4e3a WRITE_VCD \uff0c\u503c\u4e3a 1 \u3002 \u4e4b\u540e\u70b9 OK \u4fdd\u5b58\u5373\u53ef\u3002 \u4e4b\u540e\u53ef\u4ee5\u5728 test_run_dir \u76ee\u5f55\u4e0b\u7684\u5404\u4e2a\u5b50\u76ee\u5f55\u4e2d\u627e\u5230 .vcd \u6587\u4ef6\uff0c\u4f7f\u7528 GTKWave \u6253\u5f00\u5373\u53ef\uff0c\u53c2\u8003 \u67e5\u770b\u6ce2\u5f62\u6587\u4ef6 \u4e00\u8282\u3002 \u4f7f\u7528 Verilator \u4eff\u771f\u751f\u6210\u6ce2\u5f62\u6587\u4ef6 \u00b6 \u5982\u679c\u60f3\u5feb\u901f\u6d4b\u8bd5\u81ea\u5df1\u7f16\u5199\u7684\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u4f7f\u7528 Verilator \u8fdb\u884c\u4eff\u771f\uff0c\u4eff\u771f\u7684\u4e3b\u51fd\u6570\u5df2\u7ecf\u5199\u597d\uff0c\u4f4d\u4e8e verilog/verilator/sim_main.cpp \u3002\u5728\u7b2c\u4e00\u6b21\u8fd0\u884c\u4ee5\u53ca\u6bcf\u6b21\u4fee\u6539\u4e86 Chisel 3 \u4ee3\u7801\u540e\uff0c\u9700\u8981\u5728\u9879\u76ee\u6839\u76ee\u5f55\u6267\u884c\u547d\u4ee4\u751f\u6210 Verilog \u6587\u4ef6\uff1a sbt \"runMain board.verilator.VerilogGenerator\" \u4e4b\u540e\uff0c\u8fdb\u5165 verilog/verilator \u76ee\u5f55\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u751f\u6210\u4eff\u771f\u7a0b\u5e8f\uff1a Linux/macOS Windows verilator --cc --exe --trace --build Top.v sim_main.cpp \u6216 verilator --cc --exe --trace Top.v sim_main.cpp make -C obj_dir -f VTop.mk verilator_bin --cc --exe --trace --build Top.v sim_main.cpp \u6216 verilator_bin --cc --exe --trace Top.v sim_main.cpp make -C obj_dir -f VTop.mk \u7f16\u8bd1\u5b8c\u6210\u540e\uff0c\u4f1a\u751f\u6210 obj_dir/VTop \uff08Windows \u4e0b\u4e3a obj_dir/VTop.exe \uff09\u7684\u53ef\u6267\u884c\u6587\u4ef6\u3002\u8be5\u53ef\u6267\u884c\u6587\u4ef6\u53ef\u4ee5\u4f20\u5165\u53c2\u6570\u4ece\u800c\u8fd0\u884c\u4e0d\u540c\u7684\u4ee3\u7801\u6587\u4ef6\u3002\u53c2\u6570\u4ee5\u53ca\u5176\u7528\u6cd5\u5982\u4e0b\uff1a \u53c2\u6570 \u7528\u6cd5 -memory \u6307\u5b9a\u4eff\u771f\u5185\u5b58\u7684\u5927\u5c0f\uff0c\u5355\u4f4d\u4e3a\u5b57\uff084\u5b57\u8282\uff09\u3002\u7528\u4f8b\uff1a -memory 4096 -instruction \u6307\u5b9a\u7528\u4e8e\u521d\u59cb\u5316\u4eff\u771f\u5185\u5b58\u7684 RISC-V \u7a0b\u5e8f\u3002\u7528\u4f8b\uff1a -instruction ~/yatcpu/src/main/resources/hello.asmbin -signature \u6307\u5b9a\u4eff\u771f\u7ed3\u675f\u540e\uff0c\u9700\u8981\u8f93\u51fa\u7684\u5185\u5b58\u8303\u56f4\u4ee5\u53ca\u76ee\u7684\u6587\u4ef6\u3002\u7528\u4f8b\uff1a -signature 0x100 0x200 mem.txt -halt \u6307\u5b9a\u505c\u673a\u6807\u8bc6\u7b26\u5730\u5740\uff0c\u5f80\u8be5\u5185\u5b58\u5730\u5740\u5199\u5165 0xBABECAFE \u5373\u505c\u6b62\u4eff\u771f\u3002\u7528\u4f8b\uff1a -halt 0x8000 -vcd \u6307\u5b9a\u4eff\u771f\u8fc7\u7a0b\u6ce2\u5f62\u4fdd\u5b58\u7684\u6587\u4ef6\u540d\uff0c\u4e0d\u6307\u5b9a\u5219\u4e0d\u4f1a\u751f\u6210\u6ce2\u5f62\u6587\u4ef6\u3002\u7528\u4f8b\uff1a -vcd dump.vcd -time \u6307\u5b9a\u6700\u5927\u4eff\u771f\u65f6\u95f4\uff0c\u6ce8\u610f\u65f6\u95f4\u662f\u5468\u671f\u6570\u7684\u4e24\u500d\u3002\u7528\u4f8b\uff1a -time 1000 \u4f8b\u5982\uff0c\u5982\u679c\u60f3\u52a0\u8f7d hello.asmbin \u6587\u4ef6\uff0c\u4eff\u771f 1000 \u4e2a\u5468\u671f\uff0c\u5e76\u5c06\u4eff\u771f\u6ce2\u5f62\u4fdd\u5b58\u5230 dump.vcd \u6587\u4ef6\uff0c\u53ef\u4ee5\u8fd0\u884c\uff1a obj_dir/VTop -instruction ~/yatcpu/src/main/resources/hello.asmbin \\ -time 2000 -vcd dump.vcd \u53e6\u5916\uff0c\u4f7f\u7528 Verilator \u4eff\u771f\u65f6\uff0c\u5411\u5185\u5b58\u5730\u5740 0x40000010 \uff08\u4e5f\u5373 UART \u7684 MMIO \u5730\u5740\uff09\u5199\u5165\u7684\u6570\u636e\u5c06\u8f6c\u6362\u4e3a\u5b57\u7b26\u8f93\u51fa\u5230\u6807\u51c6\u8f93\u51fa\uff0c\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0 printf \u7b49\u529f\u80fd\uff0c\u65b9\u4fbf\u8c03\u8bd5\u3002 \u4f7f\u7528 Vivado \u4eff\u771f\u751f\u6210\u6ce2\u5f62\u6587\u4ef6 \u00b6 \u786e\u4fdd\u4f60\u7684 PATH \u8def\u5f84\u4e2d\u5305\u542b Vivado \u7684\u5b89\u88c5\u76ee\u5f55\uff0c\u7136\u540e\u8fd0\u884c\u547d\u4ee4\uff1a make vivado-sim \u5c06\u4f1a\u751f\u6210 vivado/riscv-basys3/riscv-basys3.sim/sim_1/behav/xsim/dump.vcd \u6587\u4ef6\u3002 \u67e5\u770b\u6ce2\u5f62\u6587\u4ef6 \u00b6 \u4f7f\u7528 GTKWave \u67e5\u770b VCD \u683c\u5f0f\u6ce2\u5f62 \u00b6 \u4e0d\u540c\u8f6f\u4ef6\u751f\u6210\u7684 VCD \u6587\u4ef6\u8def\u5f84\u4e0d\u4e00\u6837\uff1a Vivado: vivado/riscv-basys3/riscv-basys3.sim/sim_1/behav/xsim/dump.vcd \u6d4b\u8bd5\u65f6\u751f\u6210\uff1a test_run_dir \u76ee\u5f55\u4e0b\u7684\u5404\u4e2a\u5b50\u76ee\u5f55\u4e2d\u7684 .vcd \u6587\u4ef6 \u5982\u679c\u4f60\u7684\u64cd\u4f5c\u7cfb\u7edf\u5e26\u6709 GUI \u56fe\u5f62\u754c\u9762\uff0c\u53ef\u4ee5\u4f7f\u7528 GTKWave \uff0c\u70b9\u51fb \"File->Open New Tab...\" \u6253\u5f00\u5bf9\u5e94\u7684\u6587\u4ef6\u67e5\u770b\u6ce2\u5f62\u3002 \u4f7f\u7528 Vivado \u67e5\u770b WDB \u683c\u5f0f\u6ce2\u5f62 \u00b6 \u4f60\u4e5f\u53ef\u4ee5\u6253\u5f00 Vivado \u6765\u67e5\u770b\u6ce2\u5f62\uff0cVivado \u652f\u6301\u7684\u683c\u5f0f\u4e3a .wdb \uff0c\u8def\u5f84\u662f vivado/riscv-basys3/riscv-basys3.sim/sim_1/behav/xsim/test_behav.wdb \u3002\u5728\u542f\u52a8 Vivado \u540e\uff0c\u9009\u62e9\u83dc\u5355\u680f\u7684 \"Flow->Open Static Simulation...\"\uff0c\u9009\u62e9\u8fd9\u4e2a\u6587\u4ef6\uff0c\u7136\u540e\u70b9\u51fb \"Open\" \u6309\u94ae\u3002 \u6253\u5f00\u540e\uff0c\u5728\u5de6\u4fa7\u7684\u7a97\u53e3\u627e\u5230\u4f60\u611f\u5174\u8da3\u7684\u6a21\u5757\uff0c\u53f3\u952e\uff0c\u9009\u62e9 \"Add to Wave Window\"\uff0c\u5373\u53ef\u5728\u6ce2\u5f62\u7a97\u53e3\u67e5\u770b\u6ce2\u5f62\u3002","title":"\u6ce2\u5f62\u4eff\u771f"},{"location":"getting-started/simulation/#\u6ce2\u5f62\u4eff\u771f","text":"By: howardlau1999 \u5728\u70e7\u677f\u9a8c\u8bc1\u4e4b\u524d\uff0c\u53ef\u4ee5\u4f7f\u7528\u6ce2\u5f62\u4eff\u771f\u518d\u8fdb\u884c\u4e00\u6b21\u6d4b\u8bd5\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 Vivado \u6216\u8005 Verilator \u8fdb\u884c\u6ce2\u5f62\u4eff\u771f\u3002\u4f7f\u7528 Verilator \u4eff\u771f\u9700\u8981\u5b89\u88c5 C++ \u7f16\u8bd1\u5668\u3002","title":"\u6ce2\u5f62\u4eff\u771f"},{"location":"getting-started/simulation/#\u751f\u6210\u6ce2\u5f62\u6587\u4ef6","text":"","title":"\u751f\u6210\u6ce2\u5f62\u6587\u4ef6"},{"location":"getting-started/simulation/#\u6d4b\u8bd5\u65f6\u751f\u6210\u6ce2\u5f62\u6587\u4ef6","text":"\u5728\u8fd0\u884c\u6d4b\u8bd5\u65f6\uff0c\u5982\u679c\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf WRITE_VCD \u4e3a 1 \uff0c\u5219\u4f1a\u751f\u6210\u6ce2\u5f62\u6587\u4ef6\u3002 Linux/macOS Windows Intellij IDEA WRITE_VCD = 1 sbt test Powershell: $Env:WRITE_VCD = 1 ; sbt test \u547d\u4ee4\u63d0\u793a\u7b26: set WRITE_VCD=1 sbt test \u5148\u70b9\u51fb\u53f3\u4e0a\u89d2\u4e09\u89d2\u5f62\u5de6\u8fb9\u7684\u4e0b\u62c9\u83dc\u5355\uff0c\u70b9 \u201cEdit configurations...\u201d\uff0c\u5982\u679c\u6ca1\u6709\u5c31\u5148\u8fd0\u884c\u4e00\u6b21\u6d4b\u8bd5\u3002 \u5728 \u201cEnvironment Variables\u201d \u9009\u9879\u4e2d\uff0c\u6dfb\u52a0\u4e00\u4e2a\u73af\u5883\u53d8\u91cf\uff0c\u540d\u79f0\u4e3a WRITE_VCD \uff0c\u503c\u4e3a 1 \u3002 \u4e4b\u540e\u70b9 OK \u4fdd\u5b58\u5373\u53ef\u3002 \u4e4b\u540e\u53ef\u4ee5\u5728 test_run_dir \u76ee\u5f55\u4e0b\u7684\u5404\u4e2a\u5b50\u76ee\u5f55\u4e2d\u627e\u5230 .vcd \u6587\u4ef6\uff0c\u4f7f\u7528 GTKWave \u6253\u5f00\u5373\u53ef\uff0c\u53c2\u8003 \u67e5\u770b\u6ce2\u5f62\u6587\u4ef6 \u4e00\u8282\u3002","title":"\u6d4b\u8bd5\u65f6\u751f\u6210\u6ce2\u5f62\u6587\u4ef6"},{"location":"getting-started/simulation/#\u4f7f\u7528-verilator-\u4eff\u771f\u751f\u6210\u6ce2\u5f62\u6587\u4ef6","text":"\u5982\u679c\u60f3\u5feb\u901f\u6d4b\u8bd5\u81ea\u5df1\u7f16\u5199\u7684\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u4f7f\u7528 Verilator \u8fdb\u884c\u4eff\u771f\uff0c\u4eff\u771f\u7684\u4e3b\u51fd\u6570\u5df2\u7ecf\u5199\u597d\uff0c\u4f4d\u4e8e verilog/verilator/sim_main.cpp \u3002\u5728\u7b2c\u4e00\u6b21\u8fd0\u884c\u4ee5\u53ca\u6bcf\u6b21\u4fee\u6539\u4e86 Chisel 3 \u4ee3\u7801\u540e\uff0c\u9700\u8981\u5728\u9879\u76ee\u6839\u76ee\u5f55\u6267\u884c\u547d\u4ee4\u751f\u6210 Verilog \u6587\u4ef6\uff1a sbt \"runMain board.verilator.VerilogGenerator\" \u4e4b\u540e\uff0c\u8fdb\u5165 verilog/verilator \u76ee\u5f55\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u751f\u6210\u4eff\u771f\u7a0b\u5e8f\uff1a Linux/macOS Windows verilator --cc --exe --trace --build Top.v sim_main.cpp \u6216 verilator --cc --exe --trace Top.v sim_main.cpp make -C obj_dir -f VTop.mk verilator_bin --cc --exe --trace --build Top.v sim_main.cpp \u6216 verilator_bin --cc --exe --trace Top.v sim_main.cpp make -C obj_dir -f VTop.mk \u7f16\u8bd1\u5b8c\u6210\u540e\uff0c\u4f1a\u751f\u6210 obj_dir/VTop \uff08Windows \u4e0b\u4e3a obj_dir/VTop.exe \uff09\u7684\u53ef\u6267\u884c\u6587\u4ef6\u3002\u8be5\u53ef\u6267\u884c\u6587\u4ef6\u53ef\u4ee5\u4f20\u5165\u53c2\u6570\u4ece\u800c\u8fd0\u884c\u4e0d\u540c\u7684\u4ee3\u7801\u6587\u4ef6\u3002\u53c2\u6570\u4ee5\u53ca\u5176\u7528\u6cd5\u5982\u4e0b\uff1a \u53c2\u6570 \u7528\u6cd5 -memory \u6307\u5b9a\u4eff\u771f\u5185\u5b58\u7684\u5927\u5c0f\uff0c\u5355\u4f4d\u4e3a\u5b57\uff084\u5b57\u8282\uff09\u3002\u7528\u4f8b\uff1a -memory 4096 -instruction \u6307\u5b9a\u7528\u4e8e\u521d\u59cb\u5316\u4eff\u771f\u5185\u5b58\u7684 RISC-V \u7a0b\u5e8f\u3002\u7528\u4f8b\uff1a -instruction ~/yatcpu/src/main/resources/hello.asmbin -signature \u6307\u5b9a\u4eff\u771f\u7ed3\u675f\u540e\uff0c\u9700\u8981\u8f93\u51fa\u7684\u5185\u5b58\u8303\u56f4\u4ee5\u53ca\u76ee\u7684\u6587\u4ef6\u3002\u7528\u4f8b\uff1a -signature 0x100 0x200 mem.txt -halt \u6307\u5b9a\u505c\u673a\u6807\u8bc6\u7b26\u5730\u5740\uff0c\u5f80\u8be5\u5185\u5b58\u5730\u5740\u5199\u5165 0xBABECAFE \u5373\u505c\u6b62\u4eff\u771f\u3002\u7528\u4f8b\uff1a -halt 0x8000 -vcd \u6307\u5b9a\u4eff\u771f\u8fc7\u7a0b\u6ce2\u5f62\u4fdd\u5b58\u7684\u6587\u4ef6\u540d\uff0c\u4e0d\u6307\u5b9a\u5219\u4e0d\u4f1a\u751f\u6210\u6ce2\u5f62\u6587\u4ef6\u3002\u7528\u4f8b\uff1a -vcd dump.vcd -time \u6307\u5b9a\u6700\u5927\u4eff\u771f\u65f6\u95f4\uff0c\u6ce8\u610f\u65f6\u95f4\u662f\u5468\u671f\u6570\u7684\u4e24\u500d\u3002\u7528\u4f8b\uff1a -time 1000 \u4f8b\u5982\uff0c\u5982\u679c\u60f3\u52a0\u8f7d hello.asmbin \u6587\u4ef6\uff0c\u4eff\u771f 1000 \u4e2a\u5468\u671f\uff0c\u5e76\u5c06\u4eff\u771f\u6ce2\u5f62\u4fdd\u5b58\u5230 dump.vcd \u6587\u4ef6\uff0c\u53ef\u4ee5\u8fd0\u884c\uff1a obj_dir/VTop -instruction ~/yatcpu/src/main/resources/hello.asmbin \\ -time 2000 -vcd dump.vcd \u53e6\u5916\uff0c\u4f7f\u7528 Verilator \u4eff\u771f\u65f6\uff0c\u5411\u5185\u5b58\u5730\u5740 0x40000010 \uff08\u4e5f\u5373 UART \u7684 MMIO \u5730\u5740\uff09\u5199\u5165\u7684\u6570\u636e\u5c06\u8f6c\u6362\u4e3a\u5b57\u7b26\u8f93\u51fa\u5230\u6807\u51c6\u8f93\u51fa\uff0c\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0 printf \u7b49\u529f\u80fd\uff0c\u65b9\u4fbf\u8c03\u8bd5\u3002","title":"\u4f7f\u7528 Verilator \u4eff\u771f\u751f\u6210\u6ce2\u5f62\u6587\u4ef6"},{"location":"getting-started/simulation/#\u4f7f\u7528-vivado-\u4eff\u771f\u751f\u6210\u6ce2\u5f62\u6587\u4ef6","text":"\u786e\u4fdd\u4f60\u7684 PATH \u8def\u5f84\u4e2d\u5305\u542b Vivado \u7684\u5b89\u88c5\u76ee\u5f55\uff0c\u7136\u540e\u8fd0\u884c\u547d\u4ee4\uff1a make vivado-sim \u5c06\u4f1a\u751f\u6210 vivado/riscv-basys3/riscv-basys3.sim/sim_1/behav/xsim/dump.vcd \u6587\u4ef6\u3002","title":"\u4f7f\u7528 Vivado \u4eff\u771f\u751f\u6210\u6ce2\u5f62\u6587\u4ef6"},{"location":"getting-started/simulation/#\u67e5\u770b\u6ce2\u5f62\u6587\u4ef6","text":"","title":"\u67e5\u770b\u6ce2\u5f62\u6587\u4ef6"},{"location":"getting-started/simulation/#\u4f7f\u7528-gtkwave-\u67e5\u770b-vcd-\u683c\u5f0f\u6ce2\u5f62","text":"\u4e0d\u540c\u8f6f\u4ef6\u751f\u6210\u7684 VCD \u6587\u4ef6\u8def\u5f84\u4e0d\u4e00\u6837\uff1a Vivado: vivado/riscv-basys3/riscv-basys3.sim/sim_1/behav/xsim/dump.vcd \u6d4b\u8bd5\u65f6\u751f\u6210\uff1a test_run_dir \u76ee\u5f55\u4e0b\u7684\u5404\u4e2a\u5b50\u76ee\u5f55\u4e2d\u7684 .vcd \u6587\u4ef6 \u5982\u679c\u4f60\u7684\u64cd\u4f5c\u7cfb\u7edf\u5e26\u6709 GUI \u56fe\u5f62\u754c\u9762\uff0c\u53ef\u4ee5\u4f7f\u7528 GTKWave \uff0c\u70b9\u51fb \"File->Open New Tab...\" \u6253\u5f00\u5bf9\u5e94\u7684\u6587\u4ef6\u67e5\u770b\u6ce2\u5f62\u3002","title":"\u4f7f\u7528 GTKWave \u67e5\u770b VCD \u683c\u5f0f\u6ce2\u5f62"},{"location":"getting-started/simulation/#\u4f7f\u7528-vivado-\u67e5\u770b-wdb-\u683c\u5f0f\u6ce2\u5f62","text":"\u4f60\u4e5f\u53ef\u4ee5\u6253\u5f00 Vivado \u6765\u67e5\u770b\u6ce2\u5f62\uff0cVivado \u652f\u6301\u7684\u683c\u5f0f\u4e3a .wdb \uff0c\u8def\u5f84\u662f vivado/riscv-basys3/riscv-basys3.sim/sim_1/behav/xsim/test_behav.wdb \u3002\u5728\u542f\u52a8 Vivado \u540e\uff0c\u9009\u62e9\u83dc\u5355\u680f\u7684 \"Flow->Open Static Simulation...\"\uff0c\u9009\u62e9\u8fd9\u4e2a\u6587\u4ef6\uff0c\u7136\u540e\u70b9\u51fb \"Open\" \u6309\u94ae\u3002 \u6253\u5f00\u540e\uff0c\u5728\u5de6\u4fa7\u7684\u7a97\u53e3\u627e\u5230\u4f60\u611f\u5174\u8da3\u7684\u6a21\u5757\uff0c\u53f3\u952e\uff0c\u9009\u62e9 \"Add to Wave Window\"\uff0c\u5373\u53ef\u5728\u6ce2\u5f62\u7a97\u53e3\u67e5\u770b\u6ce2\u5f62\u3002","title":"\u4f7f\u7528 Vivado \u67e5\u770b WDB \u683c\u5f0f\u6ce2\u5f62"},{"location":"getting-started/test/","text":"\u5feb\u901f\u6d4b\u8bd5 \u00b6 By: wu-kan \u6267\u884c\u4e0b\u8ff0\u6307\u4ee4\u53ef\u4ee5\u4e0b\u8f7d\u4ee3\u7801\u5e76\u6a21\u62df\u8fd0\u884c\u672c\u9879\u76ee\u7684\u6d4b\u8bd5\uff0c\u9996\u6b21\u8fd0\u884c\u65f6\u9700\u8981\u8054\u7f51\u81ea\u52a8\u4e0b\u8f7d\u5fc5\u8981\u7684\u7ec4\u4ef6\u3002 git clone https://github.com/howardlau1999/yatcpu cd yatcpu sbt test \u8bbe\u7f6e\u4ee3\u7406 \u5982\u679c\u4e0b\u8f7d\u5931\u8d25\u6216\u8005\u7f51\u7edc\u4e0d\u7a33\u5b9a\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u8bbe\u7f6e\u4ee3\u7406\u3002\u8bf7\u6839\u636e\u81ea\u5df1\u7684\u5b9e\u9645\u60c5\u51b5\u586b\u5199\u4ee3\u7406\u5730\u5740\u3002 export HTTPS_PROXY = http://127.0.0.1:1080 export JAVA_OPTS = \" $JAVA_OPTS -Dhttps.proxyHost=127.0.0.1 -Dhttps.proxyPort=1080\" \u4f7f\u7528 Verilator \u52a0\u901f\u6d4b\u8bd5 \u5982\u679c\u6d4b\u8bd5\u8fd0\u884c\u592a\u6162\uff0c\u53ef\u4ee5 \u5b89\u88c5 Verilator \u52a0\u901f\u6d4b\u8bd5 \u3002 \u5982\u679c\u6210\u529f\u6267\u884c\uff0c\u4f60\u4f1a\u770b\u5230\u7c7b\u4f3c\u8fd9\u6837\u7684\u8f93\u51fa\u3002 [ success ] Total time: 385 s ( 06 :25 ) , completed Dec 15 , 2021 , 8 :45:25 PM \u8f93\u5165\u5982\u4e0b\u6307\u4ee4\uff0c\u53ef\u4ee5\u7f16\u8bd1\u751f\u6210\u9002\u7528\u4e8e Basys 3 \u5f00\u53d1\u677f\u7684 Verilog \u4ee3\u7801 verilog/basys3/Top.v \u3002 make basys3","title":"\u5feb\u901f\u6d4b\u8bd5"},{"location":"getting-started/test/#\u5feb\u901f\u6d4b\u8bd5","text":"By: wu-kan \u6267\u884c\u4e0b\u8ff0\u6307\u4ee4\u53ef\u4ee5\u4e0b\u8f7d\u4ee3\u7801\u5e76\u6a21\u62df\u8fd0\u884c\u672c\u9879\u76ee\u7684\u6d4b\u8bd5\uff0c\u9996\u6b21\u8fd0\u884c\u65f6\u9700\u8981\u8054\u7f51\u81ea\u52a8\u4e0b\u8f7d\u5fc5\u8981\u7684\u7ec4\u4ef6\u3002 git clone https://github.com/howardlau1999/yatcpu cd yatcpu sbt test \u8bbe\u7f6e\u4ee3\u7406 \u5982\u679c\u4e0b\u8f7d\u5931\u8d25\u6216\u8005\u7f51\u7edc\u4e0d\u7a33\u5b9a\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u8bbe\u7f6e\u4ee3\u7406\u3002\u8bf7\u6839\u636e\u81ea\u5df1\u7684\u5b9e\u9645\u60c5\u51b5\u586b\u5199\u4ee3\u7406\u5730\u5740\u3002 export HTTPS_PROXY = http://127.0.0.1:1080 export JAVA_OPTS = \" $JAVA_OPTS -Dhttps.proxyHost=127.0.0.1 -Dhttps.proxyPort=1080\" \u4f7f\u7528 Verilator \u52a0\u901f\u6d4b\u8bd5 \u5982\u679c\u6d4b\u8bd5\u8fd0\u884c\u592a\u6162\uff0c\u53ef\u4ee5 \u5b89\u88c5 Verilator \u52a0\u901f\u6d4b\u8bd5 \u3002 \u5982\u679c\u6210\u529f\u6267\u884c\uff0c\u4f60\u4f1a\u770b\u5230\u7c7b\u4f3c\u8fd9\u6837\u7684\u8f93\u51fa\u3002 [ success ] Total time: 385 s ( 06 :25 ) , completed Dec 15 , 2021 , 8 :45:25 PM \u8f93\u5165\u5982\u4e0b\u6307\u4ee4\uff0c\u53ef\u4ee5\u7f16\u8bd1\u751f\u6210\u9002\u7528\u4e8e Basys 3 \u5f00\u53d1\u677f\u7684 Verilog \u4ee3\u7801 verilog/basys3/Top.v \u3002 make basys3","title":"\u5feb\u901f\u6d4b\u8bd5"},{"location":"labs/","text":"\u5b9e\u9a8c \u00b6 \u672c\u7cfb\u5217\u5b9e\u9a8c\u9700\u8981\u4f60\u5c06\u77e5\u8bc6\u5e94\u7528\u5230\u5b9e\u8df5\u4e2d\uff0c\u4e00\u6b65\u6b65\u6784\u5efa\u51fa\u80fd\u8fd0\u884c RISC-V \u7a0b\u5e8f\u7684 CPU\u3002\u5b9e\u9a8c\u5c06\u4ece\u57fa\u672c\u7684 Chisel 3 \u8bed\u8a00\u57fa\u7840\u5f00\u59cb\uff0c\u63d0\u4f9b\u5b9e\u9a8c\u6307\u5f15\u5e2e\u52a9\u4f60\u5b8c\u6210\u5b9e\u9a8c\u4ee3\u7801\uff0c\u5e76\u6309\u7ec4\u4ef6\u4ee5\u53ca\u96be\u5ea6\u4e00\u6b65\u6b65\u6df1\u5165\uff0c\u5b9e\u73b0\u5355\u5468\u671f\u3001\u591a\u5468\u671f\u4ee5\u53ca\u6d41\u6c34\u7ebf CPU\u3002","title":"\u7b80\u4ecb"},{"location":"labs/#\u5b9e\u9a8c","text":"\u672c\u7cfb\u5217\u5b9e\u9a8c\u9700\u8981\u4f60\u5c06\u77e5\u8bc6\u5e94\u7528\u5230\u5b9e\u8df5\u4e2d\uff0c\u4e00\u6b65\u6b65\u6784\u5efa\u51fa\u80fd\u8fd0\u884c RISC-V \u7a0b\u5e8f\u7684 CPU\u3002\u5b9e\u9a8c\u5c06\u4ece\u57fa\u672c\u7684 Chisel 3 \u8bed\u8a00\u57fa\u7840\u5f00\u59cb\uff0c\u63d0\u4f9b\u5b9e\u9a8c\u6307\u5f15\u5e2e\u52a9\u4f60\u5b8c\u6210\u5b9e\u9a8c\u4ee3\u7801\uff0c\u5e76\u6309\u7ec4\u4ef6\u4ee5\u53ca\u96be\u5ea6\u4e00\u6b65\u6b65\u6df1\u5165\uff0c\u5b9e\u73b0\u5355\u5468\u671f\u3001\u591a\u5468\u671f\u4ee5\u53ca\u6d41\u6c34\u7ebf CPU\u3002","title":"\u5b9e\u9a8c"},{"location":"labs/lab0-getting-started/","text":"\u5b9e\u9a8c\u96f6 \u5b9e\u9a8c\u5de5\u5177\u5165\u95e8 \u00b6 \u5de5\u6b32\u5584\u5176\u4e8b\uff0c\u5fc5\u5148\u5229\u5176\u5668\u3002 \u5728\u5b8c\u6210\u5feb\u901f\u5165\u95e8\u6307\u5357\u4e4b\u540e\uff0c\u4f60\u5df2\u7ecf\u914d\u7f6e\u597d\u4e86\u540e\u7eed\u5b9e\u9a8c\u6240\u9700\u8981\u7684\u5f00\u53d1\u5de5\u5177\u548c\u73af\u5883\u3002\u4e3a\u4e86\u5b8c\u6210\u540e\u7eed\u7684\u5b9e\u9a8c\uff0c\u4f60\u8fd8\u9700\u8981\u5b66\u4e60\u8fd9\u4e9b\u5de5\u5177\u7684\u5177\u4f53\u4f7f\u7528\u65b9\u6cd5\u4ee5\u53ca\u5f00\u53d1\u6d41\u7a0b\u3002 \u5728\u672c\u5b9e\u9a8c\u4e2d\uff0c\u4f60\u5c06\u5b66\u4e60\u5230\uff1a Chisel 3 \u7684\u57fa\u672c\u8bed\u6cd5\u548c\u529f\u80fd \u4f7f\u7528\u5355\u5143\u6d4b\u8bd5\u8fdb\u884c\u81ea\u52a8\u5316\u6d4b\u8bd5 \u4f7f\u7528\u8f6f\u4ef6\u6a21\u62df\u4eff\u771f\u5668\u4ee5\u53ca\u6ce2\u5f62\u56fe\u6765\u8c03\u8bd5 \u5c06 Chisel 3 \u7684\u4ee3\u7801\u7f16\u8bd1\u6210 Verilog \u4f7f\u7528 Vivado \u5c06 Verilog \u70e7\u5199\u5230 FPGA \u5f00\u53d1\u677f\u4e0a \u8ba4\u8bc6 Chisel 3 \u00b6 Chisel 3 \u662f\u4f7f\u7528 Scala \u8bed\u8a00\u7684 \u5b8f \u7279\u6027\u5b9e\u73b0\u7684\u4e00\u95e8\u9886\u57df\u7279\u5b9a\u8bed\u8a00\uff08Domain Specific Language\uff09\u3002\u6240\u4ee5\uff0c\u6240\u6709\u6d89\u53ca\u5230\u7535\u8def\u903b\u8f91\u7684\u7f16\u7a0b\uff0c\u90fd\u9700\u8981\u4f7f\u7528 Chisel 3 \u5305\u4e2d\u63d0\u4f9b\u7684\u5b8f\u5b9a\u4e49\u5b9e\u73b0\uff0c\u800c\u4e0d\u80fd\u76f4\u63a5\u4f7f\u7528 Scala \u8bed\u8a00\u7684\u5173\u952e\u8bcd\u3002\u5177\u4f53\u800c\u8a00\uff0c\u5982\u679c\u60f3\u8981\u5728\u7535\u8def\u4e2d\u4f7f\u7528\u4e00\u4e2a\u5e38\u91cf\uff0c\u4f8b\u5982 12 \uff0c\u5e76\u5c06\u5176\u4e0e\u7535\u8def value \u6bd4\u8f83\uff0c\u6211\u4eec\u4e0d\u53ef\u4ee5\u5199 if (value == 12) \uff0c\u800c\u662f\u8981\u5199 when(value === 12.U) \u3002\u719f\u8bb0\u8fd9\u4e00\u6700\u57fa\u672c\u7684\u6982\u5ff5\uff0c\u624d\u80fd\u6b63\u786e\u7f16\u5199\u51fa\u5408\u6cd5\u7684 Chisel 3 \u4ee3\u7801\u3002 \u57fa\u672c\u7c7b\u578b \u00b6 \u548c\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\u7c7b\u4f3c\uff0cChisel 3 \u4e5f\u652f\u6301\u4e00\u4e9b\u57fa\u672c\u7c7b\u578b\uff0c\u5305\u62ec\u6574\u6570\u3001\u5e03\u5c14\u503c\u7b49\u3002 \u65e0\u7b26\u53f7\u6574\u6570\u4e0e\u6709\u7b26\u53f7\u6574\u6570 \u00b6 Chisel 3 \u4e2d\u65e0\u7b26\u53f7\u6574\u6570\u7c7b\u578b\u4e3a UInt \uff0c\u6709\u7b26\u53f7\u6574\u6570\u7c7b\u578b\u4e3a SInt \u3002\u5728\u58f0\u660e\u6574\u6570\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u901a\u8fc7 .W \u6765\u6307\u5b9a\u6574\u6570\u7684\u4f4d\u5bbd\uff0c\u4f8b\u5982 UInt(8.W) \u3002\u5982\u679c\u60f3\u5c06\u4e00\u4e2a Scala \u4e2d\u7684\u6574\u6570\u8f6c\u6362\u4e3a Chisel 3 \u7684\u786c\u4ef6\u6574\u6570\uff0c\u53ef\u4ee5\u4f7f\u7528 .U \u64cd\u4f5c\u7b26\uff0c\u4f8b\u5982\uff0c 12.U \u3002 .U \u64cd\u4f5c\u7b26\u540c\u6837\u652f\u6301\u901a\u8fc7 .W \u6307\u5b9a\u4f4d\u5bbd\uff0c\u4f8b\u5982 12.U(8.W) \u3002 \u5e03\u5c14\u503c \u00b6 Chisel 3 \u4e2d\u5e03\u5c14\u503c\u7c7b\u578b\u4e3a Bool \uff0c\u53ef\u4ee5\u901a\u8fc7 .B \u6765\u5c06 Scala \u5e03\u5c14\u503c\u8f6c\u6362\u4e3a\u786c\u4ef6\u5e03\u5c14\u503c\uff0c\u4f8b\u5982 true.B \u3002 \u6a21\u5757 \u00b6 \u5728 Chisel 3 \u4e2d\uff0c\u58f0\u660e\u4e00\u4e2a\u6a21\u5757\u9700\u8981\u7ee7\u627f Module \u7c7b\uff0c\u5e76\u901a\u8fc7 io \u6210\u5458\u58f0\u660e\u6a21\u5757\u7684\u8f93\u5165\u8f93\u51fa\u7aef\u53e3\u3002 import chisel3 . _ class MyModule extends Module { val io = IO ( new Bundle { val in = Input ( UInt ( 8 . W )) val out = Output ( UInt ( 8 . W )) }) } \u5728 Chisel 3 \u4e2d\uff0c\u6bcf\u4e2a\u6a21\u5757\u9664\u4e86\u58f0\u660e\u7684 IO \u7aef\u53e3\uff0c\u8fd8\u9690\u542b\u4e86\u65f6\u949f\u4fe1\u53f7 clock \u548c\u590d\u4f4d\u4fe1\u53f7 reset \u3002 \u7ec4\u5408\u903b\u8f91 \u00b6 val wire = Wire ( UInt ( 8 . W )) val wireinit = WireInit ( 0 . U ( 8 . W )) \u65f6\u5e8f\u7535\u8def \u00b6 \u5bc4\u5b58\u5668 \u00b6 val reg = Reg ( UInt ( 8 . W )) val reginit = RegInit ( 0 . U ( 8 . W )) Chisel 3 \u4e2d\u7684\u5bc4\u5b58\u5668\u9ed8\u8ba4\u4e5f\u5e26\u6709 clock \u548c reset \u4fe1\u53f7\uff0c\u6240\u6709\u5bf9\u4e8e\u5bc4\u5b58\u5668\u7684\u5199\u5165\u64cd\u4f5c\u90fd\u5c06\u5728\u65f6\u949f\u7684\u4e0a\u5347\u6cbf\u751f\u6548\uff0c\u5e76\u5728\u590d\u4f4d\u4fe1\u53f7\u4e3a true \u65f6\u590d\u4f4d\u4e3a\u521d\u59cb\u503c\uff08\u5982\u679c\u6307\u5b9a\u4e86\u7684\u8bdd\uff09\u3002 Chisel 3 \u4e0e Verilog \u7684\u5173\u7cfb \u00b6 Chisel 3 \u4e25\u683c\u610f\u4e49\u4e0a\u5e76\u4e0d\u662f Verilog \u7684\u7b49\u4ef7\u66ff\u4ee3\uff0c\u800c\u662f\u4e00\u4e2a\u751f\u6210\u5668\u8bed\u8a00\u3002\u4f7f\u7528 Chisel 3 \u7f16\u5199\u7684\u786c\u4ef6\u7535\u8def\uff0c\u9700\u8981\u7f16\u8bd1\u6210 Verilog \u6587\u4ef6\uff0c\u7136\u540e\u518d\u901a\u8fc7 EDA \u8f6f\u4ef6\u7efc\u5408\u5b9e\u73b0\u51fa\u771f\u6b63\u7684\u7535\u8def\u3002\u800c\u4e14\uff0c\u4e3a\u4e86\u901a\u7528\u6027\uff0c\u4e00\u4e9b Verilog \u4e2d\u7684\u7279\u6027\uff0c\u5982\u8d1f\u8fb9\u7f18\u89e6\u53d1\u3001\u591a\u65f6\u949f\u4eff\u771f\u7b49\u5728 Chisel 3 \u4e2d\u5e76\u4e0d\u652f\u6301\uff0c\u6216\u652f\u6301\u7a0b\u5ea6\u6709\u9650\u3002","title":"\u5b9e\u9a8c\u96f6 \u5b9e\u9a8c\u5de5\u5177\u5165\u95e8"},{"location":"labs/lab0-getting-started/#\u5b9e\u9a8c\u96f6-\u5b9e\u9a8c\u5de5\u5177\u5165\u95e8","text":"\u5de5\u6b32\u5584\u5176\u4e8b\uff0c\u5fc5\u5148\u5229\u5176\u5668\u3002 \u5728\u5b8c\u6210\u5feb\u901f\u5165\u95e8\u6307\u5357\u4e4b\u540e\uff0c\u4f60\u5df2\u7ecf\u914d\u7f6e\u597d\u4e86\u540e\u7eed\u5b9e\u9a8c\u6240\u9700\u8981\u7684\u5f00\u53d1\u5de5\u5177\u548c\u73af\u5883\u3002\u4e3a\u4e86\u5b8c\u6210\u540e\u7eed\u7684\u5b9e\u9a8c\uff0c\u4f60\u8fd8\u9700\u8981\u5b66\u4e60\u8fd9\u4e9b\u5de5\u5177\u7684\u5177\u4f53\u4f7f\u7528\u65b9\u6cd5\u4ee5\u53ca\u5f00\u53d1\u6d41\u7a0b\u3002 \u5728\u672c\u5b9e\u9a8c\u4e2d\uff0c\u4f60\u5c06\u5b66\u4e60\u5230\uff1a Chisel 3 \u7684\u57fa\u672c\u8bed\u6cd5\u548c\u529f\u80fd \u4f7f\u7528\u5355\u5143\u6d4b\u8bd5\u8fdb\u884c\u81ea\u52a8\u5316\u6d4b\u8bd5 \u4f7f\u7528\u8f6f\u4ef6\u6a21\u62df\u4eff\u771f\u5668\u4ee5\u53ca\u6ce2\u5f62\u56fe\u6765\u8c03\u8bd5 \u5c06 Chisel 3 \u7684\u4ee3\u7801\u7f16\u8bd1\u6210 Verilog \u4f7f\u7528 Vivado \u5c06 Verilog \u70e7\u5199\u5230 FPGA \u5f00\u53d1\u677f\u4e0a","title":"\u5b9e\u9a8c\u96f6 \u5b9e\u9a8c\u5de5\u5177\u5165\u95e8"},{"location":"labs/lab0-getting-started/#\u8ba4\u8bc6-chisel-3","text":"Chisel 3 \u662f\u4f7f\u7528 Scala \u8bed\u8a00\u7684 \u5b8f \u7279\u6027\u5b9e\u73b0\u7684\u4e00\u95e8\u9886\u57df\u7279\u5b9a\u8bed\u8a00\uff08Domain Specific Language\uff09\u3002\u6240\u4ee5\uff0c\u6240\u6709\u6d89\u53ca\u5230\u7535\u8def\u903b\u8f91\u7684\u7f16\u7a0b\uff0c\u90fd\u9700\u8981\u4f7f\u7528 Chisel 3 \u5305\u4e2d\u63d0\u4f9b\u7684\u5b8f\u5b9a\u4e49\u5b9e\u73b0\uff0c\u800c\u4e0d\u80fd\u76f4\u63a5\u4f7f\u7528 Scala \u8bed\u8a00\u7684\u5173\u952e\u8bcd\u3002\u5177\u4f53\u800c\u8a00\uff0c\u5982\u679c\u60f3\u8981\u5728\u7535\u8def\u4e2d\u4f7f\u7528\u4e00\u4e2a\u5e38\u91cf\uff0c\u4f8b\u5982 12 \uff0c\u5e76\u5c06\u5176\u4e0e\u7535\u8def value \u6bd4\u8f83\uff0c\u6211\u4eec\u4e0d\u53ef\u4ee5\u5199 if (value == 12) \uff0c\u800c\u662f\u8981\u5199 when(value === 12.U) \u3002\u719f\u8bb0\u8fd9\u4e00\u6700\u57fa\u672c\u7684\u6982\u5ff5\uff0c\u624d\u80fd\u6b63\u786e\u7f16\u5199\u51fa\u5408\u6cd5\u7684 Chisel 3 \u4ee3\u7801\u3002","title":"\u8ba4\u8bc6 Chisel 3"},{"location":"labs/lab0-getting-started/#\u57fa\u672c\u7c7b\u578b","text":"\u548c\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\u7c7b\u4f3c\uff0cChisel 3 \u4e5f\u652f\u6301\u4e00\u4e9b\u57fa\u672c\u7c7b\u578b\uff0c\u5305\u62ec\u6574\u6570\u3001\u5e03\u5c14\u503c\u7b49\u3002","title":"\u57fa\u672c\u7c7b\u578b"},{"location":"labs/lab0-getting-started/#\u65e0\u7b26\u53f7\u6574\u6570\u4e0e\u6709\u7b26\u53f7\u6574\u6570","text":"Chisel 3 \u4e2d\u65e0\u7b26\u53f7\u6574\u6570\u7c7b\u578b\u4e3a UInt \uff0c\u6709\u7b26\u53f7\u6574\u6570\u7c7b\u578b\u4e3a SInt \u3002\u5728\u58f0\u660e\u6574\u6570\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u901a\u8fc7 .W \u6765\u6307\u5b9a\u6574\u6570\u7684\u4f4d\u5bbd\uff0c\u4f8b\u5982 UInt(8.W) \u3002\u5982\u679c\u60f3\u5c06\u4e00\u4e2a Scala \u4e2d\u7684\u6574\u6570\u8f6c\u6362\u4e3a Chisel 3 \u7684\u786c\u4ef6\u6574\u6570\uff0c\u53ef\u4ee5\u4f7f\u7528 .U \u64cd\u4f5c\u7b26\uff0c\u4f8b\u5982\uff0c 12.U \u3002 .U \u64cd\u4f5c\u7b26\u540c\u6837\u652f\u6301\u901a\u8fc7 .W \u6307\u5b9a\u4f4d\u5bbd\uff0c\u4f8b\u5982 12.U(8.W) \u3002","title":"\u65e0\u7b26\u53f7\u6574\u6570\u4e0e\u6709\u7b26\u53f7\u6574\u6570"},{"location":"labs/lab0-getting-started/#\u5e03\u5c14\u503c","text":"Chisel 3 \u4e2d\u5e03\u5c14\u503c\u7c7b\u578b\u4e3a Bool \uff0c\u53ef\u4ee5\u901a\u8fc7 .B \u6765\u5c06 Scala \u5e03\u5c14\u503c\u8f6c\u6362\u4e3a\u786c\u4ef6\u5e03\u5c14\u503c\uff0c\u4f8b\u5982 true.B \u3002","title":"\u5e03\u5c14\u503c"},{"location":"labs/lab0-getting-started/#\u6a21\u5757","text":"\u5728 Chisel 3 \u4e2d\uff0c\u58f0\u660e\u4e00\u4e2a\u6a21\u5757\u9700\u8981\u7ee7\u627f Module \u7c7b\uff0c\u5e76\u901a\u8fc7 io \u6210\u5458\u58f0\u660e\u6a21\u5757\u7684\u8f93\u5165\u8f93\u51fa\u7aef\u53e3\u3002 import chisel3 . _ class MyModule extends Module { val io = IO ( new Bundle { val in = Input ( UInt ( 8 . W )) val out = Output ( UInt ( 8 . W )) }) } \u5728 Chisel 3 \u4e2d\uff0c\u6bcf\u4e2a\u6a21\u5757\u9664\u4e86\u58f0\u660e\u7684 IO \u7aef\u53e3\uff0c\u8fd8\u9690\u542b\u4e86\u65f6\u949f\u4fe1\u53f7 clock \u548c\u590d\u4f4d\u4fe1\u53f7 reset \u3002","title":"\u6a21\u5757"},{"location":"labs/lab0-getting-started/#\u7ec4\u5408\u903b\u8f91","text":"val wire = Wire ( UInt ( 8 . W )) val wireinit = WireInit ( 0 . U ( 8 . W ))","title":"\u7ec4\u5408\u903b\u8f91"},{"location":"labs/lab0-getting-started/#\u65f6\u5e8f\u7535\u8def","text":"","title":"\u65f6\u5e8f\u7535\u8def"},{"location":"labs/lab0-getting-started/#\u5bc4\u5b58\u5668","text":"val reg = Reg ( UInt ( 8 . W )) val reginit = RegInit ( 0 . U ( 8 . W )) Chisel 3 \u4e2d\u7684\u5bc4\u5b58\u5668\u9ed8\u8ba4\u4e5f\u5e26\u6709 clock \u548c reset \u4fe1\u53f7\uff0c\u6240\u6709\u5bf9\u4e8e\u5bc4\u5b58\u5668\u7684\u5199\u5165\u64cd\u4f5c\u90fd\u5c06\u5728\u65f6\u949f\u7684\u4e0a\u5347\u6cbf\u751f\u6548\uff0c\u5e76\u5728\u590d\u4f4d\u4fe1\u53f7\u4e3a true \u65f6\u590d\u4f4d\u4e3a\u521d\u59cb\u503c\uff08\u5982\u679c\u6307\u5b9a\u4e86\u7684\u8bdd\uff09\u3002","title":"\u5bc4\u5b58\u5668"},{"location":"labs/lab0-getting-started/#chisel-3-\u4e0e-verilog-\u7684\u5173\u7cfb","text":"Chisel 3 \u4e25\u683c\u610f\u4e49\u4e0a\u5e76\u4e0d\u662f Verilog \u7684\u7b49\u4ef7\u66ff\u4ee3\uff0c\u800c\u662f\u4e00\u4e2a\u751f\u6210\u5668\u8bed\u8a00\u3002\u4f7f\u7528 Chisel 3 \u7f16\u5199\u7684\u786c\u4ef6\u7535\u8def\uff0c\u9700\u8981\u7f16\u8bd1\u6210 Verilog \u6587\u4ef6\uff0c\u7136\u540e\u518d\u901a\u8fc7 EDA \u8f6f\u4ef6\u7efc\u5408\u5b9e\u73b0\u51fa\u771f\u6b63\u7684\u7535\u8def\u3002\u800c\u4e14\uff0c\u4e3a\u4e86\u901a\u7528\u6027\uff0c\u4e00\u4e9b Verilog \u4e2d\u7684\u7279\u6027\uff0c\u5982\u8d1f\u8fb9\u7f18\u89e6\u53d1\u3001\u591a\u65f6\u949f\u4eff\u771f\u7b49\u5728 Chisel 3 \u4e2d\u5e76\u4e0d\u652f\u6301\uff0c\u6216\u652f\u6301\u7a0b\u5ea6\u6709\u9650\u3002","title":"Chisel 3 \u4e0e Verilog \u7684\u5173\u7cfb"},{"location":"labs/lab1-single-cycle-cpu/","text":"\u5b9e\u9a8c\u4e00 \u5355\u5468\u671f CPU \u00b6 \u7a0b\u5e8f\u8ba1\u6570\u5668 \u00b6 \u9996\u5148\u6211\u4eec\u6765\u5b9e\u73b0 CPU \u4e2d\u6700\u7b80\u5355\u7684\u90e8\u4ef6\u4e4b\u4e00\uff0c\u7a0b\u5e8f\u8ba1\u6570\u5668\uff08Program Counter, PC\uff09\u3002\u5728\u5355\u5468\u671f CPU \u4e2d\uff0c\u7a0b\u5e8f\u8ba1\u6570\u5668\u5728\u6bcf\u4e00\u4e2a\u5468\u671f\u53ea\u9700\u8981\u5c06\u5f53\u524d\u6307\u4ee4\u5730\u5740 +4 \uff08RISC-V \u975e\u53d8\u957f\u6307\u4ee4\u957f\u5ea6\uff09\uff0c\u5e76\u5c06\u7ed3\u679c\u5199\u5165\u5bc4\u5b58\u5668\u4e2d\u4fdd\u5b58\u5e76\u8f93\u51fa\u5373\u53ef\u3002\u53e6\u5916\uff0c\u4e3a\u4e86\u5904\u7406\u5206\u652f\u547d\u4ee4\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u63a5\u6536\u63a7\u5236\u5355\u5143\u9001\u5165\u7684\u8df3\u8f6c\u4fe1\u53f7\u4ee5\u53ca\u8df3\u8f6c\u5730\u5740\uff0c\u5982\u679c\u8df3\u8f6c\u4fe1\u53f7\u4f7f\u80fd\uff0c\u6211\u4eec\u5c31\u9700\u8981\u5c06\u8df3\u8f6c\u76ee\u7684\u5730\u5740\u5199\u5165\u5bc4\u5b58\u5668\u4e2d\u3002 \u6a21\u5757\u7684\u8f93\u5165\u4fe1\u53f7\u4ee5\u53ca\u8f93\u51fa\u4fe1\u53f7\u5df2\u7ecf\u5b9a\u4e49\u597d\uff0c\u76f8\u5173\u4ee3\u7801\u6587\u4ef6\u4f4d\u4e8e src/main/scala/riscv/core/ProgramCounter.scala \uff0c\u8bf7\u5728 // Lab1(ProgramCounter) \u6ce8\u91ca\u5904\u586b\u5165\u4ee3\u7801\uff0c\u4f7f\u5176\u80fd\u901a\u8fc7 ProgramCounterTest \u6d4b\u8bd5\u3002 \u5bc4\u5b58\u5668\u5806 \u00b6 CPU \u5728\u8fdb\u884c\u8fd0\u7b97\u65f6\uff0c\u9700\u8981\u5c06\u7ed3\u679c\u6216\u72b6\u6001\u4e34\u65f6\u4fdd\u5b58\u5728\u5bc4\u5b58\u5668\u4e2d\u3002\u901a\u5e38\uff0cCPU \u542b\u6709\u4e00\u5b9a\u6570\u91cf\u7684\u901a\u7528\u5bc4\u5b58\u5668\uff08General Purpose Registers, GPR\uff09\uff0c\u8fd9\u4e9b\u5bc4\u5b58\u5668\u7ec4\u5408\u5728\u4e00\u8d77\u6210\u4e3a\u5bc4\u5b58\u5668\u5806\uff08Register File\uff09\uff0c\u6211\u4eec\u53ef\u4ee5\u7ed9\u6bcf\u4e2a\u5bc4\u5b58\u5668\u5206\u914d\u4e00\u4e2a\u7f16\u53f7\u4f5c\u4e3a\u5bc4\u5b58\u5668\u5730\u5740\uff0c\u5e76\u901a\u8fc7\u8fd9\u4e2a\u7f16\u53f7\u8bbf\u95ee\u6307\u5b9a\u7684\u5bc4\u5b58\u5668\u3002RISC-V \u4e2d\u89c4\u5b9a\u7684 GPR \u6709 32 \u4e2a\uff0c\u7f16\u53f7\u5206\u522b\u4e3a 0-31\uff0c\u5176\u4e2d 0 \u53f7\u5bc4\u5b58\u5668\u6c38\u8fdc\u8fd4\u56de 0 \u503c\u3002 \u5bc4\u5b58\u5668\u5806\u63d0\u4f9b\u4e24\u4e2a\u8bfb\u7aef\u53e3\uff08\u5bf9\u5e94\u4e24\u4e2a\u6e90\u64cd\u4f5c\u6570\uff09\u4ee5\u53ca\u4e00\u4e2a\u5199\u7aef\u53e3\uff08\u5bf9\u5e94\u4e00\u4e2a\u76ee\u7684\u5bc4\u5b58\u5668\uff09\uff0c\u6bcf\u4e2a\u8bfb\u7aef\u53e3\u53ef\u4ee5\u8f93\u5165\u5bc4\u5b58\u5668\u5730\u5740\u5e76\u8f93\u51fa\u5bf9\u5e94\u5bc4\u5b58\u5668\u6570\u636e\u3002\u5199\u7aef\u53e3\u8f93\u5165\u5bc4\u5b58\u5668\u5730\u5740\u3001\u5199\u4f7f\u80fd\u4fe1\u53f7\u4ee5\u53ca\u5199\u5165\u6570\u636e\uff0c\u5982\u679c\u5199\u4f7f\u80fd\u4fe1\u53f7\u6fc0\u6d3b\uff0c\u5c31\u5c06\u5199\u5165\u6570\u636e\u5199\u5165\u5bc4\u5b58\u5668\u4e2d\uff0c\u5426\u5219\u4e0d\u8fdb\u884c\u64cd\u4f5c\u3002\u9700\u8981\u7279\u522b\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u4e00\u4e2a\u5bc4\u5b58\u5668\uff0c\u5728\u540c\u4e00\u4e2a\u5468\u671f\uff0c\u65e2\u4f5c\u4e3a\u6e90\u64cd\u4f5c\u6570\uff0c\u53c8\u4f5c\u4e3a\u76ee\u7684\u5bc4\u5b58\u5668\uff0c\u5219\u9700\u8981\u901a\u8fc7 \u8f6c\u53d1 \u7684\u65b9\u6cd5\uff0c\u5c06\u5199\u5165\u7aef\u53e3\u7684\u6570\u636e\u8f93\u51fa\u3002 \u6a21\u5757\u7684\u8f93\u5165\u4fe1\u53f7\u4ee5\u53ca\u8f93\u51fa\u4fe1\u53f7\u5df2\u7ecf\u5b9a\u4e49\u597d\uff0c\u76f8\u5173\u4ee3\u7801\u6587\u4ef6\u4f4d\u4e8e src/main/scala/riscv/core/RegisterFile.scala \uff0c\u8bf7\u5728 // Lab1(RegisterFile) \u6ce8\u91ca\u5904\u586b\u5165\u4ee3\u7801\uff0c\u4f7f\u5176\u80fd\u901a\u8fc7 RegisterFileTest \u6d4b\u8bd5\u3002 \u8bd1\u7801\u5668 \u00b6 \u5f53\u6307\u4ee4\u4ece\u5b58\u50a8\u5668\u53d6\u51fa\u540e\uff0c\u9700\u8981\u8bd1\u7801\u5668\u5c06\u6307\u4ee4\u8bd1\u7801\uff0c\u8f93\u51fa\u9002\u5f53\u7684\u63a7\u5236\u4fe1\u53f7\u3002\u8bd1\u7801\u5668\u8d1f\u8d23\u6309\u7167\u6307\u4ee4\u683c\u5f0f\u901a\u8fc7\u7eaf\u7ec4\u5408\u903b\u8f91\u7684\u65b9\u6cd5\uff0c\u89e3\u7801\u51fa\u5bf9\u5e94\u7684\u63a7\u5236\u4fe1\u53f7\u3001\u64cd\u4f5c\u6570\u7b49\u4fe1\u606f\uff0c\u5e76\u8f93\u51fa\u3002 \u6a21\u5757\u7684\u8f93\u5165\u4fe1\u53f7\u4ee5\u53ca\u8f93\u51fa\u4fe1\u53f7\u5df2\u7ecf\u5b9a\u4e49\u597d\uff0c\u76f8\u5173\u4ee3\u7801\u6587\u4ef6\u4f4d\u4e8e src/main/scala/riscv/core/InstructionDecode.scala \uff0c\u8bf7\u5728 // Lab1(InstructionDecode) \u6ce8\u91ca\u5904\u586b\u5165\u4ee3\u7801\uff0c\u4f7f\u5176\u80fd\u901a\u8fc7 InstructionDecodeTest \u6d4b\u8bd5\u3002 ALU \u00b6 \u5728\u6267\u884c\u9636\u6bb5\uff0cALU \u8d1f\u8d23\u8ba1\u7b97\u5e76\u5c06\u7ed3\u679c\u8f93\u51fa\uff0c\u4e3a\u7eaf\u7ec4\u5408\u903b\u8f91\u3002 \u6a21\u5757\u7684\u8f93\u5165\u4fe1\u53f7\u4ee5\u53ca\u8f93\u51fa\u4fe1\u53f7\u5df2\u7ecf\u5b9a\u4e49\u597d\uff0c\u76f8\u5173\u4ee3\u7801\u6587\u4ef6\u4f4d\u4e8e src/main/scala/riscv/core/ALU.scala \uff0c\u8bf7\u5728 // Lab1(ALU) \u6ce8\u91ca\u5904\u586b\u5165\u4ee3\u7801\uff0c\u4f7f\u5176\u80fd\u901a\u8fc7 ALUTest \u6d4b\u8bd5\u3002 \u63d0\u4ea4 Autograder \u00b6 \u5b8c\u6210\u4ee5\u4e0a\u6240\u6709\u5b9e\u9a8c\u5e76\u901a\u8fc7\u76f8\u5e94\u6d4b\u8bd5\u540e\uff0c\u8bf7\u5c06\u4ee5\u4e0b\u6587\u4ef6\u6253\u5305\u4e3a .zip \u6587\u4ef6\uff0c\u5e76\u4e0a\u4f20\u5230 Autograder \u8fdb\u884c\u8fdb\u4e00\u6b65\u7684\u6d4b\u8bd5\uff1a src/main/scala/riscv/core/ProgramCounter.scala src/main/scala/riscv/core/InstructionDecode.scala src/main/scala/riscv/core/RegisterFile.scala src/main/scala/riscv/core/ALU.scala \u8bf7\u786e\u4fdd Autograder \u63d0\u4ea4\u754c\u9762\u663e\u793a\u7684\u5b8c\u6574\u6587\u4ef6\u8def\u5f84\u5305\u542b\u4e0a\u8ff0\u6587\u4ef6\u8def\u5f84\u4e14\u5b8c\u5168\u4e00\u81f4\u3002\u591a\u4f59\u7684\u6587\u4ef6\u53ef\u4ee5\u4e0a\u4f20\u4f46\u5c06\u88ab\u5ffd\u7565\u3002","title":"\u5b9e\u9a8c\u4e00 \u5355\u5468\u671f CPU"},{"location":"labs/lab1-single-cycle-cpu/#\u5b9e\u9a8c\u4e00-\u5355\u5468\u671f-cpu","text":"","title":"\u5b9e\u9a8c\u4e00 \u5355\u5468\u671f CPU"},{"location":"labs/lab1-single-cycle-cpu/#\u7a0b\u5e8f\u8ba1\u6570\u5668","text":"\u9996\u5148\u6211\u4eec\u6765\u5b9e\u73b0 CPU \u4e2d\u6700\u7b80\u5355\u7684\u90e8\u4ef6\u4e4b\u4e00\uff0c\u7a0b\u5e8f\u8ba1\u6570\u5668\uff08Program Counter, PC\uff09\u3002\u5728\u5355\u5468\u671f CPU \u4e2d\uff0c\u7a0b\u5e8f\u8ba1\u6570\u5668\u5728\u6bcf\u4e00\u4e2a\u5468\u671f\u53ea\u9700\u8981\u5c06\u5f53\u524d\u6307\u4ee4\u5730\u5740 +4 \uff08RISC-V \u975e\u53d8\u957f\u6307\u4ee4\u957f\u5ea6\uff09\uff0c\u5e76\u5c06\u7ed3\u679c\u5199\u5165\u5bc4\u5b58\u5668\u4e2d\u4fdd\u5b58\u5e76\u8f93\u51fa\u5373\u53ef\u3002\u53e6\u5916\uff0c\u4e3a\u4e86\u5904\u7406\u5206\u652f\u547d\u4ee4\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u63a5\u6536\u63a7\u5236\u5355\u5143\u9001\u5165\u7684\u8df3\u8f6c\u4fe1\u53f7\u4ee5\u53ca\u8df3\u8f6c\u5730\u5740\uff0c\u5982\u679c\u8df3\u8f6c\u4fe1\u53f7\u4f7f\u80fd\uff0c\u6211\u4eec\u5c31\u9700\u8981\u5c06\u8df3\u8f6c\u76ee\u7684\u5730\u5740\u5199\u5165\u5bc4\u5b58\u5668\u4e2d\u3002 \u6a21\u5757\u7684\u8f93\u5165\u4fe1\u53f7\u4ee5\u53ca\u8f93\u51fa\u4fe1\u53f7\u5df2\u7ecf\u5b9a\u4e49\u597d\uff0c\u76f8\u5173\u4ee3\u7801\u6587\u4ef6\u4f4d\u4e8e src/main/scala/riscv/core/ProgramCounter.scala \uff0c\u8bf7\u5728 // Lab1(ProgramCounter) \u6ce8\u91ca\u5904\u586b\u5165\u4ee3\u7801\uff0c\u4f7f\u5176\u80fd\u901a\u8fc7 ProgramCounterTest \u6d4b\u8bd5\u3002","title":"\u7a0b\u5e8f\u8ba1\u6570\u5668"},{"location":"labs/lab1-single-cycle-cpu/#\u5bc4\u5b58\u5668\u5806","text":"CPU \u5728\u8fdb\u884c\u8fd0\u7b97\u65f6\uff0c\u9700\u8981\u5c06\u7ed3\u679c\u6216\u72b6\u6001\u4e34\u65f6\u4fdd\u5b58\u5728\u5bc4\u5b58\u5668\u4e2d\u3002\u901a\u5e38\uff0cCPU \u542b\u6709\u4e00\u5b9a\u6570\u91cf\u7684\u901a\u7528\u5bc4\u5b58\u5668\uff08General Purpose Registers, GPR\uff09\uff0c\u8fd9\u4e9b\u5bc4\u5b58\u5668\u7ec4\u5408\u5728\u4e00\u8d77\u6210\u4e3a\u5bc4\u5b58\u5668\u5806\uff08Register File\uff09\uff0c\u6211\u4eec\u53ef\u4ee5\u7ed9\u6bcf\u4e2a\u5bc4\u5b58\u5668\u5206\u914d\u4e00\u4e2a\u7f16\u53f7\u4f5c\u4e3a\u5bc4\u5b58\u5668\u5730\u5740\uff0c\u5e76\u901a\u8fc7\u8fd9\u4e2a\u7f16\u53f7\u8bbf\u95ee\u6307\u5b9a\u7684\u5bc4\u5b58\u5668\u3002RISC-V \u4e2d\u89c4\u5b9a\u7684 GPR \u6709 32 \u4e2a\uff0c\u7f16\u53f7\u5206\u522b\u4e3a 0-31\uff0c\u5176\u4e2d 0 \u53f7\u5bc4\u5b58\u5668\u6c38\u8fdc\u8fd4\u56de 0 \u503c\u3002 \u5bc4\u5b58\u5668\u5806\u63d0\u4f9b\u4e24\u4e2a\u8bfb\u7aef\u53e3\uff08\u5bf9\u5e94\u4e24\u4e2a\u6e90\u64cd\u4f5c\u6570\uff09\u4ee5\u53ca\u4e00\u4e2a\u5199\u7aef\u53e3\uff08\u5bf9\u5e94\u4e00\u4e2a\u76ee\u7684\u5bc4\u5b58\u5668\uff09\uff0c\u6bcf\u4e2a\u8bfb\u7aef\u53e3\u53ef\u4ee5\u8f93\u5165\u5bc4\u5b58\u5668\u5730\u5740\u5e76\u8f93\u51fa\u5bf9\u5e94\u5bc4\u5b58\u5668\u6570\u636e\u3002\u5199\u7aef\u53e3\u8f93\u5165\u5bc4\u5b58\u5668\u5730\u5740\u3001\u5199\u4f7f\u80fd\u4fe1\u53f7\u4ee5\u53ca\u5199\u5165\u6570\u636e\uff0c\u5982\u679c\u5199\u4f7f\u80fd\u4fe1\u53f7\u6fc0\u6d3b\uff0c\u5c31\u5c06\u5199\u5165\u6570\u636e\u5199\u5165\u5bc4\u5b58\u5668\u4e2d\uff0c\u5426\u5219\u4e0d\u8fdb\u884c\u64cd\u4f5c\u3002\u9700\u8981\u7279\u522b\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u4e00\u4e2a\u5bc4\u5b58\u5668\uff0c\u5728\u540c\u4e00\u4e2a\u5468\u671f\uff0c\u65e2\u4f5c\u4e3a\u6e90\u64cd\u4f5c\u6570\uff0c\u53c8\u4f5c\u4e3a\u76ee\u7684\u5bc4\u5b58\u5668\uff0c\u5219\u9700\u8981\u901a\u8fc7 \u8f6c\u53d1 \u7684\u65b9\u6cd5\uff0c\u5c06\u5199\u5165\u7aef\u53e3\u7684\u6570\u636e\u8f93\u51fa\u3002 \u6a21\u5757\u7684\u8f93\u5165\u4fe1\u53f7\u4ee5\u53ca\u8f93\u51fa\u4fe1\u53f7\u5df2\u7ecf\u5b9a\u4e49\u597d\uff0c\u76f8\u5173\u4ee3\u7801\u6587\u4ef6\u4f4d\u4e8e src/main/scala/riscv/core/RegisterFile.scala \uff0c\u8bf7\u5728 // Lab1(RegisterFile) \u6ce8\u91ca\u5904\u586b\u5165\u4ee3\u7801\uff0c\u4f7f\u5176\u80fd\u901a\u8fc7 RegisterFileTest \u6d4b\u8bd5\u3002","title":"\u5bc4\u5b58\u5668\u5806"},{"location":"labs/lab1-single-cycle-cpu/#\u8bd1\u7801\u5668","text":"\u5f53\u6307\u4ee4\u4ece\u5b58\u50a8\u5668\u53d6\u51fa\u540e\uff0c\u9700\u8981\u8bd1\u7801\u5668\u5c06\u6307\u4ee4\u8bd1\u7801\uff0c\u8f93\u51fa\u9002\u5f53\u7684\u63a7\u5236\u4fe1\u53f7\u3002\u8bd1\u7801\u5668\u8d1f\u8d23\u6309\u7167\u6307\u4ee4\u683c\u5f0f\u901a\u8fc7\u7eaf\u7ec4\u5408\u903b\u8f91\u7684\u65b9\u6cd5\uff0c\u89e3\u7801\u51fa\u5bf9\u5e94\u7684\u63a7\u5236\u4fe1\u53f7\u3001\u64cd\u4f5c\u6570\u7b49\u4fe1\u606f\uff0c\u5e76\u8f93\u51fa\u3002 \u6a21\u5757\u7684\u8f93\u5165\u4fe1\u53f7\u4ee5\u53ca\u8f93\u51fa\u4fe1\u53f7\u5df2\u7ecf\u5b9a\u4e49\u597d\uff0c\u76f8\u5173\u4ee3\u7801\u6587\u4ef6\u4f4d\u4e8e src/main/scala/riscv/core/InstructionDecode.scala \uff0c\u8bf7\u5728 // Lab1(InstructionDecode) \u6ce8\u91ca\u5904\u586b\u5165\u4ee3\u7801\uff0c\u4f7f\u5176\u80fd\u901a\u8fc7 InstructionDecodeTest \u6d4b\u8bd5\u3002","title":"\u8bd1\u7801\u5668"},{"location":"labs/lab1-single-cycle-cpu/#alu","text":"\u5728\u6267\u884c\u9636\u6bb5\uff0cALU \u8d1f\u8d23\u8ba1\u7b97\u5e76\u5c06\u7ed3\u679c\u8f93\u51fa\uff0c\u4e3a\u7eaf\u7ec4\u5408\u903b\u8f91\u3002 \u6a21\u5757\u7684\u8f93\u5165\u4fe1\u53f7\u4ee5\u53ca\u8f93\u51fa\u4fe1\u53f7\u5df2\u7ecf\u5b9a\u4e49\u597d\uff0c\u76f8\u5173\u4ee3\u7801\u6587\u4ef6\u4f4d\u4e8e src/main/scala/riscv/core/ALU.scala \uff0c\u8bf7\u5728 // Lab1(ALU) \u6ce8\u91ca\u5904\u586b\u5165\u4ee3\u7801\uff0c\u4f7f\u5176\u80fd\u901a\u8fc7 ALUTest \u6d4b\u8bd5\u3002","title":"ALU"},{"location":"labs/lab1-single-cycle-cpu/#\u63d0\u4ea4-autograder","text":"\u5b8c\u6210\u4ee5\u4e0a\u6240\u6709\u5b9e\u9a8c\u5e76\u901a\u8fc7\u76f8\u5e94\u6d4b\u8bd5\u540e\uff0c\u8bf7\u5c06\u4ee5\u4e0b\u6587\u4ef6\u6253\u5305\u4e3a .zip \u6587\u4ef6\uff0c\u5e76\u4e0a\u4f20\u5230 Autograder \u8fdb\u884c\u8fdb\u4e00\u6b65\u7684\u6d4b\u8bd5\uff1a src/main/scala/riscv/core/ProgramCounter.scala src/main/scala/riscv/core/InstructionDecode.scala src/main/scala/riscv/core/RegisterFile.scala src/main/scala/riscv/core/ALU.scala \u8bf7\u786e\u4fdd Autograder \u63d0\u4ea4\u754c\u9762\u663e\u793a\u7684\u5b8c\u6574\u6587\u4ef6\u8def\u5f84\u5305\u542b\u4e0a\u8ff0\u6587\u4ef6\u8def\u5f84\u4e14\u5b8c\u5168\u4e00\u81f4\u3002\u591a\u4f59\u7684\u6587\u4ef6\u53ef\u4ee5\u4e0a\u4f20\u4f46\u5c06\u88ab\u5ffd\u7565\u3002","title":"\u63d0\u4ea4 Autograder"},{"location":"labs/lab2-pipelined-cpu/","text":"\u6d41\u6c34\u7ebf CPU \u00b6 \u5728\u5b8c\u6210\u5355\u5468\u671f CPU \u5b9e\u9a8c\u540e\uff0c\u4f60\u5df2\u7ecf\u5bf9 CPU \u7684\u539f\u7406\u548c\u7ed3\u6784\u5df2\u7ecf\u6709\u4e86\u57fa\u672c\u7684\u4e86\u89e3\u3002\u4f46\u5355\u5468\u671f\u7684 CPU \u8bbe\u8ba1\u4e2d\uff0c\u5173\u952e\u8def\u5f84\u592a\u957f\uff0c\u9891\u7387\u96be\u4ee5\u63d0\u5347\u3002 \u5728\u672c\u5b9e\u9a8c\u4e2d\uff0c\u4f60\u5c06\u5b66\u4e60\u5230\uff1a \u4f7f\u7528\u4e09\u7ea7\u6d41\u6c34\u7ebf\u8bbe\u8ba1\u7f29\u77ed\u5173\u952e\u8def\u5f84 \u6b63\u786e\u5904\u7406\u6d41\u6c34\u7ebf\u963b\u585e\u4e0e\u6e05\u7a7a \u4f7f\u7528\u8f6c\u53d1\u903b\u8f91\u51cf\u5c11\u6d41\u6c34\u7ebf\u963b\u585e \u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668 \u00b6 \u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\u662f\u5728\u6d41\u6c34\u7ebf\u4e2d\u8d77\u7f13\u5b58\u4f5c\u7528\u7684\u5bc4\u5b58\u5668\uff0c\u76ee\u7684\u662f\u7f29\u77ed\u5173\u952e\u8def\u5f84\u3002\u5b83\u7684\u57fa\u672c\u529f\u80fd\u975e\u5e38\u7b80\u5355\uff0c\u5728\u6bcf\u4e00\u4e2a\u65f6\u949f\u5468\u671f\uff0c\u6839\u636e\u590d\u4f4d\uff08\u6d41\u6c34\u7ebf\u6e05\u7a7a\uff09\u6216\u963b\u585e\uff08\u6d41\u6c34\u7ebf\u6682\u505c\uff09\u7684\u72b6\u6001\uff0c\u5c06\u5bc4\u5b58\u5668\u5185\u5bb9\u6e05\u7a7a\u3001\u4fdd\u6301\u6216\u8bbe\u7f6e\u4e3a\u65b0\u7684\u503c\u3002\u5bc4\u5b58\u5668\u7684\u8f93\u51fa\u5219\u662f\u5bc4\u5b58\u5668\u4e2d\u4fdd\u5b58\u7684\u503c\u3002\u4e3a\u4e86\u65b9\u4fbf\u590d\u7528\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u5e26\u53c2\u6570\u7684 PipelineRegister \u6a21\u5757\uff0c\u7528\u6765\u5b9e\u73b0\u4e0d\u540c\u6570\u636e\u4f4d\u5bbd\u7684\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\u3002 \u6a21\u5757\u7684\u8f93\u5165\u4fe1\u53f7\u5305\u62ec\uff1a\u65b0\u7684\u6570\u636e\u503c\u3001\u963b\u585e\u4fe1\u53f7\u3001\u590d\u4f4d\u4fe1\u53f7\uff0c\u8f93\u51fa\u4fe1\u53f7\u5219\u662f\u5f53\u524d\u5bc4\u5b58\u5668\u7684\u6570\u636e\u503c\u3002\u6a21\u5757\u7684\u8f93\u5165\u4fe1\u53f7\u4ee5\u53ca\u8f93\u51fa\u4fe1\u53f7\u5df2\u7ecf\u5b9a\u4e49\u597d\uff0c\u76f8\u5173\u4ee3\u7801\u6587\u4ef6\u4f4d\u4e8e src/main/scala/riscv/core/PipelineRegister.scala \uff0c\u8bf7\u5728 // Lab2(PipelineRegister) \u6ce8\u91ca\u5904\u586b\u5165\u4ee3\u7801\uff0c\u4f7f\u5176\u80fd\u901a\u8fc7 PipelineRegisterTest \u6d4b\u8bd5\u3002 \u6d41\u6c34\u7ebf\u6e05\u7a7a \u00b6 \u5728\u53d1\u751f\u7a0b\u5e8f\u8df3\u8f6c\u7684\u65f6\u5019\uff0c\u8df3\u8f6c\u6307\u4ee4\u4e4b\u540e\u7684\u8fd8\u5728\u6d41\u6c34\u7ebf\u4e2d\u7684\u6307\u4ee4\u90fd\u9700\u8981\u6e05\u7a7a\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u7531\u6267\u884c\u5355\u5143\u5411\u63a7\u5236\u5355\u5143\u62c9\u8d77\u6e05\u7a7a\u4fe1\u53f7\uff0c\u63a7\u5236\u5355\u5143\u5c06\u6e05\u7a7a\u4fe1\u53f7\u4f20\u9012\u7ed9\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\uff0c\u6e05\u7a7a\u5f53\u524d\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\u7684\u5185\u5bb9\u3002\u7136\u540e\uff0c\u53d6\u6307\u6a21\u5757\u4ece\u65b0\u7684 PC \u5bc4\u5b58\u5668\u6307\u5b9a\u7684\u6307\u4ee4\u5730\u5740\u91cd\u65b0\u5f00\u59cb\u53d6\u6307\uff0c\u6d41\u6c34\u7ebf\u6062\u590d\u6267\u884c\u3002 \u6d41\u6c34\u7ebf\u963b\u585e \u00b6 \u5728\u6267\u884c\u4e00\u4e2a\u5468\u671f\u65e0\u6cd5\u5b8c\u6210\u7684\u6307\u4ee4\u7684\u65f6\u5019\uff0c\u4f8b\u5982\u8bbf\u5b58\u64cd\u4f5c\uff0c\u5f53\u524d\u6307\u4ee4\u4e4b\u540e\u7684\u6240\u6709\u6307\u4ee4\u9700\u8981\u7b49\u5f85\u5f53\u524d\u6307\u4ee4\u6267\u884c\u5b8c\u6210\u624d\u80fd\u7ee7\u7eed\u6267\u884c\u3002\u8fd9\u65f6\u5019\uff0c\u6d41\u6c34\u7ebf\u4e2d\u8fd8\u6ca1\u6267\u884c\u7684\u6307\u4ee4\u662f\u6709\u6548\u7684\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u6e05\u7a7a\u6d41\u6c34\u7ebf\u3002\u6b64\u65f6\uff0c\u6267\u884c\u5355\u5143\u5411\u63a7\u5236\u5355\u5143\u62c9\u8d77\u963b\u585e\u4fe1\u53f7\uff0c\u63a7\u5236\u5355\u5143\u5c06\u963b\u585e\u4fe1\u53f7\u4f20\u9012\u7ed9\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\uff0c\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\u5219\u4fdd\u6301\u5f53\u524d\u5185\u5bb9\u4e0d\u53d8\uff0c\u7b49\u5f85\u963b\u585e\u4fe1\u53f7\u89e3\u9664\u540e\u624d\u63a5\u53d7\u4ece\u4e0a\u4e00\u4e2a\u9636\u6bb5\u4f20\u9012\u8fc7\u6765\u7684\u65b0\u7684\u503c\uff0c\u6d41\u6c34\u7ebf\u6062\u590d\u6267\u884c\u3002\u53d6\u6307\u6a21\u5757\u5728\u6d41\u6c34\u7ebf\u963b\u585e\u7684\u65f6\u5019\uff0c\u6682\u505c\u53d6\u6307\u64cd\u4f5c\u3002 \u6269\u5c55\u5b9e\u9a8c \u00b6 \u4e94\u7ea7\u6d41\u6c34\u7ebf\u8bbe\u8ba1 \u00b6 \u5728\u4e09\u7ea7\u6d41\u6c34\u7ebf\u4e2d\uff0c\u6267\u884c\u9636\u6bb5\u903b\u8f91\u590d\u6742\uff0c\u4ecd\u7136\u53ef\u80fd\u5bfc\u81f4\u8f83\u5927\u7684\u5ef6\u8fdf\u3002\u4e3a\u4e86\u8fdb\u4e00\u6b65\u7f29\u77ed\u5173\u952e\u8def\u5f84\uff0c\u6211\u4eec\u53ef\u4ee5\u6269\u5c55\u6d41\u6c34\u7ebf\u7ea7\u6570\uff0c\u5c06\u6267\u884c\u9636\u6bb5\u8fdb\u4e00\u6b65\u5206\u4e3a ALU \u9636\u6bb5\u3001\u8bbf\u5b58\u9636\u6bb5\u4ee5\u53ca\u5199\u56de\u9636\u6bb5\u3002 \u5728\u4e94\u7ea7\u6d41\u6c34\u7ebf\u4e2d\uff0c\u7531\u4e8e\u5199\u56de\u9636\u6bb5\u5728\u9760\u540e\u7684\u4f4d\u7f6e\uff0c\u6709\u53ef\u80fd\u4e00\u4e2a\u6307\u4ee4\u7684\u6e90\u64cd\u4f5c\u6570\u5728 ALU \u9636\u6bb5\u65f6\u8fd8\u6ca1\u6709\u5199\u56de\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f1a\u4ea7\u751f\u6570\u636e\u7ade\u4e89\u3002\u4e00\u79cd\u89e3\u51b3\u6570\u636e\u7ade\u4e89\u7684\u65b9\u6cd5\u662f\u76f4\u63a5\u963b\u585e\u6d41\u6c34\u7ebf\uff0c\u8fd9\u79cd\u65b9\u6cd5\u5b9e\u73b0\u7b80\u5355\uff0c\u5ef6\u8fdf\u8f83\u4f4e\uff0c\u4f46\u662f\u4f1a\u4ea7\u751f\u6d41\u6c34\u7ebf\u6c14\u6ce1\uff0c\u964d\u4f4e\u6267\u884c\u6548\u7387\u3002\u53e6\u4e00\u79cd\u51cf\u5c11\u6d41\u6c34\u7ebf\u6c14\u6ce1\u7684\u65b9\u6cd5\u662f\u4f7f\u7528\u8f6c\u53d1\u903b\u8f91\uff0c\u5c06\u5199\u56de\u9636\u6bb5\u6216\u8bbf\u5b58\u9636\u6bb5\u7684\u7ed3\u679c\u8f6c\u53d1\u7ed9 ALU \u5355\u5143\u3002\u4f7f\u7528\u8f6c\u53d1\u903b\u8f91\u7684\u8bbe\u8ba1\u867d\u7136\u80fd\u51cf\u5c11\u6d41\u6c34\u7ebf\u6c14\u6ce1\uff0c\u4f46\u662f\u4f1a\u4f7f\u5f97\u7535\u8def\u53d8\u5f97\u66f4\u590d\u6742\uff0c\u80fd\u8017\u4e0a\u5347\uff0c\u53ef\u80fd\u4f1a\u5bf9\u65f6\u949f\u9891\u7387\u4ea7\u751f\u4e00\u5b9a\u5f71\u54cd\u3002","title":"\u5b9e\u9a8c\u4e8c \u6d41\u6c34\u7ebf CPU"},{"location":"labs/lab2-pipelined-cpu/#\u6d41\u6c34\u7ebf-cpu","text":"\u5728\u5b8c\u6210\u5355\u5468\u671f CPU \u5b9e\u9a8c\u540e\uff0c\u4f60\u5df2\u7ecf\u5bf9 CPU \u7684\u539f\u7406\u548c\u7ed3\u6784\u5df2\u7ecf\u6709\u4e86\u57fa\u672c\u7684\u4e86\u89e3\u3002\u4f46\u5355\u5468\u671f\u7684 CPU \u8bbe\u8ba1\u4e2d\uff0c\u5173\u952e\u8def\u5f84\u592a\u957f\uff0c\u9891\u7387\u96be\u4ee5\u63d0\u5347\u3002 \u5728\u672c\u5b9e\u9a8c\u4e2d\uff0c\u4f60\u5c06\u5b66\u4e60\u5230\uff1a \u4f7f\u7528\u4e09\u7ea7\u6d41\u6c34\u7ebf\u8bbe\u8ba1\u7f29\u77ed\u5173\u952e\u8def\u5f84 \u6b63\u786e\u5904\u7406\u6d41\u6c34\u7ebf\u963b\u585e\u4e0e\u6e05\u7a7a \u4f7f\u7528\u8f6c\u53d1\u903b\u8f91\u51cf\u5c11\u6d41\u6c34\u7ebf\u963b\u585e","title":"\u6d41\u6c34\u7ebf CPU"},{"location":"labs/lab2-pipelined-cpu/#\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668","text":"\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\u662f\u5728\u6d41\u6c34\u7ebf\u4e2d\u8d77\u7f13\u5b58\u4f5c\u7528\u7684\u5bc4\u5b58\u5668\uff0c\u76ee\u7684\u662f\u7f29\u77ed\u5173\u952e\u8def\u5f84\u3002\u5b83\u7684\u57fa\u672c\u529f\u80fd\u975e\u5e38\u7b80\u5355\uff0c\u5728\u6bcf\u4e00\u4e2a\u65f6\u949f\u5468\u671f\uff0c\u6839\u636e\u590d\u4f4d\uff08\u6d41\u6c34\u7ebf\u6e05\u7a7a\uff09\u6216\u963b\u585e\uff08\u6d41\u6c34\u7ebf\u6682\u505c\uff09\u7684\u72b6\u6001\uff0c\u5c06\u5bc4\u5b58\u5668\u5185\u5bb9\u6e05\u7a7a\u3001\u4fdd\u6301\u6216\u8bbe\u7f6e\u4e3a\u65b0\u7684\u503c\u3002\u5bc4\u5b58\u5668\u7684\u8f93\u51fa\u5219\u662f\u5bc4\u5b58\u5668\u4e2d\u4fdd\u5b58\u7684\u503c\u3002\u4e3a\u4e86\u65b9\u4fbf\u590d\u7528\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u5e26\u53c2\u6570\u7684 PipelineRegister \u6a21\u5757\uff0c\u7528\u6765\u5b9e\u73b0\u4e0d\u540c\u6570\u636e\u4f4d\u5bbd\u7684\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\u3002 \u6a21\u5757\u7684\u8f93\u5165\u4fe1\u53f7\u5305\u62ec\uff1a\u65b0\u7684\u6570\u636e\u503c\u3001\u963b\u585e\u4fe1\u53f7\u3001\u590d\u4f4d\u4fe1\u53f7\uff0c\u8f93\u51fa\u4fe1\u53f7\u5219\u662f\u5f53\u524d\u5bc4\u5b58\u5668\u7684\u6570\u636e\u503c\u3002\u6a21\u5757\u7684\u8f93\u5165\u4fe1\u53f7\u4ee5\u53ca\u8f93\u51fa\u4fe1\u53f7\u5df2\u7ecf\u5b9a\u4e49\u597d\uff0c\u76f8\u5173\u4ee3\u7801\u6587\u4ef6\u4f4d\u4e8e src/main/scala/riscv/core/PipelineRegister.scala \uff0c\u8bf7\u5728 // Lab2(PipelineRegister) \u6ce8\u91ca\u5904\u586b\u5165\u4ee3\u7801\uff0c\u4f7f\u5176\u80fd\u901a\u8fc7 PipelineRegisterTest \u6d4b\u8bd5\u3002","title":"\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668"},{"location":"labs/lab2-pipelined-cpu/#\u6d41\u6c34\u7ebf\u6e05\u7a7a","text":"\u5728\u53d1\u751f\u7a0b\u5e8f\u8df3\u8f6c\u7684\u65f6\u5019\uff0c\u8df3\u8f6c\u6307\u4ee4\u4e4b\u540e\u7684\u8fd8\u5728\u6d41\u6c34\u7ebf\u4e2d\u7684\u6307\u4ee4\u90fd\u9700\u8981\u6e05\u7a7a\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u7531\u6267\u884c\u5355\u5143\u5411\u63a7\u5236\u5355\u5143\u62c9\u8d77\u6e05\u7a7a\u4fe1\u53f7\uff0c\u63a7\u5236\u5355\u5143\u5c06\u6e05\u7a7a\u4fe1\u53f7\u4f20\u9012\u7ed9\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\uff0c\u6e05\u7a7a\u5f53\u524d\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\u7684\u5185\u5bb9\u3002\u7136\u540e\uff0c\u53d6\u6307\u6a21\u5757\u4ece\u65b0\u7684 PC \u5bc4\u5b58\u5668\u6307\u5b9a\u7684\u6307\u4ee4\u5730\u5740\u91cd\u65b0\u5f00\u59cb\u53d6\u6307\uff0c\u6d41\u6c34\u7ebf\u6062\u590d\u6267\u884c\u3002","title":"\u6d41\u6c34\u7ebf\u6e05\u7a7a"},{"location":"labs/lab2-pipelined-cpu/#\u6d41\u6c34\u7ebf\u963b\u585e","text":"\u5728\u6267\u884c\u4e00\u4e2a\u5468\u671f\u65e0\u6cd5\u5b8c\u6210\u7684\u6307\u4ee4\u7684\u65f6\u5019\uff0c\u4f8b\u5982\u8bbf\u5b58\u64cd\u4f5c\uff0c\u5f53\u524d\u6307\u4ee4\u4e4b\u540e\u7684\u6240\u6709\u6307\u4ee4\u9700\u8981\u7b49\u5f85\u5f53\u524d\u6307\u4ee4\u6267\u884c\u5b8c\u6210\u624d\u80fd\u7ee7\u7eed\u6267\u884c\u3002\u8fd9\u65f6\u5019\uff0c\u6d41\u6c34\u7ebf\u4e2d\u8fd8\u6ca1\u6267\u884c\u7684\u6307\u4ee4\u662f\u6709\u6548\u7684\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u6e05\u7a7a\u6d41\u6c34\u7ebf\u3002\u6b64\u65f6\uff0c\u6267\u884c\u5355\u5143\u5411\u63a7\u5236\u5355\u5143\u62c9\u8d77\u963b\u585e\u4fe1\u53f7\uff0c\u63a7\u5236\u5355\u5143\u5c06\u963b\u585e\u4fe1\u53f7\u4f20\u9012\u7ed9\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\uff0c\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\u5219\u4fdd\u6301\u5f53\u524d\u5185\u5bb9\u4e0d\u53d8\uff0c\u7b49\u5f85\u963b\u585e\u4fe1\u53f7\u89e3\u9664\u540e\u624d\u63a5\u53d7\u4ece\u4e0a\u4e00\u4e2a\u9636\u6bb5\u4f20\u9012\u8fc7\u6765\u7684\u65b0\u7684\u503c\uff0c\u6d41\u6c34\u7ebf\u6062\u590d\u6267\u884c\u3002\u53d6\u6307\u6a21\u5757\u5728\u6d41\u6c34\u7ebf\u963b\u585e\u7684\u65f6\u5019\uff0c\u6682\u505c\u53d6\u6307\u64cd\u4f5c\u3002","title":"\u6d41\u6c34\u7ebf\u963b\u585e"},{"location":"labs/lab2-pipelined-cpu/#\u6269\u5c55\u5b9e\u9a8c","text":"","title":"\u6269\u5c55\u5b9e\u9a8c"},{"location":"labs/lab2-pipelined-cpu/#\u4e94\u7ea7\u6d41\u6c34\u7ebf\u8bbe\u8ba1","text":"\u5728\u4e09\u7ea7\u6d41\u6c34\u7ebf\u4e2d\uff0c\u6267\u884c\u9636\u6bb5\u903b\u8f91\u590d\u6742\uff0c\u4ecd\u7136\u53ef\u80fd\u5bfc\u81f4\u8f83\u5927\u7684\u5ef6\u8fdf\u3002\u4e3a\u4e86\u8fdb\u4e00\u6b65\u7f29\u77ed\u5173\u952e\u8def\u5f84\uff0c\u6211\u4eec\u53ef\u4ee5\u6269\u5c55\u6d41\u6c34\u7ebf\u7ea7\u6570\uff0c\u5c06\u6267\u884c\u9636\u6bb5\u8fdb\u4e00\u6b65\u5206\u4e3a ALU \u9636\u6bb5\u3001\u8bbf\u5b58\u9636\u6bb5\u4ee5\u53ca\u5199\u56de\u9636\u6bb5\u3002 \u5728\u4e94\u7ea7\u6d41\u6c34\u7ebf\u4e2d\uff0c\u7531\u4e8e\u5199\u56de\u9636\u6bb5\u5728\u9760\u540e\u7684\u4f4d\u7f6e\uff0c\u6709\u53ef\u80fd\u4e00\u4e2a\u6307\u4ee4\u7684\u6e90\u64cd\u4f5c\u6570\u5728 ALU \u9636\u6bb5\u65f6\u8fd8\u6ca1\u6709\u5199\u56de\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f1a\u4ea7\u751f\u6570\u636e\u7ade\u4e89\u3002\u4e00\u79cd\u89e3\u51b3\u6570\u636e\u7ade\u4e89\u7684\u65b9\u6cd5\u662f\u76f4\u63a5\u963b\u585e\u6d41\u6c34\u7ebf\uff0c\u8fd9\u79cd\u65b9\u6cd5\u5b9e\u73b0\u7b80\u5355\uff0c\u5ef6\u8fdf\u8f83\u4f4e\uff0c\u4f46\u662f\u4f1a\u4ea7\u751f\u6d41\u6c34\u7ebf\u6c14\u6ce1\uff0c\u964d\u4f4e\u6267\u884c\u6548\u7387\u3002\u53e6\u4e00\u79cd\u51cf\u5c11\u6d41\u6c34\u7ebf\u6c14\u6ce1\u7684\u65b9\u6cd5\u662f\u4f7f\u7528\u8f6c\u53d1\u903b\u8f91\uff0c\u5c06\u5199\u56de\u9636\u6bb5\u6216\u8bbf\u5b58\u9636\u6bb5\u7684\u7ed3\u679c\u8f6c\u53d1\u7ed9 ALU \u5355\u5143\u3002\u4f7f\u7528\u8f6c\u53d1\u903b\u8f91\u7684\u8bbe\u8ba1\u867d\u7136\u80fd\u51cf\u5c11\u6d41\u6c34\u7ebf\u6c14\u6ce1\uff0c\u4f46\u662f\u4f1a\u4f7f\u5f97\u7535\u8def\u53d8\u5f97\u66f4\u590d\u6742\uff0c\u80fd\u8017\u4e0a\u5347\uff0c\u53ef\u80fd\u4f1a\u5bf9\u65f6\u949f\u9891\u7387\u4ea7\u751f\u4e00\u5b9a\u5f71\u54cd\u3002","title":"\u4e94\u7ea7\u6d41\u6c34\u7ebf\u8bbe\u8ba1"},{"location":"labs/lab3-interrupt/","text":"\u4e2d\u65ad \u00b6 \u5b8c\u6210\u6d41\u6c34\u7ebf CPU \u5b9e\u9a8c\u540e\uff0c\u4f60\u5c31\u5df2\u7ecf\u5bf9\u57fa\u4e8e\u6d41\u6c34\u7ebf CPU \u7684\u539f\u7406\u548c\u8bbe\u8ba1\u6709\u521d\u6b65\u8ba4\u8bc6\u4e86\u3002\u4f46\u662f\u8fd9\u4e2a\u7b80\u5355\u7684 CPU \u53ea\u80fd\u6309\u7167\u9884\u5148\u7684\u7a0b\u5e8f\u6307\u4ee4\u4e00\u76f4\u8fd0\u884c\uff0c\u65e0\u6cd5\u4e2d\u9014\u6253\u65ad\u3002\u7136\u800c\uff0c\u6211\u4eec\u751f\u6d3b\u7684\u4e16\u754c\u5145\u6ee1\u4e86\u4e0d\u786e\u5b9a\u6027\uff0c\u4e00\u4e2a\u5b9e\u7528\u7684 CPU \u9700\u8981\u80fd\u591f\u65f6\u523b\u51c6\u5907\u597d\u5904\u7406\u6765\u81ea\u5916\u90e8\u7684\u4e8b\u4ef6\uff0c\u53ca\u65f6\u5904\u7406\u4e2d\u65ad\uff0c\u5e76\u8fd4\u56de\u5230\u539f\u6765\u7684\u7a0b\u5e8f\u4e2d\u7ee7\u7eed\u6267\u884c\u3002 \u5728\u672c\u5b9e\u9a8c\u4e2d\uff0c\u4f60\u5c06\u5b66\u4e60\u5230\uff1a CSR \u5bc4\u5b58\u5668\u4ee5\u53ca\u5176\u64cd\u4f5c\u547d\u4ee4 \u4e2d\u65ad\u63a7\u5236\u5668\u7684\u539f\u7406\u548c\u8bbe\u8ba1 \u6b63\u786e\u5904\u7406\u4e2d\u65ad\u53d1\u751f\u65f6\u6d41\u6c34\u7ebf\u7684\u72b6\u6001 \u7f16\u5199\u4e00\u4e2a\u7b80\u5355\u7684\u5b9a\u65f6\u4e2d\u65ad\u53d1\u751f\u5668 \u4e2d\u65ad\u63a7\u5236\u5668 \u00b6 \u4e2d\u65ad\u63a7\u5236\u5668\u5728\u6bcf\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u90fd\u68c0\u67e5\u662f\u5426\u6709\u6765\u81ea\u5916\u90e8\u7684\u4e2d\u65ad\u4fe1\u53f7\u3002\u4e00\u65e6\u6709\u4e2d\u65ad\u4fe1\u53f7\u62c9\u8d77\uff0cCPU \u6e05\u7a7a\u6d41\u6c34\u7ebf\uff0c\u7136\u540e\u5728\u4e2d\u65ad\u63a7\u5236\u5668\u8bbe\u7f6e\u597d\u76f8\u5173\u7684 CSR \u5bc4\u5b58\u5668\u4fe1\u606f\u540e\uff0c\u901a\u8fc7\u63a7\u5236\u5355\u5143\u6062\u590d\u6d41\u6c34\u7ebf\u6267\u884c\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u3002 \u5177\u4f53\u6765\u8bf4\uff0c\u4e2d\u65ad\u63a7\u5236\u5668\u6536\u5230\u4e2d\u65ad\u4fe1\u53f7\u540e\uff0c\u9996\u5148\u5e94\u5f53\u540c\u65f6\u62c9\u8d77 CPU \u7aef\u7684\u4e2d\u65ad\u4fe1\u53f7\uff0c\u63d0\u793a CPU \u6709\u4e2d\u65ad\u53d1\u751f\uff0cCPU \u6b64\u65f6\u6682\u505c\u6267\u884c\u3002\u4e2d\u65ad\u63a7\u5236\u5668\u5c06\u5f53\u524d\u7684\u6307\u4ee4\u5730\u5740\u4fdd\u5b58\u5230 mepc \u5bc4\u5b58\u5668\u4e2d\uff0c\u7136\u540e\u5c06 mstatus \u5bc4\u5b58\u5668\u4e2d\u7684 MPIE \u6807\u5fd7\u4f4d\u8bbe\u7f6e\u4e3a 0 \uff0c\u7981\u7528\u4e2d\u65ad\uff0c\u907f\u514d\u4e2d\u65ad\u5d4c\u5957\uff0c\u7136\u540e\u8bbe\u7f6e mtcause \u5bc4\u5b58\u5668\u7684\u503c\uff0c\u4ee5\u4fbf\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u83b7\u53d6\u4e2d\u65ad\u53d1\u751f\u7684\u539f\u56e0\u3002\u6700\u540e\uff0c\u4e2d\u65ad\u63a7\u5236\u5668\u8bfb\u53d6 mtvec \u5bc4\u5b58\u5668\u7684\u503c\uff0c\u5e76\u5c06\u5176\u8bbe\u7f6e\u4e3a\u6d41\u6c34\u7ebf\u7684\u4e0b\u4e00\u4e2a\u6307\u4ee4\u5730\u5740\uff0c\u6062\u590d CPU \u6d41\u6c34\u7ebf\u6267\u884c\u3002 \u6a21\u5757\u7684\u8f93\u5165\u4fe1\u53f7\u4ee5\u53ca\u8f93\u51fa\u4fe1\u53f7\u5df2\u7ecf\u5b9a\u4e49\u597d\uff0c\u76f8\u5173\u4ee3\u7801\u6587\u4ef6\u4f4d\u4e8e src/main/scala/riscv/core/CLINT.scala \uff0c\u8bf7\u5728 // Lab3(CLINTCSR) \u6ce8\u91ca\u5904\u586b\u5165\u4ee3\u7801\uff0c\u4f7f\u5176\u80fd\u901a\u8fc7 CLINTCSRTest \u6d4b\u8bd5\u3002","title":"\u5b9e\u9a8c\u4e09 \u4e2d\u65ad"},{"location":"labs/lab3-interrupt/#\u4e2d\u65ad","text":"\u5b8c\u6210\u6d41\u6c34\u7ebf CPU \u5b9e\u9a8c\u540e\uff0c\u4f60\u5c31\u5df2\u7ecf\u5bf9\u57fa\u4e8e\u6d41\u6c34\u7ebf CPU \u7684\u539f\u7406\u548c\u8bbe\u8ba1\u6709\u521d\u6b65\u8ba4\u8bc6\u4e86\u3002\u4f46\u662f\u8fd9\u4e2a\u7b80\u5355\u7684 CPU \u53ea\u80fd\u6309\u7167\u9884\u5148\u7684\u7a0b\u5e8f\u6307\u4ee4\u4e00\u76f4\u8fd0\u884c\uff0c\u65e0\u6cd5\u4e2d\u9014\u6253\u65ad\u3002\u7136\u800c\uff0c\u6211\u4eec\u751f\u6d3b\u7684\u4e16\u754c\u5145\u6ee1\u4e86\u4e0d\u786e\u5b9a\u6027\uff0c\u4e00\u4e2a\u5b9e\u7528\u7684 CPU \u9700\u8981\u80fd\u591f\u65f6\u523b\u51c6\u5907\u597d\u5904\u7406\u6765\u81ea\u5916\u90e8\u7684\u4e8b\u4ef6\uff0c\u53ca\u65f6\u5904\u7406\u4e2d\u65ad\uff0c\u5e76\u8fd4\u56de\u5230\u539f\u6765\u7684\u7a0b\u5e8f\u4e2d\u7ee7\u7eed\u6267\u884c\u3002 \u5728\u672c\u5b9e\u9a8c\u4e2d\uff0c\u4f60\u5c06\u5b66\u4e60\u5230\uff1a CSR \u5bc4\u5b58\u5668\u4ee5\u53ca\u5176\u64cd\u4f5c\u547d\u4ee4 \u4e2d\u65ad\u63a7\u5236\u5668\u7684\u539f\u7406\u548c\u8bbe\u8ba1 \u6b63\u786e\u5904\u7406\u4e2d\u65ad\u53d1\u751f\u65f6\u6d41\u6c34\u7ebf\u7684\u72b6\u6001 \u7f16\u5199\u4e00\u4e2a\u7b80\u5355\u7684\u5b9a\u65f6\u4e2d\u65ad\u53d1\u751f\u5668","title":"\u4e2d\u65ad"},{"location":"labs/lab3-interrupt/#\u4e2d\u65ad\u63a7\u5236\u5668","text":"\u4e2d\u65ad\u63a7\u5236\u5668\u5728\u6bcf\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u90fd\u68c0\u67e5\u662f\u5426\u6709\u6765\u81ea\u5916\u90e8\u7684\u4e2d\u65ad\u4fe1\u53f7\u3002\u4e00\u65e6\u6709\u4e2d\u65ad\u4fe1\u53f7\u62c9\u8d77\uff0cCPU \u6e05\u7a7a\u6d41\u6c34\u7ebf\uff0c\u7136\u540e\u5728\u4e2d\u65ad\u63a7\u5236\u5668\u8bbe\u7f6e\u597d\u76f8\u5173\u7684 CSR \u5bc4\u5b58\u5668\u4fe1\u606f\u540e\uff0c\u901a\u8fc7\u63a7\u5236\u5355\u5143\u6062\u590d\u6d41\u6c34\u7ebf\u6267\u884c\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u3002 \u5177\u4f53\u6765\u8bf4\uff0c\u4e2d\u65ad\u63a7\u5236\u5668\u6536\u5230\u4e2d\u65ad\u4fe1\u53f7\u540e\uff0c\u9996\u5148\u5e94\u5f53\u540c\u65f6\u62c9\u8d77 CPU \u7aef\u7684\u4e2d\u65ad\u4fe1\u53f7\uff0c\u63d0\u793a CPU \u6709\u4e2d\u65ad\u53d1\u751f\uff0cCPU \u6b64\u65f6\u6682\u505c\u6267\u884c\u3002\u4e2d\u65ad\u63a7\u5236\u5668\u5c06\u5f53\u524d\u7684\u6307\u4ee4\u5730\u5740\u4fdd\u5b58\u5230 mepc \u5bc4\u5b58\u5668\u4e2d\uff0c\u7136\u540e\u5c06 mstatus \u5bc4\u5b58\u5668\u4e2d\u7684 MPIE \u6807\u5fd7\u4f4d\u8bbe\u7f6e\u4e3a 0 \uff0c\u7981\u7528\u4e2d\u65ad\uff0c\u907f\u514d\u4e2d\u65ad\u5d4c\u5957\uff0c\u7136\u540e\u8bbe\u7f6e mtcause \u5bc4\u5b58\u5668\u7684\u503c\uff0c\u4ee5\u4fbf\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u83b7\u53d6\u4e2d\u65ad\u53d1\u751f\u7684\u539f\u56e0\u3002\u6700\u540e\uff0c\u4e2d\u65ad\u63a7\u5236\u5668\u8bfb\u53d6 mtvec \u5bc4\u5b58\u5668\u7684\u503c\uff0c\u5e76\u5c06\u5176\u8bbe\u7f6e\u4e3a\u6d41\u6c34\u7ebf\u7684\u4e0b\u4e00\u4e2a\u6307\u4ee4\u5730\u5740\uff0c\u6062\u590d CPU \u6d41\u6c34\u7ebf\u6267\u884c\u3002 \u6a21\u5757\u7684\u8f93\u5165\u4fe1\u53f7\u4ee5\u53ca\u8f93\u51fa\u4fe1\u53f7\u5df2\u7ecf\u5b9a\u4e49\u597d\uff0c\u76f8\u5173\u4ee3\u7801\u6587\u4ef6\u4f4d\u4e8e src/main/scala/riscv/core/CLINT.scala \uff0c\u8bf7\u5728 // Lab3(CLINTCSR) \u6ce8\u91ca\u5904\u586b\u5165\u4ee3\u7801\uff0c\u4f7f\u5176\u80fd\u901a\u8fc7 CLINTCSRTest \u6d4b\u8bd5\u3002","title":"\u4e2d\u65ad\u63a7\u5236\u5668"},{"location":"labs/lab4-bus/","text":"\u603b\u7ebf \u00b6 CPU \u9664\u4e86\u53ef\u4ee5\u901a\u8fc7\u5185\u5b58\u63a7\u5236\u5668\u8bbf\u95ee\u5185\u5b58\u4ee5\u5916\uff0c\u8fd8\u53ef\u4ee5\u901a\u8fc7\u603b\u7ebf\u534f\u8bae\u8bbf\u95ee\u5916\u90e8\u8bbe\u5907\u3002\u4f7f\u7528\u603b\u7ebf\u7684\u76ee\u7684\u662f\u51cf\u5c11\u7535\u8def\u5e03\u7ebf\u6570\u91cf\u4ee5\u53ca\u7535\u8def\u8bbe\u8ba1\u590d\u6742\u5ea6\uff0c\u907f\u514d CPU \u548c\u5916\u90e8\u8bbe\u5907\u4e4b\u95f4\u76f4\u63a5\u8fde\u63a5\u3002\u901a\u8fc7\u7edf\u4e00\u7684\u603b\u7ebf\u62bd\u8c61\uff0cCPU \u53ef\u4ee5\u4f7f\u7528\u603b\u7ebf\u534f\u8bae\u8bbf\u95ee\u5916\u90e8\u8bbe\u5907\uff0c\u800c\u4e0d\u9700\u8981\u77e5\u9053\u5916\u90e8\u8bbe\u5907\u7684\u786c\u4ef6\u7ec6\u8282\u3002\u5177\u4f53\u7684\u786c\u4ef6\u64cd\u4f5c\u5219\u8fdb\u4e00\u6b65\u62bd\u8c61\u4e3a\u8bfb\u5199\u786c\u4ef6\u8bbe\u5907\u4e0a\u7684\u5bc4\u5b58\u5668\u3002 \u5728\u672c\u5b9e\u9a8c\u4e2d\uff0c\u4f60\u5c06\u5b66\u4e60\u5230\uff1a AXI4-Lite \u603b\u7ebf\u534f\u8bae\u539f\u7406 \u4f7f\u7528\u72b6\u6001\u673a\u5b9e\u73b0\u603b\u7ebf\u534f\u8bae \u901a\u8fc7\u603b\u7ebf\u8bbe\u7f6e\u5b9a\u65f6\u5668\u5f00\u5173\u4ee5\u53ca\u89e6\u53d1\u95f4\u9694","title":"\u5b9e\u9a8c\u56db \u603b\u7ebf"},{"location":"labs/lab4-bus/#\u603b\u7ebf","text":"CPU \u9664\u4e86\u53ef\u4ee5\u901a\u8fc7\u5185\u5b58\u63a7\u5236\u5668\u8bbf\u95ee\u5185\u5b58\u4ee5\u5916\uff0c\u8fd8\u53ef\u4ee5\u901a\u8fc7\u603b\u7ebf\u534f\u8bae\u8bbf\u95ee\u5916\u90e8\u8bbe\u5907\u3002\u4f7f\u7528\u603b\u7ebf\u7684\u76ee\u7684\u662f\u51cf\u5c11\u7535\u8def\u5e03\u7ebf\u6570\u91cf\u4ee5\u53ca\u7535\u8def\u8bbe\u8ba1\u590d\u6742\u5ea6\uff0c\u907f\u514d CPU \u548c\u5916\u90e8\u8bbe\u5907\u4e4b\u95f4\u76f4\u63a5\u8fde\u63a5\u3002\u901a\u8fc7\u7edf\u4e00\u7684\u603b\u7ebf\u62bd\u8c61\uff0cCPU \u53ef\u4ee5\u4f7f\u7528\u603b\u7ebf\u534f\u8bae\u8bbf\u95ee\u5916\u90e8\u8bbe\u5907\uff0c\u800c\u4e0d\u9700\u8981\u77e5\u9053\u5916\u90e8\u8bbe\u5907\u7684\u786c\u4ef6\u7ec6\u8282\u3002\u5177\u4f53\u7684\u786c\u4ef6\u64cd\u4f5c\u5219\u8fdb\u4e00\u6b65\u62bd\u8c61\u4e3a\u8bfb\u5199\u786c\u4ef6\u8bbe\u5907\u4e0a\u7684\u5bc4\u5b58\u5668\u3002 \u5728\u672c\u5b9e\u9a8c\u4e2d\uff0c\u4f60\u5c06\u5b66\u4e60\u5230\uff1a AXI4-Lite \u603b\u7ebf\u534f\u8bae\u539f\u7406 \u4f7f\u7528\u72b6\u6001\u673a\u5b9e\u73b0\u603b\u7ebf\u534f\u8bae \u901a\u8fc7\u603b\u7ebf\u8bbe\u7f6e\u5b9a\u65f6\u5668\u5f00\u5173\u4ee5\u53ca\u89e6\u53d1\u95f4\u9694","title":"\u603b\u7ebf"},{"location":"labs/lab5-application/","text":"\u5e94\u7528\u7a0b\u5e8f\u9a8c\u8bc1 \u00b6 \u901a\u8fc7\u5b8c\u6210\u4e4b\u524d\u7684\u5b9e\u9a8c\uff0c\u73b0\u5728\u4f60\u5df2\u7ecf\u53ef\u4ee5\u5728\u4f60\u7684 CPU \u4e0a\u8fd0\u884c\u76f8\u5bf9\u5b8c\u6574\u7684\u5e94\u7528\u7a0b\u5e8f\u4e86\u3002\u5728\u672c\u5b9e\u9a8c\u4e2d\uff0c\u4f60\u5c06\u7f16\u5199\u4e00\u4e2a\u80fd\u53d1\u6325\u5168\u90e8\u529f\u80fd\u7684\u7ecf\u5178\u6e38\u620f\u2014\u2014\u4fc4\u7f57\u65af\u65b9\u5757\u3002\u5728\u672c\u5b9e\u9a8c\u4e2d\uff0c\u4f60\u5c06\u5b66\u4e60\u5230\uff1a \u5982\u4f55\u6b63\u786e\u5730\u5728\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5904\u7406\u4e2d\u65ad \u5982\u4f55\u4f7f\u7528\u6c47\u7f16\u548c C \u8bed\u8a00\u7f16\u5199\u66f4\u590d\u6742\u7684\u7a0b\u5e8f \u5982\u4f55\u4f7f\u7528\u8f6f\u4ef6\u6a21\u62df\u6307\u4ee4\u96c6\u8fd8\u4e0d\u652f\u6301\u7684\u6307\u4ee4 \u4e2d\u65ad\u5904\u7406 \u00b6","title":"\u5b9e\u9a8c\u4e94 \u5e94\u7528\u7a0b\u5e8f\u9a8c\u8bc1"},{"location":"labs/lab5-application/#\u5e94\u7528\u7a0b\u5e8f\u9a8c\u8bc1","text":"\u901a\u8fc7\u5b8c\u6210\u4e4b\u524d\u7684\u5b9e\u9a8c\uff0c\u73b0\u5728\u4f60\u5df2\u7ecf\u53ef\u4ee5\u5728\u4f60\u7684 CPU \u4e0a\u8fd0\u884c\u76f8\u5bf9\u5b8c\u6574\u7684\u5e94\u7528\u7a0b\u5e8f\u4e86\u3002\u5728\u672c\u5b9e\u9a8c\u4e2d\uff0c\u4f60\u5c06\u7f16\u5199\u4e00\u4e2a\u80fd\u53d1\u6325\u5168\u90e8\u529f\u80fd\u7684\u7ecf\u5178\u6e38\u620f\u2014\u2014\u4fc4\u7f57\u65af\u65b9\u5757\u3002\u5728\u672c\u5b9e\u9a8c\u4e2d\uff0c\u4f60\u5c06\u5b66\u4e60\u5230\uff1a \u5982\u4f55\u6b63\u786e\u5730\u5728\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5904\u7406\u4e2d\u65ad \u5982\u4f55\u4f7f\u7528\u6c47\u7f16\u548c C \u8bed\u8a00\u7f16\u5199\u66f4\u590d\u6742\u7684\u7a0b\u5e8f \u5982\u4f55\u4f7f\u7528\u8f6f\u4ef6\u6a21\u62df\u6307\u4ee4\u96c6\u8fd8\u4e0d\u652f\u6301\u7684\u6307\u4ee4","title":"\u5e94\u7528\u7a0b\u5e8f\u9a8c\u8bc1"},{"location":"labs/lab5-application/#\u4e2d\u65ad\u5904\u7406","text":"","title":"\u4e2d\u65ad\u5904\u7406"},{"location":"references/","text":"\u53c2\u8003\u8d44\u6599 \u00b6 \u53c2\u8003\u4e66 \u00b6 The RISC-V Reader: An Open Architecture Atlas\uff08RISC-V \u624b\u518c\uff1a\u4e00\u672c\u5f00\u6e90\u6307\u4ee4\u96c6\u7684\u6307\u5357\uff09 [ PDF ] RISC-V Green Card [ PDF ] Processor Microarchitecture: An Implementation Perspective [ PDF ] \u624b\u518c \u00b6 RISC-V \u6307\u4ee4\u624b\u518c\u5377 I\uff08\u975e\u7279\u6743\u6307\u4ee4\uff09 [ PDF ] RISC-V \u6307\u4ee4\u624b\u518c\u5377 II\uff08\u7279\u6743\u6307\u4ee4\uff09 [ PDF ] Chisel \u8bed\u8a00\u5728\u7ebf\u4e92\u52a8\u6559\u7a0b [ Web ] Vivado 2020.1 Tcl \u811a\u672c\u6307\u4ee4\u624b\u518c [ PDF ] \u5de5\u5177 \u00b6 \u5728\u7ebf RISC-V \u6574\u6570\u6307\u4ee4\u96c6\u89e3\u91ca\u5668 [ Web ] \u5176\u4ed6\u5f00\u6e90\u5b9e\u73b0 \u00b6 \u9999\u5c71\u5904\u7406\u5668 OpenXiangshan/Xiangshan riscv-sodor ucb-bar/riscv-sodor riscv-mini ucb-bar/riscv-mini tinyriscv liangkangnan/tinyriscv riscv-boom riscv-boom/riscv-boom rocket-chip chipsalliance/rocket-chip","title":"\u53c2\u8003\u8d44\u6599"},{"location":"references/#\u53c2\u8003\u8d44\u6599","text":"","title":"\u53c2\u8003\u8d44\u6599"},{"location":"references/#\u53c2\u8003\u4e66","text":"The RISC-V Reader: An Open Architecture Atlas\uff08RISC-V \u624b\u518c\uff1a\u4e00\u672c\u5f00\u6e90\u6307\u4ee4\u96c6\u7684\u6307\u5357\uff09 [ PDF ] RISC-V Green Card [ PDF ] Processor Microarchitecture: An Implementation Perspective [ PDF ]","title":"\u53c2\u8003\u4e66"},{"location":"references/#\u624b\u518c","text":"RISC-V \u6307\u4ee4\u624b\u518c\u5377 I\uff08\u975e\u7279\u6743\u6307\u4ee4\uff09 [ PDF ] RISC-V \u6307\u4ee4\u624b\u518c\u5377 II\uff08\u7279\u6743\u6307\u4ee4\uff09 [ PDF ] Chisel \u8bed\u8a00\u5728\u7ebf\u4e92\u52a8\u6559\u7a0b [ Web ] Vivado 2020.1 Tcl \u811a\u672c\u6307\u4ee4\u624b\u518c [ PDF ]","title":"\u624b\u518c"},{"location":"references/#\u5de5\u5177","text":"\u5728\u7ebf RISC-V \u6574\u6570\u6307\u4ee4\u96c6\u89e3\u91ca\u5668 [ Web ]","title":"\u5de5\u5177"},{"location":"references/#\u5176\u4ed6\u5f00\u6e90\u5b9e\u73b0","text":"\u9999\u5c71\u5904\u7406\u5668 OpenXiangshan/Xiangshan riscv-sodor ucb-bar/riscv-sodor riscv-mini ucb-bar/riscv-mini tinyriscv liangkangnan/tinyriscv riscv-boom riscv-boom/riscv-boom rocket-chip chipsalliance/rocket-chip","title":"\u5176\u4ed6\u5f00\u6e90\u5b9e\u73b0"},{"location":"tutorial/","text":"\u7b80\u4ecb \u00b6 By: howardlau1999 \u672c\u7ae0\u5c06\u4ecb\u7ecd\u4e00\u4e9b\u5b9e\u9a8c\u6240\u9700\u7684\u9884\u5907\u77e5\u8bc6\uff0c\u5e2e\u52a9\u4f60\u7406\u89e3\u5b9e\u9a8c\u4ee5\u53ca\u5b8c\u6210\u5b9e\u9a8c\u3002","title":"\u7b80\u4ecb"},{"location":"tutorial/#\u7b80\u4ecb","text":"By: howardlau1999 \u672c\u7ae0\u5c06\u4ecb\u7ecd\u4e00\u4e9b\u5b9e\u9a8c\u6240\u9700\u7684\u9884\u5907\u77e5\u8bc6\uff0c\u5e2e\u52a9\u4f60\u7406\u89e3\u5b9e\u9a8c\u4ee5\u53ca\u5b8c\u6210\u5b9e\u9a8c\u3002","title":"\u7b80\u4ecb"},{"location":"tutorial/arch/","text":"\u5904\u7406\u5668\u67b6\u6784 \u00b6 By: howardlau1999 \u5fae\u67b6\u6784 \u00b6 \u672c\u9879\u76ee\u652f\u6301\u7684\u6307\u4ee4\u96c6\u662f RISC-V \u7684 RV32I \u6574\u6570\u8fd0\u7b97\u6307\u4ee4\u96c6\u3002\u5fae\u67b6\u6784\u8bbe\u8ba1\u4e0a\uff0c\u6709\u4e24\u79cd\u53ef\u4f9b\u9009\u62e9\uff1a\u4e00\u79cd\u662f\u548c Z-scale \u4ee5\u53ca riscv-mini \u7c7b\u4f3c\u7684\u4e09\u7ea7\u6d41\u6c34\u7ebf\u5355\u53d1\u5c04\u987a\u5e8f\u6267\u884c\u67b6\u6784\uff0c\u53e6\u4e00\u79cd\u662f\u548c\u300aComputer Organization and Design, RISC-V edition\u300b\u4e2d\u63cf\u8ff0\u7684 CPU \u7c7b\u4f3c\u7684\u4e94\u7ea7\u6d41\u6c34\u7ebf\u5355\u53d1\u5c04\u987a\u5e8f\u6267\u884c\u67b6\u6784\u3002 \u4e09\u7ea7\u6d41\u6c34\u7ebf \u00b6 \u6d41\u6c34\u7ebf\u603b\u4f53\u67b6\u6784\u5206\u4e3a\u53d6\u6307\uff08IF\uff09\u3001\u8bd1\u7801\uff08DE\uff09\u3001\u6267\u884c/\u5199\u56de/\u8bbf\u5b58\uff08EX\u3001WB\u3001MEM\uff09\u4e09\u4e2a\u9636\u6bb5\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u4e94\u7ea7\u6d41\u6c34\u7ebf \u00b6 \u6d41\u6c34\u7ebf\u603b\u4f53\u67b6\u6784\u5206\u4e3a\u53d6\u6307\uff08IF\uff09\u3001\u8bd1\u7801\uff08DE\uff09\u3001\u6267\u884c\uff08EX\uff09\u3001\u8bbf\u5b58\uff08MEM\uff09\u548c\u5199\u56de\uff08WB\uff09\u4e94\u4e2a\u9636\u6bb5\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u53d6\u6307\uff08InstructionFetch\uff09 \u00b6 \u53d6\u6307\u5355\u5143\u5305\u542b\u7a0b\u5e8f\u8ba1\u6570\u5668\uff08PC\uff09\u3002\u5728\u6bcf\u4e2a\u65f6\u949f\u4e0a\u5347\u6cbf\uff0c\u82e5 PC \u963b\u585e\u4fe1\u53f7 PCStall \u6709\u6548\uff0c\u5219 PC \u7684\u503c\u4fdd\u6301\u4e0d\u53d8\uff1b\u5426\u5219\u82e5\u8df3\u8f6c\u6807\u5fd7 JumpFlag \u6709\u6548\uff0c\u5219 PC \u7684\u503c\u53d8\u4e3a\u8df3\u8f6c\u76ee\u6807\u5730\u5740 JumpAddress \uff1b\u5426\u5219 PC \u7684\u503c\u52a0 4\u3002 \u53d6\u6307\u9636\u6bb5\u6839\u636e PC \u7684\u503c\u901a\u8fc7 AXI4Lite \u603b\u7ebf\u4ece\u5185\u5b58\u4e2d\u8bfb\u53d6\u6307\u4ee4\u5e76\u5c06\u6307\u4ee4\u548c\u5730\u5740\u5411\u540e\u4f20\u9012\u3002\u7531\u4e8e CPU \u590d\u4f4d\u65f6\u5c06\u6307\u4ee4\u4ece ROM \u8f7d\u5165\u5185\u5b58\u3001\u901a\u8fc7\u603b\u7ebf\u4ece\u5185\u5b58\u8bfb\u53d6\u6bcf\u6761\u6307\u4ee4\u90fd\u9700\u8981\u82e5\u5e72\u65f6\u949f\u5468\u671f\uff0c\u5728\u6307\u4ee4\u672a\u5c31\u7eea\u671f\u95f4\uff0c\u5b83\u5411\u540e\u4f20\u9012\u7a7a\u6307\u4ee4 nop \uff0c\u5e76\u4e14\u963b\u585e PC\uff08\u4ee4 StallFlagIF \u6709\u6548\uff09\u3002 \u8bd1\u7801\uff08InstructionDecode\uff09 \u00b6 \u8bd1\u7801\u5355\u5143\u6839\u636e\u6307\u4ee4\u4ea7\u751f\u63a7\u5236\u4fe1\u53f7\u3001\u62d3\u5c55\u7acb\u5373\u6570\u5e76\u4e14\u4ece\u5bc4\u5b58\u5668\u5806\u6216 CSR \u8bfb\u53d6\u6570\u636e\u3002\u53e6\u5916\uff0c\u4e3a\u4e86\u51cf\u5c11\u8df3\u8f6c\u6307\u4ee4\u7684\u4ee3\u4ef7\uff0c\u5c06\u5206\u652f\u6307\u4ee4\u7684\u5224\u65ad\u63d0\u524d\u5230\u8bd1\u7801\u9636\u6bb5\uff0c\u5e76\u4e14\u5728\u672c\u9636\u6bb5\u5411\u53d6\u6307\u5355\u5143\u4f20\u9012\u8df3\u8f6c\u76ee\u6807\u5730\u5740 JumpAddress \u548c\u8df3\u8f6c\u63a7\u5236 JumpFlag \u3002\u8bd1\u7801\u5355\u5143\u5bf9\u4e2d\u65ad\u4fe1\u53f7\u7684\u5904\u7406\u53ef\u4ee5\u89c6\u4e3a\u5728\u539f\u672c\u5904\u7406\u7684\u6307\u4ee4\u4e4b\u4e0a\u201c\u53e0\u52a0\u4e86\u4e00\u6761\u65e0\u6761\u4ef6\u8df3\u8f6c\u6307\u4ee4\u201d\uff1a\u82e5 IntAssert \u4fe1\u53f7\u6709\u6548\uff0c\u5219\u5c06 JumpAddress \u8bbe\u4e3a IntHandlerAddress \uff0c\u4e14\u4ee4 JumpFlag \u6709\u6548\u3002 \u6267\u884c\uff08Execute\uff09 \u00b6 \u6267\u884c\u5355\u5143\u5305\u542b ALU \u548c ALUControl\u3002ALUControl \u6839\u636e\u6307\u4ee4\u7684 opcode \u3001 funct3 \u548c funct7 \u5b57\u6bb5\u4ea7\u751f ALU \u63a7\u5236\u4fe1\u53f7\uff0cALU \u6839\u636e\u63a7\u5236\u4fe1\u53f7 ALUOp1Src \u548c ALUOp2Src \u5bf9\u4e24\u4e2a\u64cd\u4f5c\u6570\u8fdb\u884c\u76f8\u5e94\u7684\u8fd0\u7b97\u3002ALU \u7684\u64cd\u4f5c\u6570 1 \u4ece\u5bc4\u5b58\u5668 rs1 \u6570\u636e Reg1Data \u3001\u6307\u4ee4\u5730\u5740 InsAddr \u3001\u6765\u81ea\u8bbf\u5b58\u5355\u5143\u7684\u8f6c\u53d1 ForwardFromMEM \u548c\u6765\u81ea\u5199\u56de\u5355\u5143\u7684\u8f6c\u53d1 ForwardFromWB \u4e2d\u9009\u53d6\uff1bALU \u7684\u64cd\u4f5c\u6570 2 \u4ece\u5bc4\u5b58\u5668 rs2 \u6570\u636e Reg2Data \u3001\u7acb\u5373\u6570 Immediate \u3001\u6765\u81ea\u8bbf\u5b58\u5355\u5143\u7684\u8f6c\u53d1 ForwardFromMEM \u548c\u6765\u81ea\u5199\u56de\u5355\u5143\u7684\u8f6c\u53d1 ForwardFromWB \u4e2d\u9009\u53d6\u3002\u5bf9\u4e8e\u8bfb\u5199 CSR \u7684\u6307\u4ee4\uff0c\u5728\u6267\u884c\u9636\u6bb5\u8fd8\u6709\u5bf9 CSR \u7684\u5199\u5165\u3002 \u8bbf\u5b58\uff08MemoryAccess\uff09 \u00b6 \u5bf9\u4e8e load \u6216 store \u6307\u4ee4\uff0c\u8bbf\u5b58\u5355\u5143\u6839\u636e\u5b58\u50a8\u5668\u8bfb\u4f7f\u80fd MemoryRE \u548c\u5b58\u50a8\u5668\u5199\u4f7f\u80fd MemoryWE \u901a\u8fc7 AXI4Lite \u603b\u7ebf\u5bf9\u5185\u5b58\u8fdb\u884c\u8bfb\u6216\u5199\uff0c\u5728\u603b\u7ebf\u901a\u4fe1\u671f\u95f4\u9700\u8981\u963b\u585e\u6d41\u6c34\u7ebf\uff08\u4ee4 StallFlagMEM \u6709\u6548\uff09\u3002\u53e6\u5916\uff0c\u8bbf\u5b58\u5355\u5143\u8fd8\u8981\u4ea7\u751f\u8f6c\u53d1\u7ed9\u6267\u884c\u5355\u5143\u7684\u6570\u636e ForwardFromMEM \u3002 \u5199\u56de\uff08WriteBack\uff09 \u00b6 \u5199\u56de\u5355\u5143\u6839\u636e\u63a7\u5236\u4fe1\u53f7 RegsWriteSrc \u4ece ALU \u8fd0\u7b97\u7ed3\u679c ALUResult \u3001\u5185\u5b58\u8bfb\u53d6\u7684\u6570\u636e MemoryReadData \u3001CSR \u8bfb\u53d6\u7684\u6570\u636e CSRRD \u3001\u5f53\u524d\u6307\u4ee4\u5730\u5740 InsAddr +4 \u4e2d\u9009\u62e9\u5199\u56de\u5bc4\u5b58\u5668\u5806\u7684\u6570\u636e RegsWD \uff0c\u8fd9\u4e2a\u6570\u636e\u4e5f\u4f5c\u4e3a\u8f6c\u53d1\u7ed9\u6267\u884c\u5355\u5143\u7684\u6570\u636e ForwardFromWB \u3002 \u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\uff08XX2XX\uff09 \u00b6 \u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\u4f4d\u4e8e\u4e24\u4e2a\u6d41\u6c34\u7ea7\u4e4b\u95f4\uff0c\u7528\u4e8e\u6682\u5b58\u6570\u636e\u548c\u63a7\u5236\u4fe1\u53f7\u3002\u6709\u4e24\u4e2a\u4fe1\u53f7\u7528\u4e8e\u63a7\u5236\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\uff1a\u5f53 XXStall \u4e3a\u9ad8\u7535\u5e73\u65f6\uff0c\u8be5\u7ea7\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\u7684\u503c\u4e0d\u53d8\uff1b\u5f53 XXFlush \u4e3a\u9ad8\u7535\u5e73\u65f6\uff0c\u8be5\u7ea7\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\u7684\u503c\u6e05\u96f6\uff1b\u5f53\u8fd9\u4e24\u4e2a\u4fe1\u53f7\u90fd\u4e3a\u4f4e\u7535\u5e73\u65f6\uff0c\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\u5728\u65f6\u949f\u4e0a\u5347\u6cbf\u9501\u5b58\u8f93\u5165\u503c\u3002 \u8f6c\u53d1\uff08Forwarding\uff09 \u00b6 \u8f6c\u53d1\u5355\u5143\u6839\u636e\u6267\u884c\u5355\u5143\u3001\u8bbf\u5b58\u5355\u5143\u548c\u5199\u56de\u5355\u5143\u7684\u63a7\u5236\u4fe1\u53f7\u5224\u65ad\u662f\u5426\u9700\u8981\u5c06\u8bbf\u5b58\u5355\u5143\u6216\u5199\u56de\u5355\u5143\u7684\u6570\u636e\u8f6c\u53d1\u5230\u6267\u884c\u5355\u5143\uff0c\u5224\u65ad\u8fc7\u7a0b\u53ef\u4ee5\u7528\u4f2a\u4ee3\u7801\u63cf\u8ff0\u5982\u4e0b\uff1a if (RegWEFromMEM && RdFromMEM != 0 && RdFromMEM == Reg1RA) { ALUOp1Forward = ForwardingType.ForwardFromMEM } else if (RegWEFromWB && RdFromWB != 0 && RdFromWB == Reg1RA) { ALUOp1Forward = ForwardingType.ForwardFromWB } else { ALUOp1Forward = ForwardingType.NoForward } if (RegWEFromMEM && RdFromMEM != 0 && RdFromMEM == Reg2RA) { ALUOp2Forward = ForwardingType.ForwardFromMEM } else if (RegWEFromWB && RdFromWB != 0 && RdFromWB == Reg2RA) { ALUOp2Forward = ForwardingType.ForwardFromWB } else { ALUOp2Forward = ForwardingType.NoForward } \u901a\u8fc7\u8f6c\u53d1\u53ef\u4ee5\u89e3\u51b3\u6267\u884c\u5355\u5143\u5904\u7406\u7684\u6307\u4ee4\u7684\u6e90\u64cd\u4f5c\u6570\u662f\u524d\u4e24\u6761\u6307\u4ee4\u7684 ALU \u8fd0\u7b97\u7ed3\u679c\u6216\u524d\u9762\u7b2c\u4e8c\u6761\u6307\u4ee4\u7684\u8bbf\u5b58\u7ed3\u679c\u800c\u4ea7\u751f\u7684\u6570\u636e\u5192\u9669\u3002\u82e5\u672c\u6761\u6307\u4ee4\u7684\u6e90\u64cd\u4f5c\u6570\u662f\u4e0a\u4e00\u6761\u6307\u4ee4\u7684\u8bbf\u5b58\u7ed3\u679c\uff0c\u65e0\u6cd5\u901a\u8fc7\u8f6c\u53d1\u6d88\u9664\u6570\u636e\u5192\u9669\uff0c\u9700\u8981\u5c06\u6d41\u6c34\u7ebf\u963b\u585e\u4e00\u4e2a\u65f6\u949f\u5468\u671f\uff0c\u7531\u4e0b\u6587\u53d9\u8ff0\u7684\u63a7\u5236\u5355\u5143\u8fdb\u884c\u68c0\u6d4b\u548c\u5904\u7406\u3002 \u63a7\u5236\uff08Control\uff09 \u00b6 \u63a7\u5236\u5355\u5143\u63a5\u6536\u6765\u81ea PC\u3001\u53d6\u6307\u5355\u5143\u3001\u8bd1\u7801\u5355\u5143\u548c\u6267\u884c\u5355\u5143\u7684\u963b\u585e\u8bf7\u6c42 StallFlagXX \u5e76\u963b\u585e\u76f8\u5e94\u7684\u6d41\u6c34\u7ea7\u3002\u53e6\u5916\uff0c\u63a7\u5236\u5355\u5143\u82e5\u68c0\u6d4b\u5230\u6267\u884c\u5355\u5143\u5904\u7406\u7684\u6307\u4ee4\u7684\u6e90\u64cd\u4f5c\u6570\u662f\u4e0a\u4e00\u6761\u6307\u4ee4\u8bbf\u5b58\u7ed3\u679c\uff0c\u5c06\u628a\u6d41\u6c34\u7ebf\u963b\u585e\u4e00\u4e2a\u65f6\u949f\u5468\u671f\uff0c\u5e76\u4e14\u6e05\u9664\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668 ID2EX \uff08 IDFlush \uff09\u3002\u5bf9\u4e8e\u8df3\u8f6c\u6307\u4ee4\uff0c\u82e5 JumpFlag \u6709\u6548\uff0c\u8fd8\u9700\u6e05\u9664\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668 IF2ID\uff08 IFFlush \uff09\u3002 \u4e2d\u65ad\uff08CLINT\uff09 \u00b6 \u5185\u6838\u4e2d\u65ad\u63a7\u5236\u5668 \uff08CLINT\uff09\u63a5\u6536\u6765\u81ea\u5916\u8bbe\u7684\u4e2d\u65ad\u4fe1\u53f7 InterruptFlag \uff0c\u5411\u63a7\u5236\u5355\u5143\u53d1\u51fa\u963b\u585e\u6d41\u6c34\u7ebf\u7684\u8bf7\u6c42 StallFlagClint \uff0c\u5e76\u5c06\u53d6\u6307\u5355\u5143\u4e2d\u5f53\u524d PC \u503c InsAddr \uff08\u82e5\u6765\u81ea\u8bd1\u7801\u5355\u5143\u7684 JumpFlag \u6709\u6548\uff0c\u5219\u662f\u8df3\u8f6c\u6307\u4ee4\u7684\u76ee\u6807\u5730\u5740 JumpAddress \uff09\u4fdd\u5b58\u5230 MEPC \uff0c\u5c06\u4e2d\u65ad\u539f\u56e0\u4fdd\u5b58\u5230 MCAUSE \uff0c\u4fee\u6539 MSTATUS \uff1b\u7136\u540e\u5411\u8bd1\u7801\u5355\u5143\u53d1\u9001\u4e2d\u65ad\u4fe1\u53f7 IntAssert \u548c\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u5730\u5740 IntHandlerAddress \uff08 mtvec \u7684\u503c\uff09\u3002\u5982\u4e0a\u6587\u6240\u8ff0\uff0c\u8bd1\u7801\u5355\u5143\u63a5\u6536\u5230 IntAssert \u548c IntHandlerAddress \u540e\u4f1a\u5411\u53d6\u6307\u5355\u5143\u4f20\u9012\u8df3\u8f6c\u4fe1\u53f7\u548c\u8df3\u8f6c\u5730\u5740\u3002\u8fd9\u6837\uff0c\u4f4d\u4e8e\u8bd1\u7801\u3001\u6267\u884c\u3001\u8bbf\u5b58\u3001\u5199\u56de\u9636\u6bb5\u7684\u6307\u4ee4\u7ee7\u7eed\u6b63\u5e38\u6267\u884c\uff0c\u53d6\u6307\u5355\u5143\u53d6\u51fa\u7684\u6307\u4ee4\u5c06\u88ab\u6e05\u9664\uff0cPC \u88ab\u8bbe\u7f6e\u4e3a\u4e2d\u65ad\u670d\u52a1\u7a0b\u5e8f\u5165\u53e3\u5730\u5740\uff0c\u4e0b\u9762\u5c06\u5f00\u59cb\u6267\u884c\u4e2d\u65ad\u670d\u52a1\u7a0b\u5e8f\u3002 \u5185\u6838\u4e2d\u65ad\u63a7\u5236\u5668\u8fd8\u4f1a\u68c0\u6d4b\u5f53\u524d\u6b63\u5728\u8bd1\u7801\u7684\u6307\u4ee4\uff0c\u82e5\u8be5\u6307\u4ee4\u4e3a ecall \u6216 ebreak \u5219\u5f15\u53d1\u4e00\u6b21\u5f02\u5e38\uff0c\u5904\u7406\u6d41\u7a0b\u4e0e\u4e2d\u65ad\u7c7b\u4f3c\uff1b\u82e5\u8be5\u6307\u4ee4\u4e3a mret \uff08\u5373\u4ece\u4e2d\u65ad\u6216\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f\u4e2d\u8fd4\u56de\uff09\uff0c\u5219\u4fee\u6539 mstatus \uff0c\u7136\u540e\u5c06 mepc \u7684\u503c\u4f5c\u4e3a\u201c\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u5730\u5740 IntHandlerAddress \u201d \u548c\u201c\u4e2d\u65ad\u4fe1\u53f7 IntAssert \u201d \u4f20\u9012\u7ed9\u8bd1\u7801\u5355\u5143\uff0c\u5de7\u5999\u5730\u5229\u7528\u8fdb\u5165\u4e2d\u65ad\u7684\u5f62\u5f0f\u9000\u51fa\u4e2d\u65ad\u3002 \u8bbf\u5b58\u6a21\u578b \u00b6 \u9664\u5bc4\u5b58\u5668\u5806\u4ee5\u5916\uff0c\u672c\u9879\u76ee\u9ed8\u8ba4\u5916\u90e8\u5b58\u50a8\u8bbe\u5907\u4e3a \u540c\u6b65\u8bfb\u5199 \u6a21\u5f0f\uff0c\u4e5f\u5c31\u662f\u53ea\u6709\u5728\u65f6\u949f\u4e0a\u5347\u6cbf\u5230\u6765\u65f6\u6570\u636e\u624d\u4f1a\u53d1\u751f\u53d8\u5316\uff0c\u56e0\u6b64\u6240\u6709\u8bbf\u5b58\u6307\u4ee4\u90fd\u9700\u8981\u63d0\u524d\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u53d1\u51fa\u5730\u5740\u4fe1\u53f7\uff0c\u5e76\u6700\u5feb\u5728\u4e0b\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u53d6\u5f97\u6570\u636e\u3002 \u540c\u65f6\uff0c\u672c\u9879\u76ee\u91c7\u7528\u51af\u00b7\u8bfa\u4f0a\u66fc\u67b6\u6784\uff0c\u4e5f\u5c31\u662f\u6307\u4ee4\u4e0e\u6570\u636e\u5b58\u653e\u5728\u540c\u4e00\u4e2a\u5b58\u50a8\u5668\u4e2d\uff0c\u4f7f\u7528\u76f8\u540c\u7684\u5730\u5740\u7a7a\u95f4\u3002","title":"\u5904\u7406\u5668\u67b6\u6784"},{"location":"tutorial/arch/#\u5904\u7406\u5668\u67b6\u6784","text":"By: howardlau1999","title":"\u5904\u7406\u5668\u67b6\u6784"},{"location":"tutorial/arch/#\u5fae\u67b6\u6784","text":"\u672c\u9879\u76ee\u652f\u6301\u7684\u6307\u4ee4\u96c6\u662f RISC-V \u7684 RV32I \u6574\u6570\u8fd0\u7b97\u6307\u4ee4\u96c6\u3002\u5fae\u67b6\u6784\u8bbe\u8ba1\u4e0a\uff0c\u6709\u4e24\u79cd\u53ef\u4f9b\u9009\u62e9\uff1a\u4e00\u79cd\u662f\u548c Z-scale \u4ee5\u53ca riscv-mini \u7c7b\u4f3c\u7684\u4e09\u7ea7\u6d41\u6c34\u7ebf\u5355\u53d1\u5c04\u987a\u5e8f\u6267\u884c\u67b6\u6784\uff0c\u53e6\u4e00\u79cd\u662f\u548c\u300aComputer Organization and Design, RISC-V edition\u300b\u4e2d\u63cf\u8ff0\u7684 CPU \u7c7b\u4f3c\u7684\u4e94\u7ea7\u6d41\u6c34\u7ebf\u5355\u53d1\u5c04\u987a\u5e8f\u6267\u884c\u67b6\u6784\u3002","title":"\u5fae\u67b6\u6784"},{"location":"tutorial/arch/#\u4e09\u7ea7\u6d41\u6c34\u7ebf","text":"\u6d41\u6c34\u7ebf\u603b\u4f53\u67b6\u6784\u5206\u4e3a\u53d6\u6307\uff08IF\uff09\u3001\u8bd1\u7801\uff08DE\uff09\u3001\u6267\u884c/\u5199\u56de/\u8bbf\u5b58\uff08EX\u3001WB\u3001MEM\uff09\u4e09\u4e2a\u9636\u6bb5\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a","title":"\u4e09\u7ea7\u6d41\u6c34\u7ebf"},{"location":"tutorial/arch/#\u4e94\u7ea7\u6d41\u6c34\u7ebf","text":"\u6d41\u6c34\u7ebf\u603b\u4f53\u67b6\u6784\u5206\u4e3a\u53d6\u6307\uff08IF\uff09\u3001\u8bd1\u7801\uff08DE\uff09\u3001\u6267\u884c\uff08EX\uff09\u3001\u8bbf\u5b58\uff08MEM\uff09\u548c\u5199\u56de\uff08WB\uff09\u4e94\u4e2a\u9636\u6bb5\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a","title":"\u4e94\u7ea7\u6d41\u6c34\u7ebf"},{"location":"tutorial/arch/#\u53d6\u6307instructionfetch","text":"\u53d6\u6307\u5355\u5143\u5305\u542b\u7a0b\u5e8f\u8ba1\u6570\u5668\uff08PC\uff09\u3002\u5728\u6bcf\u4e2a\u65f6\u949f\u4e0a\u5347\u6cbf\uff0c\u82e5 PC \u963b\u585e\u4fe1\u53f7 PCStall \u6709\u6548\uff0c\u5219 PC \u7684\u503c\u4fdd\u6301\u4e0d\u53d8\uff1b\u5426\u5219\u82e5\u8df3\u8f6c\u6807\u5fd7 JumpFlag \u6709\u6548\uff0c\u5219 PC \u7684\u503c\u53d8\u4e3a\u8df3\u8f6c\u76ee\u6807\u5730\u5740 JumpAddress \uff1b\u5426\u5219 PC \u7684\u503c\u52a0 4\u3002 \u53d6\u6307\u9636\u6bb5\u6839\u636e PC \u7684\u503c\u901a\u8fc7 AXI4Lite \u603b\u7ebf\u4ece\u5185\u5b58\u4e2d\u8bfb\u53d6\u6307\u4ee4\u5e76\u5c06\u6307\u4ee4\u548c\u5730\u5740\u5411\u540e\u4f20\u9012\u3002\u7531\u4e8e CPU \u590d\u4f4d\u65f6\u5c06\u6307\u4ee4\u4ece ROM \u8f7d\u5165\u5185\u5b58\u3001\u901a\u8fc7\u603b\u7ebf\u4ece\u5185\u5b58\u8bfb\u53d6\u6bcf\u6761\u6307\u4ee4\u90fd\u9700\u8981\u82e5\u5e72\u65f6\u949f\u5468\u671f\uff0c\u5728\u6307\u4ee4\u672a\u5c31\u7eea\u671f\u95f4\uff0c\u5b83\u5411\u540e\u4f20\u9012\u7a7a\u6307\u4ee4 nop \uff0c\u5e76\u4e14\u963b\u585e PC\uff08\u4ee4 StallFlagIF \u6709\u6548\uff09\u3002","title":"\u53d6\u6307\uff08InstructionFetch\uff09"},{"location":"tutorial/arch/#\u8bd1\u7801instructiondecode","text":"\u8bd1\u7801\u5355\u5143\u6839\u636e\u6307\u4ee4\u4ea7\u751f\u63a7\u5236\u4fe1\u53f7\u3001\u62d3\u5c55\u7acb\u5373\u6570\u5e76\u4e14\u4ece\u5bc4\u5b58\u5668\u5806\u6216 CSR \u8bfb\u53d6\u6570\u636e\u3002\u53e6\u5916\uff0c\u4e3a\u4e86\u51cf\u5c11\u8df3\u8f6c\u6307\u4ee4\u7684\u4ee3\u4ef7\uff0c\u5c06\u5206\u652f\u6307\u4ee4\u7684\u5224\u65ad\u63d0\u524d\u5230\u8bd1\u7801\u9636\u6bb5\uff0c\u5e76\u4e14\u5728\u672c\u9636\u6bb5\u5411\u53d6\u6307\u5355\u5143\u4f20\u9012\u8df3\u8f6c\u76ee\u6807\u5730\u5740 JumpAddress \u548c\u8df3\u8f6c\u63a7\u5236 JumpFlag \u3002\u8bd1\u7801\u5355\u5143\u5bf9\u4e2d\u65ad\u4fe1\u53f7\u7684\u5904\u7406\u53ef\u4ee5\u89c6\u4e3a\u5728\u539f\u672c\u5904\u7406\u7684\u6307\u4ee4\u4e4b\u4e0a\u201c\u53e0\u52a0\u4e86\u4e00\u6761\u65e0\u6761\u4ef6\u8df3\u8f6c\u6307\u4ee4\u201d\uff1a\u82e5 IntAssert \u4fe1\u53f7\u6709\u6548\uff0c\u5219\u5c06 JumpAddress \u8bbe\u4e3a IntHandlerAddress \uff0c\u4e14\u4ee4 JumpFlag \u6709\u6548\u3002","title":"\u8bd1\u7801\uff08InstructionDecode\uff09"},{"location":"tutorial/arch/#\u6267\u884cexecute","text":"\u6267\u884c\u5355\u5143\u5305\u542b ALU \u548c ALUControl\u3002ALUControl \u6839\u636e\u6307\u4ee4\u7684 opcode \u3001 funct3 \u548c funct7 \u5b57\u6bb5\u4ea7\u751f ALU \u63a7\u5236\u4fe1\u53f7\uff0cALU \u6839\u636e\u63a7\u5236\u4fe1\u53f7 ALUOp1Src \u548c ALUOp2Src \u5bf9\u4e24\u4e2a\u64cd\u4f5c\u6570\u8fdb\u884c\u76f8\u5e94\u7684\u8fd0\u7b97\u3002ALU \u7684\u64cd\u4f5c\u6570 1 \u4ece\u5bc4\u5b58\u5668 rs1 \u6570\u636e Reg1Data \u3001\u6307\u4ee4\u5730\u5740 InsAddr \u3001\u6765\u81ea\u8bbf\u5b58\u5355\u5143\u7684\u8f6c\u53d1 ForwardFromMEM \u548c\u6765\u81ea\u5199\u56de\u5355\u5143\u7684\u8f6c\u53d1 ForwardFromWB \u4e2d\u9009\u53d6\uff1bALU \u7684\u64cd\u4f5c\u6570 2 \u4ece\u5bc4\u5b58\u5668 rs2 \u6570\u636e Reg2Data \u3001\u7acb\u5373\u6570 Immediate \u3001\u6765\u81ea\u8bbf\u5b58\u5355\u5143\u7684\u8f6c\u53d1 ForwardFromMEM \u548c\u6765\u81ea\u5199\u56de\u5355\u5143\u7684\u8f6c\u53d1 ForwardFromWB \u4e2d\u9009\u53d6\u3002\u5bf9\u4e8e\u8bfb\u5199 CSR \u7684\u6307\u4ee4\uff0c\u5728\u6267\u884c\u9636\u6bb5\u8fd8\u6709\u5bf9 CSR \u7684\u5199\u5165\u3002","title":"\u6267\u884c\uff08Execute\uff09"},{"location":"tutorial/arch/#\u8bbf\u5b58memoryaccess","text":"\u5bf9\u4e8e load \u6216 store \u6307\u4ee4\uff0c\u8bbf\u5b58\u5355\u5143\u6839\u636e\u5b58\u50a8\u5668\u8bfb\u4f7f\u80fd MemoryRE \u548c\u5b58\u50a8\u5668\u5199\u4f7f\u80fd MemoryWE \u901a\u8fc7 AXI4Lite \u603b\u7ebf\u5bf9\u5185\u5b58\u8fdb\u884c\u8bfb\u6216\u5199\uff0c\u5728\u603b\u7ebf\u901a\u4fe1\u671f\u95f4\u9700\u8981\u963b\u585e\u6d41\u6c34\u7ebf\uff08\u4ee4 StallFlagMEM \u6709\u6548\uff09\u3002\u53e6\u5916\uff0c\u8bbf\u5b58\u5355\u5143\u8fd8\u8981\u4ea7\u751f\u8f6c\u53d1\u7ed9\u6267\u884c\u5355\u5143\u7684\u6570\u636e ForwardFromMEM \u3002","title":"\u8bbf\u5b58\uff08MemoryAccess\uff09"},{"location":"tutorial/arch/#\u5199\u56dewriteback","text":"\u5199\u56de\u5355\u5143\u6839\u636e\u63a7\u5236\u4fe1\u53f7 RegsWriteSrc \u4ece ALU \u8fd0\u7b97\u7ed3\u679c ALUResult \u3001\u5185\u5b58\u8bfb\u53d6\u7684\u6570\u636e MemoryReadData \u3001CSR \u8bfb\u53d6\u7684\u6570\u636e CSRRD \u3001\u5f53\u524d\u6307\u4ee4\u5730\u5740 InsAddr +4 \u4e2d\u9009\u62e9\u5199\u56de\u5bc4\u5b58\u5668\u5806\u7684\u6570\u636e RegsWD \uff0c\u8fd9\u4e2a\u6570\u636e\u4e5f\u4f5c\u4e3a\u8f6c\u53d1\u7ed9\u6267\u884c\u5355\u5143\u7684\u6570\u636e ForwardFromWB \u3002","title":"\u5199\u56de\uff08WriteBack\uff09"},{"location":"tutorial/arch/#\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668xx2xx","text":"\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\u4f4d\u4e8e\u4e24\u4e2a\u6d41\u6c34\u7ea7\u4e4b\u95f4\uff0c\u7528\u4e8e\u6682\u5b58\u6570\u636e\u548c\u63a7\u5236\u4fe1\u53f7\u3002\u6709\u4e24\u4e2a\u4fe1\u53f7\u7528\u4e8e\u63a7\u5236\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\uff1a\u5f53 XXStall \u4e3a\u9ad8\u7535\u5e73\u65f6\uff0c\u8be5\u7ea7\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\u7684\u503c\u4e0d\u53d8\uff1b\u5f53 XXFlush \u4e3a\u9ad8\u7535\u5e73\u65f6\uff0c\u8be5\u7ea7\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\u7684\u503c\u6e05\u96f6\uff1b\u5f53\u8fd9\u4e24\u4e2a\u4fe1\u53f7\u90fd\u4e3a\u4f4e\u7535\u5e73\u65f6\uff0c\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\u5728\u65f6\u949f\u4e0a\u5347\u6cbf\u9501\u5b58\u8f93\u5165\u503c\u3002","title":"\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\uff08XX2XX\uff09"},{"location":"tutorial/arch/#\u8f6c\u53d1forwarding","text":"\u8f6c\u53d1\u5355\u5143\u6839\u636e\u6267\u884c\u5355\u5143\u3001\u8bbf\u5b58\u5355\u5143\u548c\u5199\u56de\u5355\u5143\u7684\u63a7\u5236\u4fe1\u53f7\u5224\u65ad\u662f\u5426\u9700\u8981\u5c06\u8bbf\u5b58\u5355\u5143\u6216\u5199\u56de\u5355\u5143\u7684\u6570\u636e\u8f6c\u53d1\u5230\u6267\u884c\u5355\u5143\uff0c\u5224\u65ad\u8fc7\u7a0b\u53ef\u4ee5\u7528\u4f2a\u4ee3\u7801\u63cf\u8ff0\u5982\u4e0b\uff1a if (RegWEFromMEM && RdFromMEM != 0 && RdFromMEM == Reg1RA) { ALUOp1Forward = ForwardingType.ForwardFromMEM } else if (RegWEFromWB && RdFromWB != 0 && RdFromWB == Reg1RA) { ALUOp1Forward = ForwardingType.ForwardFromWB } else { ALUOp1Forward = ForwardingType.NoForward } if (RegWEFromMEM && RdFromMEM != 0 && RdFromMEM == Reg2RA) { ALUOp2Forward = ForwardingType.ForwardFromMEM } else if (RegWEFromWB && RdFromWB != 0 && RdFromWB == Reg2RA) { ALUOp2Forward = ForwardingType.ForwardFromWB } else { ALUOp2Forward = ForwardingType.NoForward } \u901a\u8fc7\u8f6c\u53d1\u53ef\u4ee5\u89e3\u51b3\u6267\u884c\u5355\u5143\u5904\u7406\u7684\u6307\u4ee4\u7684\u6e90\u64cd\u4f5c\u6570\u662f\u524d\u4e24\u6761\u6307\u4ee4\u7684 ALU \u8fd0\u7b97\u7ed3\u679c\u6216\u524d\u9762\u7b2c\u4e8c\u6761\u6307\u4ee4\u7684\u8bbf\u5b58\u7ed3\u679c\u800c\u4ea7\u751f\u7684\u6570\u636e\u5192\u9669\u3002\u82e5\u672c\u6761\u6307\u4ee4\u7684\u6e90\u64cd\u4f5c\u6570\u662f\u4e0a\u4e00\u6761\u6307\u4ee4\u7684\u8bbf\u5b58\u7ed3\u679c\uff0c\u65e0\u6cd5\u901a\u8fc7\u8f6c\u53d1\u6d88\u9664\u6570\u636e\u5192\u9669\uff0c\u9700\u8981\u5c06\u6d41\u6c34\u7ebf\u963b\u585e\u4e00\u4e2a\u65f6\u949f\u5468\u671f\uff0c\u7531\u4e0b\u6587\u53d9\u8ff0\u7684\u63a7\u5236\u5355\u5143\u8fdb\u884c\u68c0\u6d4b\u548c\u5904\u7406\u3002","title":"\u8f6c\u53d1\uff08Forwarding\uff09"},{"location":"tutorial/arch/#\u63a7\u5236control","text":"\u63a7\u5236\u5355\u5143\u63a5\u6536\u6765\u81ea PC\u3001\u53d6\u6307\u5355\u5143\u3001\u8bd1\u7801\u5355\u5143\u548c\u6267\u884c\u5355\u5143\u7684\u963b\u585e\u8bf7\u6c42 StallFlagXX \u5e76\u963b\u585e\u76f8\u5e94\u7684\u6d41\u6c34\u7ea7\u3002\u53e6\u5916\uff0c\u63a7\u5236\u5355\u5143\u82e5\u68c0\u6d4b\u5230\u6267\u884c\u5355\u5143\u5904\u7406\u7684\u6307\u4ee4\u7684\u6e90\u64cd\u4f5c\u6570\u662f\u4e0a\u4e00\u6761\u6307\u4ee4\u8bbf\u5b58\u7ed3\u679c\uff0c\u5c06\u628a\u6d41\u6c34\u7ebf\u963b\u585e\u4e00\u4e2a\u65f6\u949f\u5468\u671f\uff0c\u5e76\u4e14\u6e05\u9664\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668 ID2EX \uff08 IDFlush \uff09\u3002\u5bf9\u4e8e\u8df3\u8f6c\u6307\u4ee4\uff0c\u82e5 JumpFlag \u6709\u6548\uff0c\u8fd8\u9700\u6e05\u9664\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668 IF2ID\uff08 IFFlush \uff09\u3002","title":"\u63a7\u5236\uff08Control\uff09"},{"location":"tutorial/arch/#\u4e2d\u65adclint","text":"\u5185\u6838\u4e2d\u65ad\u63a7\u5236\u5668 \uff08CLINT\uff09\u63a5\u6536\u6765\u81ea\u5916\u8bbe\u7684\u4e2d\u65ad\u4fe1\u53f7 InterruptFlag \uff0c\u5411\u63a7\u5236\u5355\u5143\u53d1\u51fa\u963b\u585e\u6d41\u6c34\u7ebf\u7684\u8bf7\u6c42 StallFlagClint \uff0c\u5e76\u5c06\u53d6\u6307\u5355\u5143\u4e2d\u5f53\u524d PC \u503c InsAddr \uff08\u82e5\u6765\u81ea\u8bd1\u7801\u5355\u5143\u7684 JumpFlag \u6709\u6548\uff0c\u5219\u662f\u8df3\u8f6c\u6307\u4ee4\u7684\u76ee\u6807\u5730\u5740 JumpAddress \uff09\u4fdd\u5b58\u5230 MEPC \uff0c\u5c06\u4e2d\u65ad\u539f\u56e0\u4fdd\u5b58\u5230 MCAUSE \uff0c\u4fee\u6539 MSTATUS \uff1b\u7136\u540e\u5411\u8bd1\u7801\u5355\u5143\u53d1\u9001\u4e2d\u65ad\u4fe1\u53f7 IntAssert \u548c\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u5730\u5740 IntHandlerAddress \uff08 mtvec \u7684\u503c\uff09\u3002\u5982\u4e0a\u6587\u6240\u8ff0\uff0c\u8bd1\u7801\u5355\u5143\u63a5\u6536\u5230 IntAssert \u548c IntHandlerAddress \u540e\u4f1a\u5411\u53d6\u6307\u5355\u5143\u4f20\u9012\u8df3\u8f6c\u4fe1\u53f7\u548c\u8df3\u8f6c\u5730\u5740\u3002\u8fd9\u6837\uff0c\u4f4d\u4e8e\u8bd1\u7801\u3001\u6267\u884c\u3001\u8bbf\u5b58\u3001\u5199\u56de\u9636\u6bb5\u7684\u6307\u4ee4\u7ee7\u7eed\u6b63\u5e38\u6267\u884c\uff0c\u53d6\u6307\u5355\u5143\u53d6\u51fa\u7684\u6307\u4ee4\u5c06\u88ab\u6e05\u9664\uff0cPC \u88ab\u8bbe\u7f6e\u4e3a\u4e2d\u65ad\u670d\u52a1\u7a0b\u5e8f\u5165\u53e3\u5730\u5740\uff0c\u4e0b\u9762\u5c06\u5f00\u59cb\u6267\u884c\u4e2d\u65ad\u670d\u52a1\u7a0b\u5e8f\u3002 \u5185\u6838\u4e2d\u65ad\u63a7\u5236\u5668\u8fd8\u4f1a\u68c0\u6d4b\u5f53\u524d\u6b63\u5728\u8bd1\u7801\u7684\u6307\u4ee4\uff0c\u82e5\u8be5\u6307\u4ee4\u4e3a ecall \u6216 ebreak \u5219\u5f15\u53d1\u4e00\u6b21\u5f02\u5e38\uff0c\u5904\u7406\u6d41\u7a0b\u4e0e\u4e2d\u65ad\u7c7b\u4f3c\uff1b\u82e5\u8be5\u6307\u4ee4\u4e3a mret \uff08\u5373\u4ece\u4e2d\u65ad\u6216\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f\u4e2d\u8fd4\u56de\uff09\uff0c\u5219\u4fee\u6539 mstatus \uff0c\u7136\u540e\u5c06 mepc \u7684\u503c\u4f5c\u4e3a\u201c\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u5730\u5740 IntHandlerAddress \u201d \u548c\u201c\u4e2d\u65ad\u4fe1\u53f7 IntAssert \u201d \u4f20\u9012\u7ed9\u8bd1\u7801\u5355\u5143\uff0c\u5de7\u5999\u5730\u5229\u7528\u8fdb\u5165\u4e2d\u65ad\u7684\u5f62\u5f0f\u9000\u51fa\u4e2d\u65ad\u3002","title":"\u4e2d\u65ad\uff08CLINT\uff09"},{"location":"tutorial/arch/#\u8bbf\u5b58\u6a21\u578b","text":"\u9664\u5bc4\u5b58\u5668\u5806\u4ee5\u5916\uff0c\u672c\u9879\u76ee\u9ed8\u8ba4\u5916\u90e8\u5b58\u50a8\u8bbe\u5907\u4e3a \u540c\u6b65\u8bfb\u5199 \u6a21\u5f0f\uff0c\u4e5f\u5c31\u662f\u53ea\u6709\u5728\u65f6\u949f\u4e0a\u5347\u6cbf\u5230\u6765\u65f6\u6570\u636e\u624d\u4f1a\u53d1\u751f\u53d8\u5316\uff0c\u56e0\u6b64\u6240\u6709\u8bbf\u5b58\u6307\u4ee4\u90fd\u9700\u8981\u63d0\u524d\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u53d1\u51fa\u5730\u5740\u4fe1\u53f7\uff0c\u5e76\u6700\u5feb\u5728\u4e0b\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u53d6\u5f97\u6570\u636e\u3002 \u540c\u65f6\uff0c\u672c\u9879\u76ee\u91c7\u7528\u51af\u00b7\u8bfa\u4f0a\u66fc\u67b6\u6784\uff0c\u4e5f\u5c31\u662f\u6307\u4ee4\u4e0e\u6570\u636e\u5b58\u653e\u5728\u540c\u4e00\u4e2a\u5b58\u50a8\u5668\u4e2d\uff0c\u4f7f\u7528\u76f8\u540c\u7684\u5730\u5740\u7a7a\u95f4\u3002","title":"\u8bbf\u5b58\u6a21\u578b"},{"location":"tutorial/bus/","text":"\u603b\u7ebf \u00b6 By: howardlau1999 \u7b80\u4ecb \u00b6 CPU \u548c\u5176\u4ed6\u8bbe\u5907\u5982\u679c\u60f3\u8981\u901a\u4fe1\uff0c\u90a3\u4e48\u5c31\u8981\u548c\u5176\u4ed6\u8bbe\u5907\u5728\u7269\u7406\u4e0a\u8fde\u63a5\u8d77\u6765\u3002\u5982\u679c\u6bcf\u4e2a\u8bbe\u5907\u90fd\u50cf\u5185\u5b58\u4e00\u6837\uff0c\u9700\u8981\u4fee\u6539 CPU \u7684\u8bbe\u8ba1\u548c IO \u7aef\u53e3\u624d\u80fd\u8fde\u63a5\uff0c\u90a3\u4e48\u5047\u5982\u6709 m \u79cd CPU \u548c n \u79cd\u5916\u8bbe\uff0c\u590d\u6742\u5ea6\u5c06\u6210\u4e3a O(mn)\uff0c\u4e0d\u4ec5\u6bcf\u4e2a CPU \u90fd\u8981\u9002\u914d\u6240\u6709\u7684\u5916\u8bbe\uff0c\u800c\u4e14\u8fd8\u8981\u628a\u6240\u6709\u7684\u5916\u8bbe\u90fd\u9002\u914d\u5230\u6240\u6709 CPU \u4e0a\uff0c\u8fd9\u6837\u7684\u590d\u6742\u5ea6\u662f\u4e0d\u73b0\u5b9e\u7684\uff0c\u540c\u65f6\u4e5f\u4e0d\u7075\u6d3b\u3002\u8fd9\u65f6\uff0c\u6211\u4eec\u5c31\u5f97\u60f3\u5230\u8ba1\u7b97\u673a\u79d1\u5b66\u7684\u4e00\u6761\u201c\u91d1\u79d1\u7389\u5f8b\u201d\uff1a Any problem in computer science can be solved with another level of indirection. 1 \u65e2\u7136\u76f4\u63a5\u8fde\u63a5\u8d77\u6765\u4e0d\u73b0\u5b9e\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u901a\u8fc7\u5f15\u5165\u4e00\u4e2a\u901a\u7528\u7684\u4e2d\u95f4\u5c42\uff0c\u8ba9\u5927\u5bb6\u90fd\u8fde\u63a5\u5230\u8fd9\u4e2a\u4e2d\u95f4\u5c42\uff0c\u4e0d\u5c31\u628a\u590d\u6742\u5ea6\u53d8\u4e3a O(m + n) \u4e86\u5417\uff1f\u4eba\u4eec\u89c9\u5f97\u8fd9\u4e2a\u60f3\u6cd5\u4e0d\u9519\uff0c\u5e76\u7ed9\u8fd9\u79cd\u6280\u672f\u8d77\u4e86\u4e00\u4e2a\u5f62\u8c61\u7684\u540d\u5b57\uff1a\u603b\u7ebf\uff08Bus\uff09\u3002\u6b63\u5982\u5b83\u7684\u82f1\u6587\u6240\u5c55\u793a\u7684\u4e00\u6837\uff0c\u6570\u636e\u4e0d\u518d\u662f\u76f4\u63a5\u5728 CPU \u548c\u5916\u8bbe\u95f4\u4f20\u9012\uff0c\u800c\u662f\u5148\u642d\u4e0a\u603b\u7ebf\u8fd9\u4e2a\u201c\u516c\u4ea4\u8f66\u201d\uff0c\u5230\u8fbe\u76ee\u7684\u5730\u4e4b\u540e\u518d\u201c\u4e0b\u8f66\u201d\u3002 \u5f53\u7136\uff0c\u4efb\u4f55\u7684\u989d\u5916\u7684\u95f4\u63a5\u5c42\u90fd\u662f\u6709\u4ee3\u4ef7\u7684\uff0c\u5f15\u5165\u603b\u7ebf\u6709\u4e24\u4e2a\u95ee\u9898\u9700\u8981\u89e3\u51b3\uff1a \u6570\u636e\u600e\u4e48\u77e5\u9053\u5b83\u7684\u76ee\u7684\u5730\u662f\u54ea\u91cc\uff1f \u597d\u51e0\u4e2a\u8bbe\u5907\u90fd\u60f3\u540c\u65f6\u53d1\u9001\u6570\u636e\uff0c\u7136\u800c\u603b\u7ebf\u53ea\u5141\u8bb8\u4e00\u4e2a\u8bbe\u5907\u53d1\u9001\uff0c\u8981\u5982\u4f55\u4ef2\u88c1\uff1f \u800c\u4e14\uff0c\u4f5c\u4e3a\u4e00\u5c42\u901a\u4fe1\u534f\u8bae\uff0c\u5404\u5bb6\u8bbe\u5907\u5382\u5546\u90fd\u60f3\u8bbe\u8ba1\u4e00\u5957\u6700\u9002\u5408\u81ea\u5df1\u8bbe\u5907\u7684\u534f\u8bae\uff0c\u4e8e\u662f\uff0c\u603b\u7ebf\u534f\u8bae\u4e5f\u662f\u767e\u82b1\u9f50\u653e\uff0c\u6709 PCI-e\u3001I2C\u3001USB\u3001AXI \u7b49\u7b49\u2026\u2026\u4e0d\u540c\u603b\u7ebf\u534f\u8bae\u4e5f\u6709\u4e0d\u540c\u7684\u4f7f\u7528\u573a\u666f\uff0c\u5e94\u5f53\u652f\u6301\u54ea\u4e9b\u534f\u8bae\u4e5f\u662f\u4e00\u4e2a\u9700\u8981\u6743\u8861\u7684\u95ee\u9898\u3002 \u603b\u7ebf\u901a\u4fe1\u534f\u8bae \u00b6 \u901a\u5e38\u800c\u8a00\uff0c\u603b\u7ebf\u5728\u4f20\u8f93\u6570\u636e\u7684\u65f6\u5019\uff0c\u5728\u4fdd\u8bc1\u603b\u7ebf\u6ca1\u6709\u88ab\u5176\u4ed6\u8bbe\u5907\u5360\u7528\u540e\uff0c\u53d1\u8d77\u901a\u4fe1\u7684\u4e00\u65b9\u4f1a\u5148\u53d1\u9001\u63a7\u5236\u4fe1\u53f7\uff0c\u8868\u660e\u63a5\u4e0b\u6765\u4f20\u8f93\u7684\u6570\u636e\u7684\u8bbe\u5907\u5730\u5740\u548c\u957f\u5ea6\u7b49\uff0c\u76ee\u6807\u8bbe\u5907\u5728\u6536\u5230\u63a7\u5236\u4fe1\u53f7\u540e\uff0c\u5c31\u5f00\u59cb\u6570\u636e\u7684\u4f20\u8f93\u8fc7\u7a0b\u3002 \u672c\u9879\u76ee\u4e2d\u4f7f\u7528\u7684\u603b\u7ebf\u534f\u8bae\u662f AXI4-Lite\uff0c\u662f\u7531 ARM \u516c\u53f8\u63d0\u51fa\u7684\u603b\u7ebf\u901a\u4fe1\u534f\u8bae\u3002\u5b83\u7684\u8bfb\u5199\u7684\u6d41\u7a0b\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u5de6\u56fe\u662f\u4e3b\u8bbe\u5907\u53d1\u8d77\u7684\u8bfb\u6d41\u7a0b\uff0c\u53f3\u56fe\u662f\u4e3b\u8bbe\u5907\u53d1\u8d77\u7684\u5199\u6d41\u7a0b\u3002\u76f8\u6bd4\u8d77\u8bfb\u6d41\u7a0b\uff0c\u5199\u6d41\u7a0b\u591a\u4e86\u4e00\u4e2a\u5199\u7684\u56de\u590d\u54cd\u5e94\uff0c\u8fd9\u662f\u56e0\u4e3a\u4ece\u8bbe\u5907\u5185\u90e8\u53ef\u80fd\u6709\u7f13\u51b2\u533a\uff0c\u5728\u6570\u636e\u771f\u6b63\u5199\u5165\u5b8c\u6210\u4e4b\u524d\uff0c\u4ece\u8bbe\u5907\u53ef\u4ee5\u4e0d\u53d1\u9001\u54cd\u5e94\u4fe1\u53f7\uff0c\u4ece\u800c\u4fdd\u8bc1\u6570\u636e\u7684\u5b8c\u6574\u6027\u3002 \u8fde\u63a5\u5230\u603b\u7ebf\u7684\u662f\u603b\u7ebf\u534f\u8bae\u63a5\u53e3\uff0c\u5185\u90e8\u5b9e\u73b0\u4e86\u72b6\u6001\u673a\u3002\u4e3b\u8bbe\u5907\u7684\u63a5\u53e3\u63a5\u6536\u6765\u81ea\u8bbe\u5907\u7684\u4fe1\u53f7\uff0c\u5e76\u4e3b\u52a8\u53d1\u8d77\u8bfb\u5199\u8bf7\u6c42\uff0c\u800c\u4ece\u8bbe\u5907\u88ab\u52a8\u5730\u63a5\u6536\u4e3b\u8bbe\u5907\u53d1\u8d77\u7684\u8bf7\u6c42\uff0c\u5e76\u5728\u64cd\u4f5c\u8fdb\u884c\u7684\u65f6\u5019\u901a\u77e5\u8bbe\u5907\uff0c\u8ba9\u8bbe\u5907\u5bf9\u8bfb\u5199\u8bf7\u6c42\u4f5c\u51fa\u76f8\u5e94\u7684\u903b\u8f91\u64cd\u4f5c\u3002\u5728\u901a\u4fe1\u8fc7\u7a0b\u4e2d\uff0c\u53cc\u65b9\u4f7f\u7528\u72b6\u6001\u673a\u6765\u8bb0\u5f55\u4e00\u4e2a\u8bfb\u5199\u8bf7\u6c42\u7684\u8fdb\u884c\u72b6\u6001\uff0c\u5e76\u5728\u6709\u6548/\u5c31\u7eea\u4fe1\u53f7\u540c\u65f6\u7f6e\u4f4d\u7684\u65f6\u5019\u8fdb\u884c\u72b6\u6001\u8f6c\u6362\u3002 \u5de6\u56fe\u662f\u4e3b\u8bbe\u5907\u603b\u7ebf\u63a5\u53e3\u7684\u72b6\u6001\u673a\uff0c\u53f3\u56fe\u662f\u4ece\u8bbe\u5907\u603b\u7ebf\u63a5\u53e3\u7684\u72b6\u6001\u673a\u3002 \u603b\u7ebf\u4ef2\u88c1 \u00b6 \u7531\u4e8e\u603b\u7ebf\u662f\u591a\u4e2a\u8bbe\u5907\u5171\u4eab\u7684\uff0c\u5982\u679c\u591a\u4e2a\u8bbe\u5907\u540c\u65f6\u53d1\u8d77\u901a\u4fe1\uff0c\u90a3\u4e48\u4fe1\u53f7\u4f1a\u4ea7\u751f\u51b2\u7a81\uff0c\u5bfc\u81f4\u4f20\u8f93\u8fc7\u7a0b\u65e0\u6cd5\u6b63\u5e38\u8fdb\u884c\u3002\u4e3a\u4e86\u907f\u514d\u51b2\u7a81\u7684\u53d1\u751f\uff0c\u6240\u6709\u8bbe\u5907\u5728\u901a\u4fe1\u4e4b\u524d\uff0c\u90fd\u5e94\u8be5\u68c0\u6d4b\u603b\u7ebf\u662f\u5426\u5360\u7528\u3002 \u4e3a\u6b64\uff0c\u6bcf\u4e00\u4e2a\u8bbe\u5907\u5219\u9700\u8981\u589e\u52a0\u603b\u7ebf\u8bf7\u6c42\u7ebf\u4ee5\u53ca\u603b\u7ebf\u6388\u6743\u7ebf\uff0c\u8fde\u63a5\u5230\u603b\u7ebf\u4ef2\u88c1\u5668\u3002\u5728\u8bbe\u5907\u9700\u8981\u901a\u8fc7\u603b\u7ebf\u4f20\u8f93\u6570\u636e\u524d\uff0c\u9700\u8981\u5148\u901a\u8fc7\u603b\u7ebf\u8bf7\u6c42\u7ebf\u8bf7\u6c42\u603b\u7ebf\u7684\u8bbf\u95ee\u6743\u9650\u3002\u603b\u7ebf\u4ef2\u88c1\u5668\u5219\u901a\u8fc7\u603b\u7ebf\u6388\u6743\u7ebf\u6765\u6388\u4e88\u8bbf\u95ee\u6743\u9650\uff0c\u4ece\u800c\u907f\u514d\u8bbe\u5907\u4e4b\u95f4\u7684\u51b2\u7a81\u3002 \u603b\u7ebf\u4ea4\u6362\u673a \u00b6 \u7531\u4e8e\u603b\u7ebf\u4ef2\u88c1\u7684\u65b9\u6cd5\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4e00\u4e9b\u8bbe\u5907\u957f\u65f6\u95f4\u7684\u7b49\u5f85\uff0c\u603b\u7ebf\u4e5f\u53ef\u4ee5\u4f7f\u7528\u7c7b\u4f3c\u7f51\u7edc\u4ea4\u6362\u673a\u7684\u65b9\u5f0f\u8fde\u63a5\uff0c\u4e0d\u540c\u5bf9\u7684\u8bbe\u5907\u4e4b\u95f4\u53ef\u4ee5\u901a\u8fc7\u4ea4\u6362\u673a\u540c\u65f6\u8fdb\u884c\u901a\u4fe1\u3002 http://bwlampson.site/Slides/TuringLecture.htm \u21a9","title":"\u603b\u7ebf"},{"location":"tutorial/bus/#\u603b\u7ebf","text":"By: howardlau1999","title":"\u603b\u7ebf"},{"location":"tutorial/bus/#\u7b80\u4ecb","text":"CPU \u548c\u5176\u4ed6\u8bbe\u5907\u5982\u679c\u60f3\u8981\u901a\u4fe1\uff0c\u90a3\u4e48\u5c31\u8981\u548c\u5176\u4ed6\u8bbe\u5907\u5728\u7269\u7406\u4e0a\u8fde\u63a5\u8d77\u6765\u3002\u5982\u679c\u6bcf\u4e2a\u8bbe\u5907\u90fd\u50cf\u5185\u5b58\u4e00\u6837\uff0c\u9700\u8981\u4fee\u6539 CPU \u7684\u8bbe\u8ba1\u548c IO \u7aef\u53e3\u624d\u80fd\u8fde\u63a5\uff0c\u90a3\u4e48\u5047\u5982\u6709 m \u79cd CPU \u548c n \u79cd\u5916\u8bbe\uff0c\u590d\u6742\u5ea6\u5c06\u6210\u4e3a O(mn)\uff0c\u4e0d\u4ec5\u6bcf\u4e2a CPU \u90fd\u8981\u9002\u914d\u6240\u6709\u7684\u5916\u8bbe\uff0c\u800c\u4e14\u8fd8\u8981\u628a\u6240\u6709\u7684\u5916\u8bbe\u90fd\u9002\u914d\u5230\u6240\u6709 CPU \u4e0a\uff0c\u8fd9\u6837\u7684\u590d\u6742\u5ea6\u662f\u4e0d\u73b0\u5b9e\u7684\uff0c\u540c\u65f6\u4e5f\u4e0d\u7075\u6d3b\u3002\u8fd9\u65f6\uff0c\u6211\u4eec\u5c31\u5f97\u60f3\u5230\u8ba1\u7b97\u673a\u79d1\u5b66\u7684\u4e00\u6761\u201c\u91d1\u79d1\u7389\u5f8b\u201d\uff1a Any problem in computer science can be solved with another level of indirection. 1 \u65e2\u7136\u76f4\u63a5\u8fde\u63a5\u8d77\u6765\u4e0d\u73b0\u5b9e\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u901a\u8fc7\u5f15\u5165\u4e00\u4e2a\u901a\u7528\u7684\u4e2d\u95f4\u5c42\uff0c\u8ba9\u5927\u5bb6\u90fd\u8fde\u63a5\u5230\u8fd9\u4e2a\u4e2d\u95f4\u5c42\uff0c\u4e0d\u5c31\u628a\u590d\u6742\u5ea6\u53d8\u4e3a O(m + n) \u4e86\u5417\uff1f\u4eba\u4eec\u89c9\u5f97\u8fd9\u4e2a\u60f3\u6cd5\u4e0d\u9519\uff0c\u5e76\u7ed9\u8fd9\u79cd\u6280\u672f\u8d77\u4e86\u4e00\u4e2a\u5f62\u8c61\u7684\u540d\u5b57\uff1a\u603b\u7ebf\uff08Bus\uff09\u3002\u6b63\u5982\u5b83\u7684\u82f1\u6587\u6240\u5c55\u793a\u7684\u4e00\u6837\uff0c\u6570\u636e\u4e0d\u518d\u662f\u76f4\u63a5\u5728 CPU \u548c\u5916\u8bbe\u95f4\u4f20\u9012\uff0c\u800c\u662f\u5148\u642d\u4e0a\u603b\u7ebf\u8fd9\u4e2a\u201c\u516c\u4ea4\u8f66\u201d\uff0c\u5230\u8fbe\u76ee\u7684\u5730\u4e4b\u540e\u518d\u201c\u4e0b\u8f66\u201d\u3002 \u5f53\u7136\uff0c\u4efb\u4f55\u7684\u989d\u5916\u7684\u95f4\u63a5\u5c42\u90fd\u662f\u6709\u4ee3\u4ef7\u7684\uff0c\u5f15\u5165\u603b\u7ebf\u6709\u4e24\u4e2a\u95ee\u9898\u9700\u8981\u89e3\u51b3\uff1a \u6570\u636e\u600e\u4e48\u77e5\u9053\u5b83\u7684\u76ee\u7684\u5730\u662f\u54ea\u91cc\uff1f \u597d\u51e0\u4e2a\u8bbe\u5907\u90fd\u60f3\u540c\u65f6\u53d1\u9001\u6570\u636e\uff0c\u7136\u800c\u603b\u7ebf\u53ea\u5141\u8bb8\u4e00\u4e2a\u8bbe\u5907\u53d1\u9001\uff0c\u8981\u5982\u4f55\u4ef2\u88c1\uff1f \u800c\u4e14\uff0c\u4f5c\u4e3a\u4e00\u5c42\u901a\u4fe1\u534f\u8bae\uff0c\u5404\u5bb6\u8bbe\u5907\u5382\u5546\u90fd\u60f3\u8bbe\u8ba1\u4e00\u5957\u6700\u9002\u5408\u81ea\u5df1\u8bbe\u5907\u7684\u534f\u8bae\uff0c\u4e8e\u662f\uff0c\u603b\u7ebf\u534f\u8bae\u4e5f\u662f\u767e\u82b1\u9f50\u653e\uff0c\u6709 PCI-e\u3001I2C\u3001USB\u3001AXI \u7b49\u7b49\u2026\u2026\u4e0d\u540c\u603b\u7ebf\u534f\u8bae\u4e5f\u6709\u4e0d\u540c\u7684\u4f7f\u7528\u573a\u666f\uff0c\u5e94\u5f53\u652f\u6301\u54ea\u4e9b\u534f\u8bae\u4e5f\u662f\u4e00\u4e2a\u9700\u8981\u6743\u8861\u7684\u95ee\u9898\u3002","title":"\u7b80\u4ecb"},{"location":"tutorial/bus/#\u603b\u7ebf\u901a\u4fe1\u534f\u8bae","text":"\u901a\u5e38\u800c\u8a00\uff0c\u603b\u7ebf\u5728\u4f20\u8f93\u6570\u636e\u7684\u65f6\u5019\uff0c\u5728\u4fdd\u8bc1\u603b\u7ebf\u6ca1\u6709\u88ab\u5176\u4ed6\u8bbe\u5907\u5360\u7528\u540e\uff0c\u53d1\u8d77\u901a\u4fe1\u7684\u4e00\u65b9\u4f1a\u5148\u53d1\u9001\u63a7\u5236\u4fe1\u53f7\uff0c\u8868\u660e\u63a5\u4e0b\u6765\u4f20\u8f93\u7684\u6570\u636e\u7684\u8bbe\u5907\u5730\u5740\u548c\u957f\u5ea6\u7b49\uff0c\u76ee\u6807\u8bbe\u5907\u5728\u6536\u5230\u63a7\u5236\u4fe1\u53f7\u540e\uff0c\u5c31\u5f00\u59cb\u6570\u636e\u7684\u4f20\u8f93\u8fc7\u7a0b\u3002 \u672c\u9879\u76ee\u4e2d\u4f7f\u7528\u7684\u603b\u7ebf\u534f\u8bae\u662f AXI4-Lite\uff0c\u662f\u7531 ARM \u516c\u53f8\u63d0\u51fa\u7684\u603b\u7ebf\u901a\u4fe1\u534f\u8bae\u3002\u5b83\u7684\u8bfb\u5199\u7684\u6d41\u7a0b\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u5de6\u56fe\u662f\u4e3b\u8bbe\u5907\u53d1\u8d77\u7684\u8bfb\u6d41\u7a0b\uff0c\u53f3\u56fe\u662f\u4e3b\u8bbe\u5907\u53d1\u8d77\u7684\u5199\u6d41\u7a0b\u3002\u76f8\u6bd4\u8d77\u8bfb\u6d41\u7a0b\uff0c\u5199\u6d41\u7a0b\u591a\u4e86\u4e00\u4e2a\u5199\u7684\u56de\u590d\u54cd\u5e94\uff0c\u8fd9\u662f\u56e0\u4e3a\u4ece\u8bbe\u5907\u5185\u90e8\u53ef\u80fd\u6709\u7f13\u51b2\u533a\uff0c\u5728\u6570\u636e\u771f\u6b63\u5199\u5165\u5b8c\u6210\u4e4b\u524d\uff0c\u4ece\u8bbe\u5907\u53ef\u4ee5\u4e0d\u53d1\u9001\u54cd\u5e94\u4fe1\u53f7\uff0c\u4ece\u800c\u4fdd\u8bc1\u6570\u636e\u7684\u5b8c\u6574\u6027\u3002 \u8fde\u63a5\u5230\u603b\u7ebf\u7684\u662f\u603b\u7ebf\u534f\u8bae\u63a5\u53e3\uff0c\u5185\u90e8\u5b9e\u73b0\u4e86\u72b6\u6001\u673a\u3002\u4e3b\u8bbe\u5907\u7684\u63a5\u53e3\u63a5\u6536\u6765\u81ea\u8bbe\u5907\u7684\u4fe1\u53f7\uff0c\u5e76\u4e3b\u52a8\u53d1\u8d77\u8bfb\u5199\u8bf7\u6c42\uff0c\u800c\u4ece\u8bbe\u5907\u88ab\u52a8\u5730\u63a5\u6536\u4e3b\u8bbe\u5907\u53d1\u8d77\u7684\u8bf7\u6c42\uff0c\u5e76\u5728\u64cd\u4f5c\u8fdb\u884c\u7684\u65f6\u5019\u901a\u77e5\u8bbe\u5907\uff0c\u8ba9\u8bbe\u5907\u5bf9\u8bfb\u5199\u8bf7\u6c42\u4f5c\u51fa\u76f8\u5e94\u7684\u903b\u8f91\u64cd\u4f5c\u3002\u5728\u901a\u4fe1\u8fc7\u7a0b\u4e2d\uff0c\u53cc\u65b9\u4f7f\u7528\u72b6\u6001\u673a\u6765\u8bb0\u5f55\u4e00\u4e2a\u8bfb\u5199\u8bf7\u6c42\u7684\u8fdb\u884c\u72b6\u6001\uff0c\u5e76\u5728\u6709\u6548/\u5c31\u7eea\u4fe1\u53f7\u540c\u65f6\u7f6e\u4f4d\u7684\u65f6\u5019\u8fdb\u884c\u72b6\u6001\u8f6c\u6362\u3002 \u5de6\u56fe\u662f\u4e3b\u8bbe\u5907\u603b\u7ebf\u63a5\u53e3\u7684\u72b6\u6001\u673a\uff0c\u53f3\u56fe\u662f\u4ece\u8bbe\u5907\u603b\u7ebf\u63a5\u53e3\u7684\u72b6\u6001\u673a\u3002","title":"\u603b\u7ebf\u901a\u4fe1\u534f\u8bae"},{"location":"tutorial/bus/#\u603b\u7ebf\u4ef2\u88c1","text":"\u7531\u4e8e\u603b\u7ebf\u662f\u591a\u4e2a\u8bbe\u5907\u5171\u4eab\u7684\uff0c\u5982\u679c\u591a\u4e2a\u8bbe\u5907\u540c\u65f6\u53d1\u8d77\u901a\u4fe1\uff0c\u90a3\u4e48\u4fe1\u53f7\u4f1a\u4ea7\u751f\u51b2\u7a81\uff0c\u5bfc\u81f4\u4f20\u8f93\u8fc7\u7a0b\u65e0\u6cd5\u6b63\u5e38\u8fdb\u884c\u3002\u4e3a\u4e86\u907f\u514d\u51b2\u7a81\u7684\u53d1\u751f\uff0c\u6240\u6709\u8bbe\u5907\u5728\u901a\u4fe1\u4e4b\u524d\uff0c\u90fd\u5e94\u8be5\u68c0\u6d4b\u603b\u7ebf\u662f\u5426\u5360\u7528\u3002 \u4e3a\u6b64\uff0c\u6bcf\u4e00\u4e2a\u8bbe\u5907\u5219\u9700\u8981\u589e\u52a0\u603b\u7ebf\u8bf7\u6c42\u7ebf\u4ee5\u53ca\u603b\u7ebf\u6388\u6743\u7ebf\uff0c\u8fde\u63a5\u5230\u603b\u7ebf\u4ef2\u88c1\u5668\u3002\u5728\u8bbe\u5907\u9700\u8981\u901a\u8fc7\u603b\u7ebf\u4f20\u8f93\u6570\u636e\u524d\uff0c\u9700\u8981\u5148\u901a\u8fc7\u603b\u7ebf\u8bf7\u6c42\u7ebf\u8bf7\u6c42\u603b\u7ebf\u7684\u8bbf\u95ee\u6743\u9650\u3002\u603b\u7ebf\u4ef2\u88c1\u5668\u5219\u901a\u8fc7\u603b\u7ebf\u6388\u6743\u7ebf\u6765\u6388\u4e88\u8bbf\u95ee\u6743\u9650\uff0c\u4ece\u800c\u907f\u514d\u8bbe\u5907\u4e4b\u95f4\u7684\u51b2\u7a81\u3002","title":"\u603b\u7ebf\u4ef2\u88c1"},{"location":"tutorial/bus/#\u603b\u7ebf\u4ea4\u6362\u673a","text":"\u7531\u4e8e\u603b\u7ebf\u4ef2\u88c1\u7684\u65b9\u6cd5\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4e00\u4e9b\u8bbe\u5907\u957f\u65f6\u95f4\u7684\u7b49\u5f85\uff0c\u603b\u7ebf\u4e5f\u53ef\u4ee5\u4f7f\u7528\u7c7b\u4f3c\u7f51\u7edc\u4ea4\u6362\u673a\u7684\u65b9\u5f0f\u8fde\u63a5\uff0c\u4e0d\u540c\u5bf9\u7684\u8bbe\u5907\u4e4b\u95f4\u53ef\u4ee5\u901a\u8fc7\u4ea4\u6362\u673a\u540c\u65f6\u8fdb\u884c\u901a\u4fe1\u3002 http://bwlampson.site/Slides/TuringLecture.htm \u21a9","title":"\u603b\u7ebf\u4ea4\u6362\u673a"},{"location":"tutorial/cmake/","text":"CMake \u662f\u4e00\u4e2a\u652f\u6301\u591a\u5e73\u53f0\u7684\u6784\u5efa\u5de5\u5177\uff0c\u5b83\u53ef\u4ee5\u4f7f\u7528\u4e00\u4efd\u914d\u7f6e\u6587\u4ef6\uff0c\u5c31\u80fd\u5728\u4e0d\u540c\u5e73\u53f0\u4e0a\u6784\u5efa\u3002 \u914d\u7f6e\u7f16\u8bd1\u5de5\u5177\u94fe \u00b6 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cCMake \u4f1a\u8c03\u7528\u7cfb\u7edf\u7684\u9ed8\u8ba4\u7f16\u8bd1\u5de5\u5177\u94fe\uff0c\u7f16\u8bd1\u51fa\u53ef\u4ee5\u5728\u8ba1\u7b97\u673a\u4e0a\u8fd0\u884c\u7684\u53ef\u6267\u884c\u6587\u4ef6\u3002\u4f46\u662f\u6211\u4eec\u7684 CPU \u4e00\u822c\u662f x86 \u6307\u4ee4\u96c6\uff0c\u4e0d\u80fd\u5728\u6211\u4eec\u7684 CPU \u4e0a\u8fd0\u884c\u3002\u6240\u4ee5\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u6765\u6307\u5b9a\u81ea\u5df1\u7684\u7f16\u8bd1\u5de5\u5177\u94fe\u3002 \u5de5\u5177\u94fe\u914d\u7f6e\u6587\u4ef6 \u00b6 \u5728 C \u8bed\u8a00\u7a0b\u5e8f\u9879\u76ee\u76ee\u5f55\u4e0b\uff0c\u521b\u5efa toolchain.cmake \u6587\u4ef6\uff0c\u5e76\u5728\u6587\u4ef6\u4e2d\u914d\u7f6e\u597d\u6211\u4eec\u81ea\u5df1\u7684\u7f16\u8bd1\u5de5\u5177\u94fe\u3002 \u901a\u8fc7\u8bbe\u7f6e CMAKE_***_COMPILER \u53d8\u91cf\uff0c\u6211\u4eec\u53ef\u4ee5\u6307\u5b9a\u4f7f\u7528 clang \u4f5c\u4e3a\u7f16\u8bd1\u5668\u3002\u800c CMAKE_***_COMPILER_TARGET \u5219\u8bbe\u7f6e\u4e86\u4ea4\u53c9\u7f16\u8bd1\u7684\u7f16\u8bd1\u76ee\u6807\u4e09\u5143\u7ec4\u3002\u7f16\u8bd1\u76ee\u6807\u4e09\u5143\u7ec4\u4e2d\uff0c\u7b2c\u4e00\u4e2a\u5206\u91cf\u4ee3\u8868\u76ee\u6807\u6307\u4ee4\u96c6\uff0c\u7b2c\u4e8c\u4e2a\u5206\u91cf\u4ee3\u8868\u76ee\u6807\u64cd\u4f5c\u7cfb\u7edf\uff0c\u7b2c\u4e09\u4e2a\u5206\u91cf\u4ee3\u8868\u662f\u53ef\u6267\u884c\u7a0b\u5e8f\u7684\u683c\u5f0f\u3002 riscv32-unknown-elf \u5c31\u8868\u793a\u6211\u4eec\u7f16\u8bd1\u7684\u76ee\u6807\u662f RISC-V 32 \u4f4d\u6307\u4ee4\u96c6\uff0c\u5728\u672a\u77e5\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u8fd0\u884c\u7684 ELF \u683c\u5f0f\u7684\u53ef\u6267\u884c\u7a0b\u5e8f\u3002 \u53e6\u5916\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u6307\u5b9a\u7f16\u8bd1\u5668\u7684\u521d\u59cb\u989d\u5916\u53c2\u6570\uff0c\u8fd9\u4e9b\u53c2\u6570\u53ef\u4ee5\u5728 CMAKE_***_FLAGS \u53d8\u91cf\u4e2d\u6307\u5b9a\u3002\u5176\u4e2d\u91cd\u8981\u7684\u662f -fuse-ld=lld \u3001 -no-std \u548c -static \u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u544a\u8bc9 CMake \u4f7f\u7528 lld \u4f5c\u4e3a\u94fe\u63a5\u5668\uff0c\u800c\u4e0d\u662f\u9ed8\u8ba4\u7684 ld\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u544a\u8bc9 CMake \u4e0d\u4f7f\u7528\u6807\u51c6\u5e93\uff0c\u800c\u662f\u4f7f\u7528\u81ea\u5df1\u7684\u5e93\u3002\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u544a\u8bc9\u7f16\u8bd1\u4f7f\u7528\u9759\u6001\u94fe\u63a5\uff0c\u800c\u4e0d\u662f\u52a8\u6001\u94fe\u63a5\u3002 set ( CMAKE_SYSTEM_NAME Generic ) set ( CMAKE_SYSTEM_PROCESSOR riscv32 ) set ( triple riscv32-unknown-elf ) set ( CMAKE_C_COMPILER clang ) set ( CMAKE_C_COMPILER_TARGET ${ triple } ) set ( CMAKE_CXX_COMPILER clang++ ) set ( CMAKE_CXX_COMPILER_TARGET ${ triple } ) set ( CMAKE_ASM_COMPILER clang ) set ( CMAKE_ASM_COMPILER_TARGET ${ triple } ) set ( CMAKE_AR llvm-ar CACHE FILEPATH \"Archiver\" ) set ( CMAKE_OBJCOPY llvm-objcopy ) set ( CMAKE_C_FLAGS_INIT \"-mno-relax\" ) set ( CMAKE_CXX_FLAGS_INIT \"-mno-relax\" ) set ( CMAKE_ASM_FLAGS_INIT \"-mno-relax\" ) set ( CMAKE_EXE_LINKER_FLAGS_INIT \"-fuse-ld=lld -nostdlib -static -mno-relax\" ) set ( CMAKE_MODULE_LINKER_FLAGS_INIT \"-fuse-ld=lld -nostdlib -static -mno-relax\" ) set ( CMAKE_SHARED_LINKER_FLAGS_INIT \"-fuse-ld=lld -nostdlib -static -mno-relax\" )","title":"CMake \u5165\u95e8"},{"location":"tutorial/cmake/#\u914d\u7f6e\u7f16\u8bd1\u5de5\u5177\u94fe","text":"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cCMake \u4f1a\u8c03\u7528\u7cfb\u7edf\u7684\u9ed8\u8ba4\u7f16\u8bd1\u5de5\u5177\u94fe\uff0c\u7f16\u8bd1\u51fa\u53ef\u4ee5\u5728\u8ba1\u7b97\u673a\u4e0a\u8fd0\u884c\u7684\u53ef\u6267\u884c\u6587\u4ef6\u3002\u4f46\u662f\u6211\u4eec\u7684 CPU \u4e00\u822c\u662f x86 \u6307\u4ee4\u96c6\uff0c\u4e0d\u80fd\u5728\u6211\u4eec\u7684 CPU \u4e0a\u8fd0\u884c\u3002\u6240\u4ee5\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u6765\u6307\u5b9a\u81ea\u5df1\u7684\u7f16\u8bd1\u5de5\u5177\u94fe\u3002","title":"\u914d\u7f6e\u7f16\u8bd1\u5de5\u5177\u94fe"},{"location":"tutorial/cmake/#\u5de5\u5177\u94fe\u914d\u7f6e\u6587\u4ef6","text":"\u5728 C \u8bed\u8a00\u7a0b\u5e8f\u9879\u76ee\u76ee\u5f55\u4e0b\uff0c\u521b\u5efa toolchain.cmake \u6587\u4ef6\uff0c\u5e76\u5728\u6587\u4ef6\u4e2d\u914d\u7f6e\u597d\u6211\u4eec\u81ea\u5df1\u7684\u7f16\u8bd1\u5de5\u5177\u94fe\u3002 \u901a\u8fc7\u8bbe\u7f6e CMAKE_***_COMPILER \u53d8\u91cf\uff0c\u6211\u4eec\u53ef\u4ee5\u6307\u5b9a\u4f7f\u7528 clang \u4f5c\u4e3a\u7f16\u8bd1\u5668\u3002\u800c CMAKE_***_COMPILER_TARGET \u5219\u8bbe\u7f6e\u4e86\u4ea4\u53c9\u7f16\u8bd1\u7684\u7f16\u8bd1\u76ee\u6807\u4e09\u5143\u7ec4\u3002\u7f16\u8bd1\u76ee\u6807\u4e09\u5143\u7ec4\u4e2d\uff0c\u7b2c\u4e00\u4e2a\u5206\u91cf\u4ee3\u8868\u76ee\u6807\u6307\u4ee4\u96c6\uff0c\u7b2c\u4e8c\u4e2a\u5206\u91cf\u4ee3\u8868\u76ee\u6807\u64cd\u4f5c\u7cfb\u7edf\uff0c\u7b2c\u4e09\u4e2a\u5206\u91cf\u4ee3\u8868\u662f\u53ef\u6267\u884c\u7a0b\u5e8f\u7684\u683c\u5f0f\u3002 riscv32-unknown-elf \u5c31\u8868\u793a\u6211\u4eec\u7f16\u8bd1\u7684\u76ee\u6807\u662f RISC-V 32 \u4f4d\u6307\u4ee4\u96c6\uff0c\u5728\u672a\u77e5\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u8fd0\u884c\u7684 ELF \u683c\u5f0f\u7684\u53ef\u6267\u884c\u7a0b\u5e8f\u3002 \u53e6\u5916\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u6307\u5b9a\u7f16\u8bd1\u5668\u7684\u521d\u59cb\u989d\u5916\u53c2\u6570\uff0c\u8fd9\u4e9b\u53c2\u6570\u53ef\u4ee5\u5728 CMAKE_***_FLAGS \u53d8\u91cf\u4e2d\u6307\u5b9a\u3002\u5176\u4e2d\u91cd\u8981\u7684\u662f -fuse-ld=lld \u3001 -no-std \u548c -static \u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u544a\u8bc9 CMake \u4f7f\u7528 lld \u4f5c\u4e3a\u94fe\u63a5\u5668\uff0c\u800c\u4e0d\u662f\u9ed8\u8ba4\u7684 ld\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u544a\u8bc9 CMake \u4e0d\u4f7f\u7528\u6807\u51c6\u5e93\uff0c\u800c\u662f\u4f7f\u7528\u81ea\u5df1\u7684\u5e93\u3002\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u544a\u8bc9\u7f16\u8bd1\u4f7f\u7528\u9759\u6001\u94fe\u63a5\uff0c\u800c\u4e0d\u662f\u52a8\u6001\u94fe\u63a5\u3002 set ( CMAKE_SYSTEM_NAME Generic ) set ( CMAKE_SYSTEM_PROCESSOR riscv32 ) set ( triple riscv32-unknown-elf ) set ( CMAKE_C_COMPILER clang ) set ( CMAKE_C_COMPILER_TARGET ${ triple } ) set ( CMAKE_CXX_COMPILER clang++ ) set ( CMAKE_CXX_COMPILER_TARGET ${ triple } ) set ( CMAKE_ASM_COMPILER clang ) set ( CMAKE_ASM_COMPILER_TARGET ${ triple } ) set ( CMAKE_AR llvm-ar CACHE FILEPATH \"Archiver\" ) set ( CMAKE_OBJCOPY llvm-objcopy ) set ( CMAKE_C_FLAGS_INIT \"-mno-relax\" ) set ( CMAKE_CXX_FLAGS_INIT \"-mno-relax\" ) set ( CMAKE_ASM_FLAGS_INIT \"-mno-relax\" ) set ( CMAKE_EXE_LINKER_FLAGS_INIT \"-fuse-ld=lld -nostdlib -static -mno-relax\" ) set ( CMAKE_MODULE_LINKER_FLAGS_INIT \"-fuse-ld=lld -nostdlib -static -mno-relax\" ) set ( CMAKE_SHARED_LINKER_FLAGS_INIT \"-fuse-ld=lld -nostdlib -static -mno-relax\" )","title":"\u5de5\u5177\u94fe\u914d\u7f6e\u6587\u4ef6"},{"location":"tutorial/compile-and-link/","text":"\u7f16\u8bd1\u4e0e\u94fe\u63a5 \u00b6 By: howardlau1999 \u3001 NelsonCheung \u5728\u4e4b\u524d\u7684 C/C++ \u8bfe\u7a0b\u4e2d\u4f60\u5df2\u7ecf\u5b66\u4f1a\u4e86\u7a0b\u5e8f\u7684\u5165\u53e3\u662f main() \u51fd\u6570\u3002\u4f46\u662f CPU \u53ea\u8ba4\u8bc6\u5730\u5740\uff0c\u53c8\u5982\u4f55\u77e5\u9053\u4e00\u4e2a\u7a0b\u5e8f\u4ece\u4f55\u5904\u5f00\u59cb\u6267\u884c\uff1f\u6211\u4eec\u53c8\u8981\u5982\u4f55\u7f16\u8bd1\u4e00\u4e2a\u6211\u4eec\u81ea\u5df1\u5199\u7684 CPU \u53ef\u4ee5\u8fd0\u884c\u7684\u7a0b\u5e8f\u5e76\u8ba9\u5b83\u771f\u6b63\u5730\u8dd1\u8d77\u6765\uff1f\u4e0b\u9762\u5c31\u5c06\u5e26\u4f60\u63ed\u5f00 main() \u51fd\u6570\u5e55\u540e\u7684\u79d8\u5bc6\uff0c\u5e76\u5e26\u4f60\u5b66\u4e60\u5982\u4f55\u7f16\u8bd1\u548c\u94fe\u63a5\uff0c\u8ba9\u6211\u4eec\u5199\u7684 C \u7a0b\u5e8f\u53ef\u4ee5\u5728\u6211\u4eec\u81ea\u5df1\u5199\u7684 CPU \u4e0a\u8fd0\u884c\u8d77\u6765\u3002 \u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50 \u00b6 \u4e3a\u4e86\u4fbf\u4e8e\u9610\u8ff0 C \u7a0b\u5e8f\u7684\u7f16\u8bd1\u548c\u94fe\u63a5\u7684\u8fc7\u7a0b\uff0c\u6211\u4eec\u9996\u5148\u51c6\u5907\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u3002 \u6211\u4eec\u5148\u7f16\u5199\u4e00\u4e2a print.h \u7684\u5934\u6587\u4ef6\uff0c\u58f0\u660e\u4e00\u4e2a\u540d\u4e3a print_something() \u7684\u51fd\u6570\u3002 #ifndef PRINT_H #define PRINT_H void print_something (); #endif \u7136\u540e\uff0c\u6211\u4eec\u5728 print.c \u4e2d\u5b9e\u73b0\u8fd9\u4e2a\u51fd\u6570\u3002 #include <stdio.h> #include \"print.h\" void print_something () { printf ( \"Hello YatCPU! \\n \" ); } \u6700\u540e\uff0c\u6211\u4eec\u5728 main.c \u4e2d\u4f7f\u7528\u8fd9\u4e2a\u51fd\u6570\u6253\u5370\u5e76\u8f93\u51fa\u3002 #include \"print.h\" int main () { print_something (); } \u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u8981\u5f00\u59cb\u7f16\u8bd1\u8fd0\u884c\uff0c\u7f16\u8bd1\u547d\u4ee4\u5982\u4e0b\u3002 gcc -o main.out main.c \u8fd9\u6761\u547d\u4ee4\u662f\u7f16\u8bd1 main.c \uff0c\u7136\u540e\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6 main.out \u3002\u5176\u4e2d\uff0c -o \u6307\u5b9a\u4e86\u751f\u6210\u7684\u53ef\u6267\u884c\u6587\u4ef6\u7684\u540d\u79f0\u3002\u4f46\u662f\uff0c\u76f4\u63a5\u8fd0\u884c\u4e0a\u8ff0\u547d\u4ee4\u4f1a\u51fa\u73b0\u4ee5\u4e0b\u9519\u8bef\u3002 main.c:(.text+0xa): undefined reference to `print_something' \u8fd9\u662f\u56e0\u4e3a main.c \u4e0d\u77e5\u9053\u51fd\u6570 print_something \u7684\u5b9e\u73b0\u3002\u800c\u51fd\u6570 print_something \u7684\u5b9e\u73b0\u5728\u6587\u4ef6 print.c \u4e2d\uff0c\u6211\u4eec\u9700\u8981\u5728\u7f16\u8bd1\u547d\u4ee4\u4e2d\u52a0\u4e0a\u5b83\uff0c\u5982\u4e0b\u6240\u793a\u3002 gcc -o main.out main.c print.c \u4e0a\u9762\u7684\u547d\u4ee4\u4e5f\u53ef\u4ee5\u8fd9\u6837\u5199\u3002 gcc main.c print.c -o main.out \u5728\u672c\u4f8b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86 gcc \u76f4\u63a5\u5c06\u4ee3\u7801 main.c print.c print.h \u7f16\u8bd1\u6210\u53ef\u6267\u884c\u6587\u4ef6 main.out \u7684\u3002\u5b9e\u9645\u4e0a\uff0cC/C++ \u7f16\u8bd1\u5668\u5728\u7f16\u8bd1\u4ee3\u7801\u65f6\u5305\u542b\u5982\u4e0b\u51e0\u4e2a\u6b65\u9aa4\u3002 \u9884\u5904\u7406 \u3002\u5904\u7406\u5b8f\u5b9a\u4e49\uff0c\u5982 #include , #define , #ifndef \u7b49\uff0c\u751f\u6210 \u9884\u5904\u7406\u6587\u4ef6 \uff0c\u4e00\u822c\u4ee5 .i \u4e3a\u540e\u7f00\u3002 \u7f16\u8bd1 \u3002\u5c06\u9884\u5904\u7406\u6587\u4ef6\u8f6c\u6362\u6210 \u6c47\u7f16\u4ee3\u7801\u6587\u4ef6 \uff0c\u4e00\u822c\u4ee5 .S \u4e3a\u540e\u7f00\u3002 \u6c47\u7f16 \u3002\u5c06\u6c47\u7f16\u4ee3\u7801\u6587\u4ef6\u6587\u4ef6\u8f6c\u6362\u6210 \u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6 \uff0c\u4e00\u822c\u4ee5 .o \u4e3a\u540e\u7f00\u3002 \u94fe\u63a5 \u3002\u5c06\u591a\u4e2a\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6\u94fe\u63a5\u751f\u6210 \u53ef\u6267\u884c\u6587\u4ef6 \uff0c\u4e00\u822c\u4ee5 .o \u4e3a\u540e\u7f00\u3002 \u4e0b\u9762\u6211\u4eec\u5206\u522b\u6765\u5b66\u4e60\u8fd9\u56db\u4e2a\u8fc7\u7a0b\u3002 \u9884\u5904\u7406 \u00b6 \u9884\u5904\u7406\u53c8\u88ab\u79f0\u4e3a\u9884\u7f16\u8bd1\uff0c\u4e3b\u8981\u5904\u7406\u5b8f\u5b9a\u4e49\uff0c\u5982 #include , #define , #ifndef \u7b49\uff0c\u5e76\u5220\u9664\u6ce8\u91ca\u884c\uff0c\u8fd8\u4f1a\u6dfb\u52a0\u884c\u53f7\u548c\u6587\u4ef6\u540d\u6807\u8bc6\u3002\u5728\u7f16\u8bd1\u65f6\uff0c\u7f16\u8bd1\u5668\u4f1a\u4f7f\u7528\u4e0a\u8ff0\u4fe1\u606f\u4ea7\u751f\u8c03\u8bd5\u3001\u8b66\u544a\u548c\u7f16\u8bd1\u9519\u8bef\u65f6\u9700\u8981\u7528\u5230\u7684\u884c\u53f7\u4fe1\u606f\u3002 \u7ecf\u8fc7\u9884\u7f16\u8bd1\u751f\u6210\u7684 .i \u6587\u4ef6\u4e0d\u5305\u542b\u4efb\u4f55\u5b8f\u5b9a\u4e49\uff0c\u56e0\u4e3a\u6240\u6709\u7684\u5b8f\u5df2\u7ecf\u88ab\u5c55\u5f00\uff0c\u5e76\u4e14\u5305\u542b\u7684\u6587\u4ef6\u4e5f\u5df2\u7ecf\u88ab\u63d2\u5165\u5230 .i \u6587\u4ef6\u4e2d\u3002\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5bf9 main.c \u8fdb\u884c\u9884\u5904\u7406\uff0c\u751f\u6210 main.i \u9884\u5904\u7406\u6587\u4ef6\uff0c\u547d\u4ee4\u5982\u4e0b\u3002 gcc -o main.i -E main.c \u751f\u6210\u7684\u5185\u5bb9\u5982\u4e0b\u3002 # 1 \"main.c\" # 1 \"<built-in>\" # 1 \"<command-line>\" # 1 \"/usr/include/stdc-predef.h\" 1 3 4 # 1 \"<command-line>\" 2 # 1 \"main.c\" # 1 \"print.h\" 1 void print_something(); # 2 \"main.c\" 2 int main() { print_something(); } \u7f16\u8bd1 \u00b6 \u7f16\u8bd1\u5219\u662f\u5c06\u9884\u5904\u7406\u6587\u4ef6\u8f6c\u6362\u6210\u6c47\u7f16\u4ee3\u7801\u6587\u4ef6\uff08 .S \u6587\u4ef6\uff09\u7684\u8fc7\u7a0b\uff0c\u5177\u4f53\u7684\u6b65\u9aa4\u4e3b\u8981\u6709\uff1a\u8bcd\u6cd5\u5206\u6790 -> \u8bed\u6cd5\u5206\u6790 -> \u8bed\u4e49\u5206\u6790\u53ca\u76f8\u5173\u7684\u4f18\u5316 -> \u4e2d\u95f4\u4ee3\u7801\u751f\u6210 -> \u76ee\u6807\u4ee3\u7801\u751f\u6210\u3002 \u6211\u4eec\u751f\u6210 main.c \u4ee3\u7801\u5bf9\u5e94\u7684\u6c47\u7f16\u4ee3\u7801\u3002\u547d\u4ee4\u5982\u4e0b\uff0c\u5176\u4e2d\uff0c -masm=intel \u662f\u4e3a\u4e86\u751f\u6210 Intel \u98ce\u683c\u7684\u6c47\u7f16\u4ee3\u7801\uff0c\u5426\u5219\u9ed8\u8ba4 AT&T \u98ce\u683c\u7684\u4ee3\u7801\u3002 gcc -o hello.s -S hello.c -masm = intel \u751f\u6210\u7684 hello.s \u5185\u5bb9\u5982\u4e0b\u3002 .file \"main.c\" .intel_syntax noprefix .text .globl main .type main , @function main: .LFB0: .cfi_startproc push rbp .cfi_def_cfa_offset 16 .cfi_offset 6 , -16 mov rbp , rsp .cfi_def_cfa_register 6 mov eax , 0 call print_something mov eax , 0 pop rbp .cfi_def_cfa 7 , 8 ret .cfi_endproc .LFE0: .size main , .-main .ident \"GCC: (Ubuntu 5.4.0-6ubuntu1~16.04.12) 5.4.0 20160609\" .section .note.GNU-stack , \"\" , @progbits \u6c47\u7f16 \u00b6 \u6c47\u7f16\u9636\u6bb5\u662f\u5c06\u6c47\u7f16\u4ee3\u7801\u7f16\u8bd1\u6210\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6\uff08Relocatable file\uff09\u3002\u6c47\u7f16\u5668\uff08as\uff09\u5c06 main.S \u7ffb\u8bd1\u6210\u673a\u5668\u8bed\u8a00\u6307\u4ee4\uff0c\u628a\u8fd9\u4e9b\u6307\u4ee4\u548c\u5176\u4ed6\u9644\u52a0\u7684\u4fe1\u606f\u6253\u5305\u6210\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6\uff08 .o \u6587\u4ef6\uff09\u3002\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6\u662f\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u5b83\u7684\u5b57\u8282\u7f16\u7801\u662f\u673a\u5668\u8bed\u8a00\u6307\u4ee4\u800c\u4e0d\u662f\u5b57\u7b26\u3002\u5982\u679c\u6211\u4eec\u5728\u6587\u672c\u7f16\u8bd1\u5668\u4e2d\u6253\u5f00\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6\uff0c\u770b\u5230\u7684\u5c06\u662f\u4e00\u5806\u4e71\u7801\uff0c\u751f\u6210\u547d\u4ee4\u5982\u4e0b\u3002 gcc -o main.o -c main.c \u5728 Linux \u4e0b\uff0c\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6\u7684\u683c\u5f0f\u662fELF\u6587\u4ef6\u683c\u5f0f\uff0c\u5176\u5305\u542b\u4e86ELF\u5934\uff08ELF header\uff09\u3001\u7a0b\u5e8f\u5934\u8868\uff08Program header table\uff09\u3001\u8282\uff08Section\uff09\u548c\u8282\u5934\u8868\uff08Section header table\uff09\u7b49\u4fe1\u606f\u3002 \u94fe\u63a5 \u00b6 \u94fe\u63a5\u9636\u6bb5\u5c31\u662f\u628a\u82e5\u5e72\u4e2a\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6( .o \u6587\u4ef6)\u6574\u5408\u6210\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\uff08Executable file\uff09\u3002\u4e0a\u9762\u5df2\u7ecf\u63d0\u5230\uff0c\u6b63\u662f\u56e0\u4e3a\u51fd\u6570\u7684\u5b9e\u73b0\u53ef\u80fd\u5206\u5e03\u5728\u591a\u4e2a\u6587\u4ef6\u4e2d\uff0c\u6240\u4ee5\u5728\u94fe\u63a5\u9636\u6bb5\uff0c\u6211\u4eec\u9700\u8981\u63d0\u4f9b\u51fd\u6570\u5b9e\u73b0\u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u6700\u7ec8\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\u3002\u94fe\u63a5\u9636\u6bb5\u662f\u901a\u8fc7\u94fe\u63a5\u5668(ld)\u5b8c\u6210\u7684\uff0c\u94fe\u63a5\u5668\u5c06\u8f93\u5165\u7684\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6\u52a0\u5de5\u540e\u5408\u6210\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\u3002\u8fd9\u4e9b\u76ee\u6807\u6587\u4ef6\u4e2d\u5f80\u5f80\u6709\u76f8\u4e92\u7684\u6570\u636e\u3001\u51fd\u6570\u5f15\u7528\u3002\u4f8b\u5982\uff0c\u6211\u4eec\u5728 main.c \u7684main\u51fd\u6570\u4e2d\u5f15\u7528\u4e86 print.c \u4e2d print_something \u51fd\u6570\u7684\u5b9e\u73b0\u3002 \u6211\u4eec\u53ef\u4ee5\u4f7f\u7528gcc\u6765\u8fdb\u884c\u94fe\u63a5\uff0c\u547d\u4ee4\u5982\u4e0b\u3002 gcc -o main.o -c main.c gcc -o print.o -c print.c gcc -o main.out main.o print.o \u94fe\u63a5\u5b8c\u6210\u540e\uff0c\u6211\u4eec\u4f7f\u7528\u547d\u4ee4 ./main.out \u5373\u53ef\u6267\u884c\u3002\u4e8b\u5b9e\u4e0a\uff0c\u4e0a\u9762\u4e09\u6761\u8bed\u53e5\u7b49\u4ef7\u4e8e gcc -o main.out main.c print.c \u751f\u6210\u7684\u4e24\u4e2a main.out \u4e5f\u662f\u5b8c\u5168\u4e00\u6837\u7684\u3002 \u540c\u5b66\u4eec\u53ef\u80fd\u4f1a\u611f\u5230\u5947\u602a\u4e3a\u4ec0\u4e48\u9884\u5904\u7406\u3001\u7f16\u8bd1\u3001\u6c47\u7f16\u548c\u94fe\u63a5\u90fd\u662f\u4f7f\u7528gcc\uff0c\u800c\u4e0d\u662f\u4f7f\u7528as\u3001ld\u7b49\uff0c\u8fd9\u662f\u56e0\u4e3agcc\u5168\u540d\u53ebGNU Compiler Collection\uff0c\u662f\u4e00\u4e2a\u7f16\u8bd1\u5de5\u5177\u7684\u96c6\u5408\uff0c\u6211\u4eec\u53ef\u4ee5\u7b80\u5355\u7406\u89e3\u4e3agcc\u5185\u90e8\u4f1a\u81ea\u52a8\u8c03\u7528as\u3001ld\u7b49\u3002\u5728\u672c\u4f8b\u4e2d\uff0c\u6211\u4eec\u53ea\u9700\u7b80\u5355\u4f7f\u7528gcc\u6765\u5b8c\u6210\u4e0a\u8ff0\u8fc7\u7a0b\u5373\u53ef\u3002 \u94fe\u63a5\u5b9e\u9645\u4e0a\u53ef\u4ee5\u5206\u4e3a\u9759\u6001\u94fe\u63a5\u548c\u52a8\u6001\u94fe\u63a5\u4e24\u79cd\u65b9\u5f0f\u3002\u4e0a\u9762\u5448\u73b0\u7684\u94fe\u63a5\u65b9\u5f0f\u662f\u9759\u6001\u94fe\u63a5\u3002\u5728\u9759\u6001\u94fe\u63a5\u65f6\uff0c\u94fe\u63a5\u5668\u5c06\u51fd\u6570\u7684\u5b9e\u73b0\u4ee3\u7801\u4ece\u7ed9\u51fa\u7684\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6\u6216\u9759\u6001\u94fe\u63a5\u5e93\u4e2d\u62f7\u8d1d\u5230\u6700\u7ec8\u7684\u53ef\u6267\u884c\u7a0b\u5e8f\u4e2d\uff0c\u5f62\u6210\u4e00\u4e2a\u6587\u4ef6\u3002\u7531\u4e8e\u53ef\u6267\u884c\u7a0b\u5e8f\u53ef\u80fd\u94fe\u63a5\u4e86\u591a\u4e2a\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6\uff0c\u800c\u5728\u6bcf\u4e00\u4e2a\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6\u4e2d\uff0c\u5404\u4e2a\u51fd\u6570\u7684\u5730\u5740\u53c8\u662f\u72ec\u7acb\u7684\u3002\u4e3a\u4e86\u5c06\u8fd9\u4e9b\u51fd\u6570\u653e\u5230\u53ef\u6267\u6587\u4ef6\u4e2d\uff0c\u9700\u8981\u4e3a\u5176\u91cd\u65b0\u5206\u914d\u5730\u5740\u3002\u56e0\u6b64\uff0c\u5728\u9759\u6001\u94fe\u63a5\u65f6\uff0c\u94fe\u63a5\u5668\u4f1a\u505a\u4e24\u4ef6\u4e8b\uff0c\u4e00\u662f\u7b26\u53f7\u89e3\u6790\uff0c\u628a\u53ef\u6267\u884c\u7a0b\u5e8f\u4e2d\u7528\u5230\u7684\u51fd\u6570\u7684\u58f0\u660e\u548c\u5176\u5728\u53ef\u91cd\u5b9a\u4f4d\u4e2d\u7684\u5b9e\u73b0\u8054\u7cfb\u8d77\u6765\uff1b\u4e8c\u662f\u91cd\u5b9a\u4f4d\uff0c\u628a\u51fd\u6570\u7684\u8d77\u59cb\u5730\u5740\u548c\u5185\u5b58\u5730\u5740\u5bf9\u5e94\u8d77\u6765\uff0c\u7136\u540e\u4fee\u6539\u6240\u6709\u5bf9\u51fd\u6570\u7684\u5f15\u7528\u3002 \u9759\u6001\u94fe\u63a5\u4f1a\u628a\u6240\u6709\u51fd\u6570\u7684\u5b9e\u73b0\u90fd\u5305\u542b\u8fdb\u6700\u7ec8\u7684\u53ef\u6267\u884c\u6587\u4ef6\u4e2d\uff0c\u4f46\u8fd9\u4f1a\u4f7f\u5f97\u53ef\u6267\u884c\u6587\u4ef6\u7684\u5927\u5c0f\u53d8\u5f97\u975e\u5e38\u5927\u3002\u6ce8\u610f\u5230\u53ef\u6267\u884c\u6587\u4ef6\u6700\u7ec8\u4f1a\u88ab\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\u6267\u884c\uff0c\u6709\u6ca1\u6709\u4e00\u79cd\u529e\u6cd5\u80fd\u591f\u8ba9\u53ef\u6267\u884c\u6587\u4ef6\u4e2d\u7684\u51fd\u6570\u7684\u5b9e\u73b0\u4e0d\u5fc5\u5305\u542b\u8fdb\u6587\u4ef6\u4e2d\uff0c\u800c\u662f\u5728\u88ab\u8c03\u7528\u65f6\u624d\u52a0\u8f7d\u8fdb\u5185\u5b58\uff1f\u8fd9\u6837\u5c31\u80fd\u591f\u5927\u5927\u51cf\u5c0f\u53ef\u6267\u884c\u6587\u4ef6\u7684\u5927\u5c0f\u3002\u8fd9\u79cd\u94fe\u63a5\u65b9\u5f0f\u88ab\u79f0\u4e3a\u52a8\u6001\u94fe\u63a5\u3002\u5728\u7f16\u8bd1\u7684\u94fe\u63a5\u9636\u6bb5\uff0c\u52a8\u6001\u94fe\u63a5\u5e93\u53ea\u63d0\u4f9b\u7b26\u53f7\u8868\u548c\u5176\u4ed6\u5c11\u91cf\u4fe1\u606f\u7528\u4e8e\u4fdd\u8bc1\u6240\u6709\u7b26\u53f7\u5f15\u7528\u90fd\u6709\u5b9a\u4e49\uff0c\u4fdd\u8bc1\u7f16\u8bd1\u987a\u5229\u901a\u8fc7\u3002\u52a8\u6001\u94fe\u63a5\u5668\uff08ld.so\uff09\u5728\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u6839\u636e\u8bb0\u5f55\u7684\u5171\u4eab\u5bf9\u8c61\u7684\u7b26\u53f7\u5b9a\u4e49\u6765\u52a8\u6001\u52a0\u8f7d\u5171\u4eab\u5e93\uff0c\u7136\u540e\u5b8c\u6210\u91cd\u5b9a\u4f4d\u3002\u5728\u6b64\u53ef\u6267\u884c\u6587\u4ef6\u88ab\u6267\u884c\u65f6\uff0c\u52a8\u6001\u94fe\u63a5\u5e93\u7684\u5168\u90e8\u5185\u5bb9\u5c06\u88ab\u6620\u5c04\u5230\u8fd0\u884c\u65f6\u76f8\u5e94\u8fdb\u7a0b\u7684\u865a\u5730\u5740\u7a7a\u95f4\u3002\u52a8\u6001\u94fe\u63a5\u7a0b\u5e8f\u5c06\u6839\u636e\u53ef\u6267\u884c\u7a0b\u5e8f\u4e2d\u8bb0\u5f55\u7684\u4fe1\u606f\u627e\u5230\u76f8\u5e94\u7684\u51fd\u6570\u4ee3\u7801\u3002 \u4e24\u79cd\u94fe\u63a5\u65b9\u5f0f\u5404\u81ea\u90fd\u6709\u4f18\u7f3a\u70b9\u3002 \u9759\u6001\u94fe\u63a5\u7684\u7f3a\u70b9\u5f88\u660e\u663e\uff0c\u4e00\u662f\u6d6a\u8d39\u7a7a\u95f4\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u53ef\u6267\u884c\u7a0b\u5e8f\u4e2d\u5bf9\u6240\u6709\u9700\u8981\u7684\u76ee\u6807\u6587\u4ef6\u90fd\u8981\u6709\u4e00\u4efd\u526f\u672c\uff0c\u6240\u4ee5\u5982\u679c\u591a\u4e2a\u7a0b\u5e8f\u5bf9\u540c\u4e00\u4e2a\u76ee\u6807\u6587\u4ef6\u90fd\u6709\u4f9d\u8d56\uff0c\u5982\u591a\u4e2a\u7a0b\u5e8f\u4e2d\u90fd\u8c03\u7528\u4e86 printf \u51fd\u6570\uff0c\u5219\u8fd9\u591a\u4e2a\u7a0b\u5e8f\u4e2d\u90fd\u542b\u6709 printf.o \uff0c\u6240\u4ee5\u540c\u4e00\u4e2a\u76ee\u6807\u6587\u4ef6\u90fd\u5728\u5185\u5b58\u5b58\u5728\u591a\u4e2a\u526f\u672c\uff1b\u53e6\u4e00\u65b9\u9762\u5c31\u662f\u66f4\u65b0\u6bd4\u8f83\u56f0\u96be\uff0c\u56e0\u4e3a\u6bcf\u5f53\u5e93\u51fd\u6570\u7684\u4ee3\u7801\u4fee\u6539\u4e86\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u9700\u8981\u91cd\u65b0\u8fdb\u884c\u7f16\u8bd1\u94fe\u63a5\u5f62\u6210\u53ef\u6267\u884c\u7a0b\u5e8f\u3002\u4f46\u662f\u9759\u6001\u94fe\u63a5\u7684\u4f18\u70b9\u5c31\u662f\uff0c\u5728\u53ef\u6267\u884c\u7a0b\u5e8f\u4e2d\u5df2\u7ecf\u5177\u5907\u4e86\u6240\u6709\u6267\u884c\u7a0b\u5e8f\u6240\u9700\u8981\u7684\u4efb\u4f55\u4e1c\u897f\uff0c\u5728\u6267\u884c\u7684\u65f6\u5019\u8fd0\u884c\u901f\u5ea6\u5feb\u3002 \u52a8\u6001\u94fe\u63a5\u7684\u4f18\u70b9\u663e\u800c\u6613\u89c1\uff0c\u5c31\u662f\u5373\u4f7f\u9700\u8981\u6bcf\u4e2a\u7a0b\u5e8f\u90fd\u4f9d\u8d56\u540c\u4e00\u4e2a\u5e93\uff0c\u4f46\u662f\u8be5\u5e93\u4e0d\u4f1a\u50cf\u9759\u6001\u94fe\u63a5\u90a3\u6837\u5728\u5185\u5b58\u4e2d\u5b58\u5728\u591a\u4efd\u526f\u672c\uff0c\u800c\u662f\u8fd9\u591a\u4e2a\u7a0b\u5e8f\u5728\u6267\u884c\u65f6\u5171\u4eab\u540c\u4e00\u4efd\u526f\u672c\uff1b\u53e6\u4e00\u4e2a\u4f18\u70b9\u662f\uff0c\u66f4\u65b0\u4e5f\u6bd4\u8f83\u65b9\u4fbf\uff0c\u66f4\u65b0\u65f6\u53ea\u9700\u8981\u66ff\u6362\u539f\u6765\u7684\u76ee\u6807\u6587\u4ef6\uff0c\u800c\u65e0\u9700\u5c06\u6240\u6709\u7684\u7a0b\u5e8f\u518d\u91cd\u65b0\u94fe\u63a5\u4e00\u904d\u3002\u5f53\u7a0b\u5e8f\u4e0b\u4e00\u6b21\u8fd0\u884c\u65f6\uff0c\u65b0\u7248\u672c\u7684\u76ee\u6807\u6587\u4ef6\u4f1a\u88ab\u81ea\u52a8\u52a0\u8f7d\u5230\u5185\u5b58\u5e76\u4e14\u94fe\u63a5\u8d77\u6765\uff0c\u7a0b\u5e8f\u5c31\u5b8c\u6210\u4e86\u5347\u7ea7\u7684\u76ee\u6807\u3002\u4f46\u662f\u52a8\u6001\u94fe\u63a5\u4e5f\u662f\u6709\u7f3a\u70b9\u7684\uff0c\u56e0\u4e3a\u628a\u94fe\u63a5\u63a8\u8fdf\u5230\u4e86\u7a0b\u5e8f\u8fd0\u884c\u65f6\uff0c\u6240\u4ee5\u6bcf\u6b21\u6267\u884c\u7a0b\u5e8f\u90fd\u9700\u8981\u8fdb\u884c\u94fe\u63a5\uff0c\u6240\u4ee5\u6027\u80fd\u4f1a\u6709\u4e00\u5b9a\u635f\u5931\u3002 \u8bfe\u540e\u7ec3\u4e60 \u00b6 \u4f7f\u7528 gcc \u5c06 main.c \uff0c print.c \u7f16\u8bd1\u6210 main.S \uff0c print.S \uff0c\u7136\u540e\u4f7f\u7528 as \u5c06 main.S \uff0c print.S \u7f16\u8bd1\u6210 main.o \uff0c print.o \uff0c\u6700\u540e\u4f7f\u7528 ld \u5c06 main.o \uff0c print.o \u94fe\u63a5\u6210\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\u6765\u6267\u884c\u3002 \u4f7f\u7528 gcc \u5c06 print.c \u7f16\u8bd1\u6210\u9759\u6001\u94fe\u63a5\u5e93\uff0c\u7136\u540e\u4f7f\u7528 gcc \u5c06 main.c \u7f16\u8bd1\u6210\u53ef\u6267\u884c\u6587\u4ef6\u5e76\u5728\u7f16\u8bd1\u53c2\u6570\u4e2d\u6307\u5b9a\u9759\u6001\u94fe\u63a5\u5e93\u7684\u4f4d\u7f6e\u3002 \u4f7f\u7528 gcc \u5c06 print.c \u7f16\u8bd1\u6210\u52a8\u6001\u94fe\u63a5\u5e93\uff0c\u7136\u540e\u4f7f\u7528 gcc \u5c06 main.c \u7f16\u8bd1\u6210\u53ef\u6267\u884c\u6587\u4ef6\u5e76\u5728\u7f16\u8bd1\u53c2\u6570\u4e2d\u6307\u5b9a\u52a8\u6001\u94fe\u63a5\u5e93\u7684\u4f4d\u7f6e\u3002","title":"\u7f16\u8bd1\u4e0e\u94fe\u63a5"},{"location":"tutorial/compile-and-link/#\u7f16\u8bd1\u4e0e\u94fe\u63a5","text":"By: howardlau1999 \u3001 NelsonCheung \u5728\u4e4b\u524d\u7684 C/C++ \u8bfe\u7a0b\u4e2d\u4f60\u5df2\u7ecf\u5b66\u4f1a\u4e86\u7a0b\u5e8f\u7684\u5165\u53e3\u662f main() \u51fd\u6570\u3002\u4f46\u662f CPU \u53ea\u8ba4\u8bc6\u5730\u5740\uff0c\u53c8\u5982\u4f55\u77e5\u9053\u4e00\u4e2a\u7a0b\u5e8f\u4ece\u4f55\u5904\u5f00\u59cb\u6267\u884c\uff1f\u6211\u4eec\u53c8\u8981\u5982\u4f55\u7f16\u8bd1\u4e00\u4e2a\u6211\u4eec\u81ea\u5df1\u5199\u7684 CPU \u53ef\u4ee5\u8fd0\u884c\u7684\u7a0b\u5e8f\u5e76\u8ba9\u5b83\u771f\u6b63\u5730\u8dd1\u8d77\u6765\uff1f\u4e0b\u9762\u5c31\u5c06\u5e26\u4f60\u63ed\u5f00 main() \u51fd\u6570\u5e55\u540e\u7684\u79d8\u5bc6\uff0c\u5e76\u5e26\u4f60\u5b66\u4e60\u5982\u4f55\u7f16\u8bd1\u548c\u94fe\u63a5\uff0c\u8ba9\u6211\u4eec\u5199\u7684 C \u7a0b\u5e8f\u53ef\u4ee5\u5728\u6211\u4eec\u81ea\u5df1\u5199\u7684 CPU \u4e0a\u8fd0\u884c\u8d77\u6765\u3002","title":"\u7f16\u8bd1\u4e0e\u94fe\u63a5"},{"location":"tutorial/compile-and-link/#\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50","text":"\u4e3a\u4e86\u4fbf\u4e8e\u9610\u8ff0 C \u7a0b\u5e8f\u7684\u7f16\u8bd1\u548c\u94fe\u63a5\u7684\u8fc7\u7a0b\uff0c\u6211\u4eec\u9996\u5148\u51c6\u5907\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u3002 \u6211\u4eec\u5148\u7f16\u5199\u4e00\u4e2a print.h \u7684\u5934\u6587\u4ef6\uff0c\u58f0\u660e\u4e00\u4e2a\u540d\u4e3a print_something() \u7684\u51fd\u6570\u3002 #ifndef PRINT_H #define PRINT_H void print_something (); #endif \u7136\u540e\uff0c\u6211\u4eec\u5728 print.c \u4e2d\u5b9e\u73b0\u8fd9\u4e2a\u51fd\u6570\u3002 #include <stdio.h> #include \"print.h\" void print_something () { printf ( \"Hello YatCPU! \\n \" ); } \u6700\u540e\uff0c\u6211\u4eec\u5728 main.c \u4e2d\u4f7f\u7528\u8fd9\u4e2a\u51fd\u6570\u6253\u5370\u5e76\u8f93\u51fa\u3002 #include \"print.h\" int main () { print_something (); } \u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u8981\u5f00\u59cb\u7f16\u8bd1\u8fd0\u884c\uff0c\u7f16\u8bd1\u547d\u4ee4\u5982\u4e0b\u3002 gcc -o main.out main.c \u8fd9\u6761\u547d\u4ee4\u662f\u7f16\u8bd1 main.c \uff0c\u7136\u540e\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6 main.out \u3002\u5176\u4e2d\uff0c -o \u6307\u5b9a\u4e86\u751f\u6210\u7684\u53ef\u6267\u884c\u6587\u4ef6\u7684\u540d\u79f0\u3002\u4f46\u662f\uff0c\u76f4\u63a5\u8fd0\u884c\u4e0a\u8ff0\u547d\u4ee4\u4f1a\u51fa\u73b0\u4ee5\u4e0b\u9519\u8bef\u3002 main.c:(.text+0xa): undefined reference to `print_something' \u8fd9\u662f\u56e0\u4e3a main.c \u4e0d\u77e5\u9053\u51fd\u6570 print_something \u7684\u5b9e\u73b0\u3002\u800c\u51fd\u6570 print_something \u7684\u5b9e\u73b0\u5728\u6587\u4ef6 print.c \u4e2d\uff0c\u6211\u4eec\u9700\u8981\u5728\u7f16\u8bd1\u547d\u4ee4\u4e2d\u52a0\u4e0a\u5b83\uff0c\u5982\u4e0b\u6240\u793a\u3002 gcc -o main.out main.c print.c \u4e0a\u9762\u7684\u547d\u4ee4\u4e5f\u53ef\u4ee5\u8fd9\u6837\u5199\u3002 gcc main.c print.c -o main.out \u5728\u672c\u4f8b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86 gcc \u76f4\u63a5\u5c06\u4ee3\u7801 main.c print.c print.h \u7f16\u8bd1\u6210\u53ef\u6267\u884c\u6587\u4ef6 main.out \u7684\u3002\u5b9e\u9645\u4e0a\uff0cC/C++ \u7f16\u8bd1\u5668\u5728\u7f16\u8bd1\u4ee3\u7801\u65f6\u5305\u542b\u5982\u4e0b\u51e0\u4e2a\u6b65\u9aa4\u3002 \u9884\u5904\u7406 \u3002\u5904\u7406\u5b8f\u5b9a\u4e49\uff0c\u5982 #include , #define , #ifndef \u7b49\uff0c\u751f\u6210 \u9884\u5904\u7406\u6587\u4ef6 \uff0c\u4e00\u822c\u4ee5 .i \u4e3a\u540e\u7f00\u3002 \u7f16\u8bd1 \u3002\u5c06\u9884\u5904\u7406\u6587\u4ef6\u8f6c\u6362\u6210 \u6c47\u7f16\u4ee3\u7801\u6587\u4ef6 \uff0c\u4e00\u822c\u4ee5 .S \u4e3a\u540e\u7f00\u3002 \u6c47\u7f16 \u3002\u5c06\u6c47\u7f16\u4ee3\u7801\u6587\u4ef6\u6587\u4ef6\u8f6c\u6362\u6210 \u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6 \uff0c\u4e00\u822c\u4ee5 .o \u4e3a\u540e\u7f00\u3002 \u94fe\u63a5 \u3002\u5c06\u591a\u4e2a\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6\u94fe\u63a5\u751f\u6210 \u53ef\u6267\u884c\u6587\u4ef6 \uff0c\u4e00\u822c\u4ee5 .o \u4e3a\u540e\u7f00\u3002 \u4e0b\u9762\u6211\u4eec\u5206\u522b\u6765\u5b66\u4e60\u8fd9\u56db\u4e2a\u8fc7\u7a0b\u3002","title":"\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50"},{"location":"tutorial/compile-and-link/#\u9884\u5904\u7406","text":"\u9884\u5904\u7406\u53c8\u88ab\u79f0\u4e3a\u9884\u7f16\u8bd1\uff0c\u4e3b\u8981\u5904\u7406\u5b8f\u5b9a\u4e49\uff0c\u5982 #include , #define , #ifndef \u7b49\uff0c\u5e76\u5220\u9664\u6ce8\u91ca\u884c\uff0c\u8fd8\u4f1a\u6dfb\u52a0\u884c\u53f7\u548c\u6587\u4ef6\u540d\u6807\u8bc6\u3002\u5728\u7f16\u8bd1\u65f6\uff0c\u7f16\u8bd1\u5668\u4f1a\u4f7f\u7528\u4e0a\u8ff0\u4fe1\u606f\u4ea7\u751f\u8c03\u8bd5\u3001\u8b66\u544a\u548c\u7f16\u8bd1\u9519\u8bef\u65f6\u9700\u8981\u7528\u5230\u7684\u884c\u53f7\u4fe1\u606f\u3002 \u7ecf\u8fc7\u9884\u7f16\u8bd1\u751f\u6210\u7684 .i \u6587\u4ef6\u4e0d\u5305\u542b\u4efb\u4f55\u5b8f\u5b9a\u4e49\uff0c\u56e0\u4e3a\u6240\u6709\u7684\u5b8f\u5df2\u7ecf\u88ab\u5c55\u5f00\uff0c\u5e76\u4e14\u5305\u542b\u7684\u6587\u4ef6\u4e5f\u5df2\u7ecf\u88ab\u63d2\u5165\u5230 .i \u6587\u4ef6\u4e2d\u3002\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5bf9 main.c \u8fdb\u884c\u9884\u5904\u7406\uff0c\u751f\u6210 main.i \u9884\u5904\u7406\u6587\u4ef6\uff0c\u547d\u4ee4\u5982\u4e0b\u3002 gcc -o main.i -E main.c \u751f\u6210\u7684\u5185\u5bb9\u5982\u4e0b\u3002 # 1 \"main.c\" # 1 \"<built-in>\" # 1 \"<command-line>\" # 1 \"/usr/include/stdc-predef.h\" 1 3 4 # 1 \"<command-line>\" 2 # 1 \"main.c\" # 1 \"print.h\" 1 void print_something(); # 2 \"main.c\" 2 int main() { print_something(); }","title":"\u9884\u5904\u7406"},{"location":"tutorial/compile-and-link/#\u7f16\u8bd1","text":"\u7f16\u8bd1\u5219\u662f\u5c06\u9884\u5904\u7406\u6587\u4ef6\u8f6c\u6362\u6210\u6c47\u7f16\u4ee3\u7801\u6587\u4ef6\uff08 .S \u6587\u4ef6\uff09\u7684\u8fc7\u7a0b\uff0c\u5177\u4f53\u7684\u6b65\u9aa4\u4e3b\u8981\u6709\uff1a\u8bcd\u6cd5\u5206\u6790 -> \u8bed\u6cd5\u5206\u6790 -> \u8bed\u4e49\u5206\u6790\u53ca\u76f8\u5173\u7684\u4f18\u5316 -> \u4e2d\u95f4\u4ee3\u7801\u751f\u6210 -> \u76ee\u6807\u4ee3\u7801\u751f\u6210\u3002 \u6211\u4eec\u751f\u6210 main.c \u4ee3\u7801\u5bf9\u5e94\u7684\u6c47\u7f16\u4ee3\u7801\u3002\u547d\u4ee4\u5982\u4e0b\uff0c\u5176\u4e2d\uff0c -masm=intel \u662f\u4e3a\u4e86\u751f\u6210 Intel \u98ce\u683c\u7684\u6c47\u7f16\u4ee3\u7801\uff0c\u5426\u5219\u9ed8\u8ba4 AT&T \u98ce\u683c\u7684\u4ee3\u7801\u3002 gcc -o hello.s -S hello.c -masm = intel \u751f\u6210\u7684 hello.s \u5185\u5bb9\u5982\u4e0b\u3002 .file \"main.c\" .intel_syntax noprefix .text .globl main .type main , @function main: .LFB0: .cfi_startproc push rbp .cfi_def_cfa_offset 16 .cfi_offset 6 , -16 mov rbp , rsp .cfi_def_cfa_register 6 mov eax , 0 call print_something mov eax , 0 pop rbp .cfi_def_cfa 7 , 8 ret .cfi_endproc .LFE0: .size main , .-main .ident \"GCC: (Ubuntu 5.4.0-6ubuntu1~16.04.12) 5.4.0 20160609\" .section .note.GNU-stack , \"\" , @progbits","title":"\u7f16\u8bd1"},{"location":"tutorial/compile-and-link/#\u6c47\u7f16","text":"\u6c47\u7f16\u9636\u6bb5\u662f\u5c06\u6c47\u7f16\u4ee3\u7801\u7f16\u8bd1\u6210\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6\uff08Relocatable file\uff09\u3002\u6c47\u7f16\u5668\uff08as\uff09\u5c06 main.S \u7ffb\u8bd1\u6210\u673a\u5668\u8bed\u8a00\u6307\u4ee4\uff0c\u628a\u8fd9\u4e9b\u6307\u4ee4\u548c\u5176\u4ed6\u9644\u52a0\u7684\u4fe1\u606f\u6253\u5305\u6210\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6\uff08 .o \u6587\u4ef6\uff09\u3002\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6\u662f\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u5b83\u7684\u5b57\u8282\u7f16\u7801\u662f\u673a\u5668\u8bed\u8a00\u6307\u4ee4\u800c\u4e0d\u662f\u5b57\u7b26\u3002\u5982\u679c\u6211\u4eec\u5728\u6587\u672c\u7f16\u8bd1\u5668\u4e2d\u6253\u5f00\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6\uff0c\u770b\u5230\u7684\u5c06\u662f\u4e00\u5806\u4e71\u7801\uff0c\u751f\u6210\u547d\u4ee4\u5982\u4e0b\u3002 gcc -o main.o -c main.c \u5728 Linux \u4e0b\uff0c\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6\u7684\u683c\u5f0f\u662fELF\u6587\u4ef6\u683c\u5f0f\uff0c\u5176\u5305\u542b\u4e86ELF\u5934\uff08ELF header\uff09\u3001\u7a0b\u5e8f\u5934\u8868\uff08Program header table\uff09\u3001\u8282\uff08Section\uff09\u548c\u8282\u5934\u8868\uff08Section header table\uff09\u7b49\u4fe1\u606f\u3002","title":"\u6c47\u7f16"},{"location":"tutorial/compile-and-link/#\u94fe\u63a5","text":"\u94fe\u63a5\u9636\u6bb5\u5c31\u662f\u628a\u82e5\u5e72\u4e2a\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6( .o \u6587\u4ef6)\u6574\u5408\u6210\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\uff08Executable file\uff09\u3002\u4e0a\u9762\u5df2\u7ecf\u63d0\u5230\uff0c\u6b63\u662f\u56e0\u4e3a\u51fd\u6570\u7684\u5b9e\u73b0\u53ef\u80fd\u5206\u5e03\u5728\u591a\u4e2a\u6587\u4ef6\u4e2d\uff0c\u6240\u4ee5\u5728\u94fe\u63a5\u9636\u6bb5\uff0c\u6211\u4eec\u9700\u8981\u63d0\u4f9b\u51fd\u6570\u5b9e\u73b0\u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u6700\u7ec8\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\u3002\u94fe\u63a5\u9636\u6bb5\u662f\u901a\u8fc7\u94fe\u63a5\u5668(ld)\u5b8c\u6210\u7684\uff0c\u94fe\u63a5\u5668\u5c06\u8f93\u5165\u7684\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6\u52a0\u5de5\u540e\u5408\u6210\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\u3002\u8fd9\u4e9b\u76ee\u6807\u6587\u4ef6\u4e2d\u5f80\u5f80\u6709\u76f8\u4e92\u7684\u6570\u636e\u3001\u51fd\u6570\u5f15\u7528\u3002\u4f8b\u5982\uff0c\u6211\u4eec\u5728 main.c \u7684main\u51fd\u6570\u4e2d\u5f15\u7528\u4e86 print.c \u4e2d print_something \u51fd\u6570\u7684\u5b9e\u73b0\u3002 \u6211\u4eec\u53ef\u4ee5\u4f7f\u7528gcc\u6765\u8fdb\u884c\u94fe\u63a5\uff0c\u547d\u4ee4\u5982\u4e0b\u3002 gcc -o main.o -c main.c gcc -o print.o -c print.c gcc -o main.out main.o print.o \u94fe\u63a5\u5b8c\u6210\u540e\uff0c\u6211\u4eec\u4f7f\u7528\u547d\u4ee4 ./main.out \u5373\u53ef\u6267\u884c\u3002\u4e8b\u5b9e\u4e0a\uff0c\u4e0a\u9762\u4e09\u6761\u8bed\u53e5\u7b49\u4ef7\u4e8e gcc -o main.out main.c print.c \u751f\u6210\u7684\u4e24\u4e2a main.out \u4e5f\u662f\u5b8c\u5168\u4e00\u6837\u7684\u3002 \u540c\u5b66\u4eec\u53ef\u80fd\u4f1a\u611f\u5230\u5947\u602a\u4e3a\u4ec0\u4e48\u9884\u5904\u7406\u3001\u7f16\u8bd1\u3001\u6c47\u7f16\u548c\u94fe\u63a5\u90fd\u662f\u4f7f\u7528gcc\uff0c\u800c\u4e0d\u662f\u4f7f\u7528as\u3001ld\u7b49\uff0c\u8fd9\u662f\u56e0\u4e3agcc\u5168\u540d\u53ebGNU Compiler Collection\uff0c\u662f\u4e00\u4e2a\u7f16\u8bd1\u5de5\u5177\u7684\u96c6\u5408\uff0c\u6211\u4eec\u53ef\u4ee5\u7b80\u5355\u7406\u89e3\u4e3agcc\u5185\u90e8\u4f1a\u81ea\u52a8\u8c03\u7528as\u3001ld\u7b49\u3002\u5728\u672c\u4f8b\u4e2d\uff0c\u6211\u4eec\u53ea\u9700\u7b80\u5355\u4f7f\u7528gcc\u6765\u5b8c\u6210\u4e0a\u8ff0\u8fc7\u7a0b\u5373\u53ef\u3002 \u94fe\u63a5\u5b9e\u9645\u4e0a\u53ef\u4ee5\u5206\u4e3a\u9759\u6001\u94fe\u63a5\u548c\u52a8\u6001\u94fe\u63a5\u4e24\u79cd\u65b9\u5f0f\u3002\u4e0a\u9762\u5448\u73b0\u7684\u94fe\u63a5\u65b9\u5f0f\u662f\u9759\u6001\u94fe\u63a5\u3002\u5728\u9759\u6001\u94fe\u63a5\u65f6\uff0c\u94fe\u63a5\u5668\u5c06\u51fd\u6570\u7684\u5b9e\u73b0\u4ee3\u7801\u4ece\u7ed9\u51fa\u7684\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6\u6216\u9759\u6001\u94fe\u63a5\u5e93\u4e2d\u62f7\u8d1d\u5230\u6700\u7ec8\u7684\u53ef\u6267\u884c\u7a0b\u5e8f\u4e2d\uff0c\u5f62\u6210\u4e00\u4e2a\u6587\u4ef6\u3002\u7531\u4e8e\u53ef\u6267\u884c\u7a0b\u5e8f\u53ef\u80fd\u94fe\u63a5\u4e86\u591a\u4e2a\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6\uff0c\u800c\u5728\u6bcf\u4e00\u4e2a\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6\u4e2d\uff0c\u5404\u4e2a\u51fd\u6570\u7684\u5730\u5740\u53c8\u662f\u72ec\u7acb\u7684\u3002\u4e3a\u4e86\u5c06\u8fd9\u4e9b\u51fd\u6570\u653e\u5230\u53ef\u6267\u6587\u4ef6\u4e2d\uff0c\u9700\u8981\u4e3a\u5176\u91cd\u65b0\u5206\u914d\u5730\u5740\u3002\u56e0\u6b64\uff0c\u5728\u9759\u6001\u94fe\u63a5\u65f6\uff0c\u94fe\u63a5\u5668\u4f1a\u505a\u4e24\u4ef6\u4e8b\uff0c\u4e00\u662f\u7b26\u53f7\u89e3\u6790\uff0c\u628a\u53ef\u6267\u884c\u7a0b\u5e8f\u4e2d\u7528\u5230\u7684\u51fd\u6570\u7684\u58f0\u660e\u548c\u5176\u5728\u53ef\u91cd\u5b9a\u4f4d\u4e2d\u7684\u5b9e\u73b0\u8054\u7cfb\u8d77\u6765\uff1b\u4e8c\u662f\u91cd\u5b9a\u4f4d\uff0c\u628a\u51fd\u6570\u7684\u8d77\u59cb\u5730\u5740\u548c\u5185\u5b58\u5730\u5740\u5bf9\u5e94\u8d77\u6765\uff0c\u7136\u540e\u4fee\u6539\u6240\u6709\u5bf9\u51fd\u6570\u7684\u5f15\u7528\u3002 \u9759\u6001\u94fe\u63a5\u4f1a\u628a\u6240\u6709\u51fd\u6570\u7684\u5b9e\u73b0\u90fd\u5305\u542b\u8fdb\u6700\u7ec8\u7684\u53ef\u6267\u884c\u6587\u4ef6\u4e2d\uff0c\u4f46\u8fd9\u4f1a\u4f7f\u5f97\u53ef\u6267\u884c\u6587\u4ef6\u7684\u5927\u5c0f\u53d8\u5f97\u975e\u5e38\u5927\u3002\u6ce8\u610f\u5230\u53ef\u6267\u884c\u6587\u4ef6\u6700\u7ec8\u4f1a\u88ab\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\u6267\u884c\uff0c\u6709\u6ca1\u6709\u4e00\u79cd\u529e\u6cd5\u80fd\u591f\u8ba9\u53ef\u6267\u884c\u6587\u4ef6\u4e2d\u7684\u51fd\u6570\u7684\u5b9e\u73b0\u4e0d\u5fc5\u5305\u542b\u8fdb\u6587\u4ef6\u4e2d\uff0c\u800c\u662f\u5728\u88ab\u8c03\u7528\u65f6\u624d\u52a0\u8f7d\u8fdb\u5185\u5b58\uff1f\u8fd9\u6837\u5c31\u80fd\u591f\u5927\u5927\u51cf\u5c0f\u53ef\u6267\u884c\u6587\u4ef6\u7684\u5927\u5c0f\u3002\u8fd9\u79cd\u94fe\u63a5\u65b9\u5f0f\u88ab\u79f0\u4e3a\u52a8\u6001\u94fe\u63a5\u3002\u5728\u7f16\u8bd1\u7684\u94fe\u63a5\u9636\u6bb5\uff0c\u52a8\u6001\u94fe\u63a5\u5e93\u53ea\u63d0\u4f9b\u7b26\u53f7\u8868\u548c\u5176\u4ed6\u5c11\u91cf\u4fe1\u606f\u7528\u4e8e\u4fdd\u8bc1\u6240\u6709\u7b26\u53f7\u5f15\u7528\u90fd\u6709\u5b9a\u4e49\uff0c\u4fdd\u8bc1\u7f16\u8bd1\u987a\u5229\u901a\u8fc7\u3002\u52a8\u6001\u94fe\u63a5\u5668\uff08ld.so\uff09\u5728\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u6839\u636e\u8bb0\u5f55\u7684\u5171\u4eab\u5bf9\u8c61\u7684\u7b26\u53f7\u5b9a\u4e49\u6765\u52a8\u6001\u52a0\u8f7d\u5171\u4eab\u5e93\uff0c\u7136\u540e\u5b8c\u6210\u91cd\u5b9a\u4f4d\u3002\u5728\u6b64\u53ef\u6267\u884c\u6587\u4ef6\u88ab\u6267\u884c\u65f6\uff0c\u52a8\u6001\u94fe\u63a5\u5e93\u7684\u5168\u90e8\u5185\u5bb9\u5c06\u88ab\u6620\u5c04\u5230\u8fd0\u884c\u65f6\u76f8\u5e94\u8fdb\u7a0b\u7684\u865a\u5730\u5740\u7a7a\u95f4\u3002\u52a8\u6001\u94fe\u63a5\u7a0b\u5e8f\u5c06\u6839\u636e\u53ef\u6267\u884c\u7a0b\u5e8f\u4e2d\u8bb0\u5f55\u7684\u4fe1\u606f\u627e\u5230\u76f8\u5e94\u7684\u51fd\u6570\u4ee3\u7801\u3002 \u4e24\u79cd\u94fe\u63a5\u65b9\u5f0f\u5404\u81ea\u90fd\u6709\u4f18\u7f3a\u70b9\u3002 \u9759\u6001\u94fe\u63a5\u7684\u7f3a\u70b9\u5f88\u660e\u663e\uff0c\u4e00\u662f\u6d6a\u8d39\u7a7a\u95f4\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u53ef\u6267\u884c\u7a0b\u5e8f\u4e2d\u5bf9\u6240\u6709\u9700\u8981\u7684\u76ee\u6807\u6587\u4ef6\u90fd\u8981\u6709\u4e00\u4efd\u526f\u672c\uff0c\u6240\u4ee5\u5982\u679c\u591a\u4e2a\u7a0b\u5e8f\u5bf9\u540c\u4e00\u4e2a\u76ee\u6807\u6587\u4ef6\u90fd\u6709\u4f9d\u8d56\uff0c\u5982\u591a\u4e2a\u7a0b\u5e8f\u4e2d\u90fd\u8c03\u7528\u4e86 printf \u51fd\u6570\uff0c\u5219\u8fd9\u591a\u4e2a\u7a0b\u5e8f\u4e2d\u90fd\u542b\u6709 printf.o \uff0c\u6240\u4ee5\u540c\u4e00\u4e2a\u76ee\u6807\u6587\u4ef6\u90fd\u5728\u5185\u5b58\u5b58\u5728\u591a\u4e2a\u526f\u672c\uff1b\u53e6\u4e00\u65b9\u9762\u5c31\u662f\u66f4\u65b0\u6bd4\u8f83\u56f0\u96be\uff0c\u56e0\u4e3a\u6bcf\u5f53\u5e93\u51fd\u6570\u7684\u4ee3\u7801\u4fee\u6539\u4e86\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u9700\u8981\u91cd\u65b0\u8fdb\u884c\u7f16\u8bd1\u94fe\u63a5\u5f62\u6210\u53ef\u6267\u884c\u7a0b\u5e8f\u3002\u4f46\u662f\u9759\u6001\u94fe\u63a5\u7684\u4f18\u70b9\u5c31\u662f\uff0c\u5728\u53ef\u6267\u884c\u7a0b\u5e8f\u4e2d\u5df2\u7ecf\u5177\u5907\u4e86\u6240\u6709\u6267\u884c\u7a0b\u5e8f\u6240\u9700\u8981\u7684\u4efb\u4f55\u4e1c\u897f\uff0c\u5728\u6267\u884c\u7684\u65f6\u5019\u8fd0\u884c\u901f\u5ea6\u5feb\u3002 \u52a8\u6001\u94fe\u63a5\u7684\u4f18\u70b9\u663e\u800c\u6613\u89c1\uff0c\u5c31\u662f\u5373\u4f7f\u9700\u8981\u6bcf\u4e2a\u7a0b\u5e8f\u90fd\u4f9d\u8d56\u540c\u4e00\u4e2a\u5e93\uff0c\u4f46\u662f\u8be5\u5e93\u4e0d\u4f1a\u50cf\u9759\u6001\u94fe\u63a5\u90a3\u6837\u5728\u5185\u5b58\u4e2d\u5b58\u5728\u591a\u4efd\u526f\u672c\uff0c\u800c\u662f\u8fd9\u591a\u4e2a\u7a0b\u5e8f\u5728\u6267\u884c\u65f6\u5171\u4eab\u540c\u4e00\u4efd\u526f\u672c\uff1b\u53e6\u4e00\u4e2a\u4f18\u70b9\u662f\uff0c\u66f4\u65b0\u4e5f\u6bd4\u8f83\u65b9\u4fbf\uff0c\u66f4\u65b0\u65f6\u53ea\u9700\u8981\u66ff\u6362\u539f\u6765\u7684\u76ee\u6807\u6587\u4ef6\uff0c\u800c\u65e0\u9700\u5c06\u6240\u6709\u7684\u7a0b\u5e8f\u518d\u91cd\u65b0\u94fe\u63a5\u4e00\u904d\u3002\u5f53\u7a0b\u5e8f\u4e0b\u4e00\u6b21\u8fd0\u884c\u65f6\uff0c\u65b0\u7248\u672c\u7684\u76ee\u6807\u6587\u4ef6\u4f1a\u88ab\u81ea\u52a8\u52a0\u8f7d\u5230\u5185\u5b58\u5e76\u4e14\u94fe\u63a5\u8d77\u6765\uff0c\u7a0b\u5e8f\u5c31\u5b8c\u6210\u4e86\u5347\u7ea7\u7684\u76ee\u6807\u3002\u4f46\u662f\u52a8\u6001\u94fe\u63a5\u4e5f\u662f\u6709\u7f3a\u70b9\u7684\uff0c\u56e0\u4e3a\u628a\u94fe\u63a5\u63a8\u8fdf\u5230\u4e86\u7a0b\u5e8f\u8fd0\u884c\u65f6\uff0c\u6240\u4ee5\u6bcf\u6b21\u6267\u884c\u7a0b\u5e8f\u90fd\u9700\u8981\u8fdb\u884c\u94fe\u63a5\uff0c\u6240\u4ee5\u6027\u80fd\u4f1a\u6709\u4e00\u5b9a\u635f\u5931\u3002","title":"\u94fe\u63a5"},{"location":"tutorial/compile-and-link/#\u8bfe\u540e\u7ec3\u4e60","text":"\u4f7f\u7528 gcc \u5c06 main.c \uff0c print.c \u7f16\u8bd1\u6210 main.S \uff0c print.S \uff0c\u7136\u540e\u4f7f\u7528 as \u5c06 main.S \uff0c print.S \u7f16\u8bd1\u6210 main.o \uff0c print.o \uff0c\u6700\u540e\u4f7f\u7528 ld \u5c06 main.o \uff0c print.o \u94fe\u63a5\u6210\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\u6765\u6267\u884c\u3002 \u4f7f\u7528 gcc \u5c06 print.c \u7f16\u8bd1\u6210\u9759\u6001\u94fe\u63a5\u5e93\uff0c\u7136\u540e\u4f7f\u7528 gcc \u5c06 main.c \u7f16\u8bd1\u6210\u53ef\u6267\u884c\u6587\u4ef6\u5e76\u5728\u7f16\u8bd1\u53c2\u6570\u4e2d\u6307\u5b9a\u9759\u6001\u94fe\u63a5\u5e93\u7684\u4f4d\u7f6e\u3002 \u4f7f\u7528 gcc \u5c06 print.c \u7f16\u8bd1\u6210\u52a8\u6001\u94fe\u63a5\u5e93\uff0c\u7136\u540e\u4f7f\u7528 gcc \u5c06 main.c \u7f16\u8bd1\u6210\u53ef\u6267\u884c\u6587\u4ef6\u5e76\u5728\u7f16\u8bd1\u53c2\u6570\u4e2d\u6307\u5b9a\u52a8\u6001\u94fe\u63a5\u5e93\u7684\u4f4d\u7f6e\u3002","title":"\u8bfe\u540e\u7ec3\u4e60"},{"location":"tutorial/interrupt-and-exception/","text":"\u4e2d\u65ad\u548c\u5f02\u5e38 \u00b6 By: howardlau1999 \u7b80\u4ecb \u00b6 \u5728\u4f7f\u7528\u7535\u8111\u7684\u65f6\u5019\uff0c\u4f60\u53ef\u4ee5\u4e00\u8fb9\u542c\u97f3\u4e50\u4e00\u8fb9\u4e0a\u7f51\u51b2\u6d6a\u3001\u4e00\u8fb9\u5728\u7ebf\u804a\u5929\u4e00\u8fb9\u770b\u89c6\u9891\uff0c\u540e\u53f0\u53ef\u80fd\u8fd8\u6302\u7740\u4e1c\u897f\u5728\u4e0b\u8f7d\u3002\u7136\u800c\uff0c\u771f\u6b63\u540c\u65f6\u8fd0\u884c\u7684\u7a0b\u5e8f\u6570\u91cf\u6700\u591a\u4e0d\u4f1a\u8d85\u8fc7 CPU \u7684\u6838\u5fc3\u6570\uff0c\u4e00\u822c\u7684\u7535\u8111\u6709 4 \u6838\uff0c\u6240\u4ee5\u6700\u591a\u53ea\u80fd\u540c\u65f6\u8fd0\u884c 4 \u4e2a\u7a0b\u5e8f\u3002\u53e6\u5916\uff0c\u5f53\u4f60\u5199\u7684\u7a0b\u5e8f\u51fa Bug \u7684\u65f6\u5019\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u5e2e\u4f60\u7ed3\u675f\u7a0b\u5e8f\uff0c\u5e76\u5c06\u7a0b\u5e8f\u7ed3\u675f\u7684\u539f\u56e0\u62a5\u544a\u7ed9\u4f60\uff0c\u800c\u4e0d\u4f1a\u5f71\u54cd\u5230\u5176\u4ed6\u7a0b\u5e8f\u7684\u8fd0\u884c\u3002 \u4f60\u6216\u8bb8\u5df2\u7ecf\u77e5\u9053\uff0c\u6211\u4eec\u65e5\u5e38\u6240\u4f7f\u7528\u7684\u64cd\u4f5c\u7cfb\u7edf\u5b9e\u9645\u4e0a\u662f\u4f1a\u4e0d\u505c\u5730\u5207\u6362\u7a0b\u5e8f\u3002\u7136\u800c\uff0c\u4e00\u65e6\u7a0b\u5e8f\u5f00\u59cb\u8fd0\u884c\uff0c\u9664\u975e\u5b83\u4e3b\u52a8\u8df3\u8f6c\u5230\u5176\u4ed6\u7a0b\u5e8f\uff0c\u5426\u5219\u5c06\u6c38\u8fdc\u72ec\u5360\u4e00\u4e2a\u6838\u5fc3\uff0c\u54ea\u6015\u5b83\u662f\u5728\u6b7b\u5faa\u73af\u3002\u8fd9\u6837\u7684\u60c5\u51b5\u4e0b\uff0c\u64cd\u4f5c\u7cfb\u7edf\u53c8\u5982\u4f55\u83b7\u5f97 CPU \u6838\u5fc3\u7684\u4f7f\u7528\u6743\u5462\uff1f\u7b54\u6848\u662f\uff0c\u6211\u4eec\u65e5\u5e38\u6240\u4f7f\u7528\u7684 Windows \u548c Linux \u7b49\u64cd\u4f5c\u7cfb\u7edf\u662f \u62a2\u5360\u5f0f\u8c03\u5ea6 \u7684\u3002\u5728\u64cd\u4f5c\u7cfb\u7edf\u542f\u52a8\u7684\u65f6\u5019\uff0c\u5b83\u4eec\u4f1a\u6253\u5f00 CPU \u4e0a\u7684\u5b9a\u65f6\u5668\u4e2d\u65ad\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\uff0cCPU \u5c31\u4f1a\u5f3a\u884c\u6682\u505c\u5f53\u524d\u8fd0\u884c\u7684\u7a0b\u5e8f\uff0c\u5e76\u8df3\u8f6c\u5230\u64cd\u4f5c\u7cfb\u7edf\u8bbe\u7f6e\u7684\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u4e2d\u3002\u8fd9\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5c31\u6709\u673a\u4f1a\u4fdd\u5b58\u597d\u8fdb\u7a0b\u7684\u72b6\u6001\uff0c\u5e76\u6267\u884c\u8c03\u5ea6\u7b97\u6cd5\u9009\u62e9\u4e0b\u4e00\u4e2a\u9700\u8981\u8fd0\u884c\u7684\u7a0b\u5e8f\u4e86\u3002\u5f53\u7136\uff0c\u9664\u4e86\u62a2\u5360\u5f0f\u8c03\u5ea6\uff0c\u8fd8\u6709\u534f\u4f5c\u5f0f\u8c03\u5ea6\uff0c\u5728\u8fd9\u79cd\u8c03\u5ea6\u65b9\u5f0f\u4e2d\uff0c\u9700\u8981\u7a0b\u5e8f\u5458\u5728\u4ee3\u7801\u4e2d\u624b\u52a8\u63d2\u5165\u8df3\u8f6c\u5230\u64cd\u4f5c\u7cfb\u7edf\u7684\u4ee3\u7801\uff0c\u5426\u5219\u7a0b\u5e8f\u5c06\u4e00\u76f4\u8fd0\u884c\u4e0b\u53bb\u3002 \u800c\u5728\u7a0b\u5e8f\u51fa Bug \u7684\u65f6\u5019\uff0c\u4f8b\u5982\u8bbf\u5b58\u8d8a\u754c\u3001\u9664\u96f6\u9519\u8bef\u7b49\uff0c\u5219\u4f1a\u89e6\u53d1 CPU \u4e2d\u7684\u5f02\u5e38\uff0c\u8fd9\u65f6\uff0cCPU \u540c\u6837\u4f1a\u5f3a\u884c\u6682\u505c\u76ee\u524d\u7684\u7a0b\u5e8f\uff0c\u8df3\u8f6c\u5230\u64cd\u4f5c\u7cfb\u7edf\u9884\u5148\u8bbe\u7f6e\u597d\u7684\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f\u4e2d\u3002\u8fd9\u6837\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5c31\u53ef\u4ee5\u8bb0\u5f55\u4e0b\u9519\u8bef\u7684\u539f\u56e0\uff0c\u5e76\u8c03\u7528\u7a0b\u5e8f\u5458\u8bbe\u7f6e\u597d\u7684\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f\u6765\u5904\u7406\u9519\u8bef\u3002\u5f53\u7136\uff0c\u4f60\u4e5f\u5f88\u5c11\u7f16\u5199\u81ea\u5df1\u7684\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f\uff0c\u90a3\u4e48\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4fbf\u4f1a\u9ed8\u8ba4\u5730\u5c06\u4f60\u7684\u8fdb\u7a0b\u7ed3\u675f\u6389\u4e86\u3002 \u5728\u672c\u5b9e\u9a8c\u4e2d\uff0c\u4f60\u5c06\u901a\u8fc7\u5b9e\u8df5\u4e86\u89e3 CPU \u7684\u4e2d\u65ad\u548c\u5f02\u5e38\u662f\u5982\u4f55\u5b9e\u73b0\u7684\uff0cCPU \u662f\u5982\u4f55\u6253\u65ad\u6b63\u5e38\u7684\u6267\u884c\u6d41\u8fdb\u5165\u4e2d\u65ad\u548c\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f\u7684\uff0c\u53c8\u662f\u5982\u4f55\u544a\u8bc9\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u5fc5\u8981\u7684\u4fe1\u606f\uff0c\u4ee5\u53ca\u5982\u4f55\u4ece\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u8fd4\u56de\u5230\u6b63\u5e38\u7684\u6267\u884c\u6d41\u4e2d\u3002 CSR \u00b6 CSR (Control and Status Registers, \u63a7\u5236\u548c\u72b6\u6001\u5bc4\u5b58\u5668) \u7528\u6765\u63a7\u5236\u548c\u4fdd\u5b58 CPU \u7684\u5176\u4ed6\u529f\u80fd\u7684\u72b6\u6001\uff0c\u4f8b\u5982\u4e2d\u65ad\u4f7f\u80fd\u72b6\u6001\u3001\u7279\u6743\u7b49\u7ea7\u7b49\u3002 mstatus \u5bc4\u5b58\u5668 \u00b6 mstatus \u5bc4\u5b58\u5668\u7528\u4e8e\u8bb0\u5f55\u673a\u5668\u6a21\u5f0f\u4e0b\u7684\u72b6\u6001\uff0c\u4f8b\u5982\u4e2d\u65ad\u662f\u5426\u542f\u7528\u7b49\u3002 mepc \u5bc4\u5b58\u5668 \u00b6 mepc \u5bc4\u5b58\u5668\u4fdd\u5b58\u4e86\u4e2d\u65ad\u8fd4\u56de\u540e\u9700\u8981\u6267\u884c\u7684\u6307\u4ee4\u5730\u5740\uff0c\u5f53 CPU \u6267\u884c\u4e2d\u65ad\u65f6\uff0c mepc \u5bc4\u5b58\u5668\u88ab\u81ea\u52a8\u8bbe\u7f6e\u4e3a\u5f53\u524d\u6307\u4ee4\u7684\u5730\u5740\uff0c\u5982\u679c EX \u9636\u6bb5\u6b63\u5728\u6267\u884c\u8df3\u8f6c\uff0c\u5219\u8bbe\u7f6e\u4e3a\u8df3\u8f6c\u7684\u76ee\u6807\u5730\u5740\u3002 mcause \u5bc4\u5b58\u5668 \u00b6 mcause \u5bc4\u5b58\u5668\u4fdd\u5b58\u4e86\u4e2d\u65ad\u7684\u539f\u56e0\u3002 mtvec \u5bc4\u5b58\u5668 \u00b6 mtvec \u5bc4\u5b58\u5668\u4fdd\u5b58\u4e86\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u7684\u5730\u5740\uff0c\u5f53 CPU \u6267\u884c\u4e2d\u65ad\u65f6\uff0c pc \u5bc4\u5b58\u5668\u88ab\u81ea\u52a8\u8bbe\u7f6e\u4e3a mtvec \u5bc4\u5b58\u5668\u4e2d\u4fdd\u5b58\u7684\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u7684\u5730\u5740\u3002 \u5728\u4e2d\u65ad\u53d1\u751f\u7684\u65f6\u5019\uff0cCPU \u9700\u8981\u6e05\u7a7a\u5e76\u963b\u585e\u6d41\u6c34\u7ebf\uff0c\u5e76\u5728 CSR \u5bc4\u5b58\u5668\u5199\u5165\u4e2d\u65ad\u76f8\u5173\u7684\u4fe1\u606f\u3002\u7531\u4e8e CSR \u5bc4\u5b58\u5668\u5806\u5b9e\u73b0\u53ea\u6709\u4e00\u4e2a\u8bfb\u5199\u7aef\u53e3\uff0c\u56e0\u6b64\uff0cCPU \u9700\u8981\u591a\u4e2a\u5468\u671f\u624d\u80fd\u5b8c\u6210 CSR \u5bc4\u5b58\u5668\u7684\u5199\u5165\u3002\u5728\u8bbe\u7f6e\u5b8c CSR \u5bc4\u5b58\u5668\u540e\uff0c\u53d1\u51fa\u63a7\u5236\u4fe1\u53f7\uff0cCPU \u8df3\u8f6c\u5230 mtvec \u4e2d\u4fdd\u5b58\u7684\u6307\u4ee4\u5730\u5740\uff0c\u5f00\u59cb\u6267\u884c\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u3002 \u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f \u00b6 \u4e3a\u4e86\u5c3d\u5feb\u5904\u7406\u4e2d\u65ad\uff0cCPU \u4ec5\u4f1a\u5c06\u6700\u57fa\u672c\u7684\u4e2d\u65ad\u53d1\u751f\u5730\u5740\u548c\u4e2d\u65ad\u539f\u56e0\u7b49\u4fdd\u5b58\u5230 CSR \u5bc4\u5b58\u5668\u4e2d\u3002\u66f4\u590d\u6742\u7684\u529f\u80fd\u7531\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u5b9e\u73b0\u3002 \u7a0b\u5e8f\u6b63\u5e38\u6267\u884c\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u4f7f\u7528\u5230\u901a\u7528\u5bc4\u5b58\u5668\u5806\u3002\u4e3a\u4e86\u80fd\u591f\u8ba9\u4e2d\u65ad\u8fd4\u56de\u540e\uff0c\u539f\u6765\u7684\u6267\u884c\u6d41\u7a0b\u4e0d\u53d7\u5f71\u54cd\uff0c\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u9700\u8981\u7acb\u523b\u5148\u5c06\u5f53\u524d\u6240\u6709\u5bc4\u5b58\u5668\u7684\u5185\u5bb9\u5199\u5165\u5185\u5b58\u4e2d\uff0c\u7136\u540e\u518d\u8c03\u7528\u6211\u4eec\u81ea\u5b9a\u4e49\u7684\u51fd\u6570\u5904\u7406\u4e2d\u65ad\u3002\u5728\u51fd\u6570\u8fd4\u56de\u540e\uff0c\u6211\u4eec\u9700\u8981\u5c06\u539f\u6765\u5185\u5b58\u4e2d\u7684\u5bc4\u5b58\u5668\u5185\u5bb9\u6062\u590d\u5230 CPU \u4e2d\uff0c\u5e76\u8c03\u7528 mret \u6307\u4ee4\u4ece\u4e2d\u65ad\u4e2d\u8fd4\u56de\uff0c\u6062\u590d\u539f\u6765\u7a0b\u5e8f\u7684\u6267\u884c\u3002 \u6b64\u5916\uff0c\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u672c\u8eab\u4e5f\u9700\u8981\u6808\u6765\u4fdd\u5b58\u51fd\u6570\u6808\u5e27\uff0c\u6240\u4ee5\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u4e2d\u8fd8\u9700\u8981\u5207\u6362\u6808\u3002\u4e00\u79cd\u529e\u6cd5\u662f\u76f4\u63a5\u4f7f\u7528\u539f\u6765\u7a0b\u5e8f\u7684\u6808\uff0c\u4f46\u8fd9\u6837\u6709\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6808\u6ea2\u51fa\u3002\u4e3a\u4e86\u5b89\u5168\u8003\u8651\uff0c\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u4f7f\u7528\u5355\u72ec\u7684\u5185\u5b58\u7a7a\u95f4\u4f5c\u4e3a\u5176\u8fd0\u884c\u6808\u3002\u4e0a\u9762\u6240\u8bf4\u7684\u4fdd\u5b58\u5bc4\u5b58\u5668\u5185\u5bb9\uff0c\u53ef\u4ee5\u76f4\u63a5\u4fdd\u5b58\u5728\u4e2d\u65ad\u6808\u4e0a\u3002","title":"\u4e2d\u65ad\u548c\u5f02\u5e38"},{"location":"tutorial/interrupt-and-exception/#\u4e2d\u65ad\u548c\u5f02\u5e38","text":"By: howardlau1999","title":"\u4e2d\u65ad\u548c\u5f02\u5e38"},{"location":"tutorial/interrupt-and-exception/#\u7b80\u4ecb","text":"\u5728\u4f7f\u7528\u7535\u8111\u7684\u65f6\u5019\uff0c\u4f60\u53ef\u4ee5\u4e00\u8fb9\u542c\u97f3\u4e50\u4e00\u8fb9\u4e0a\u7f51\u51b2\u6d6a\u3001\u4e00\u8fb9\u5728\u7ebf\u804a\u5929\u4e00\u8fb9\u770b\u89c6\u9891\uff0c\u540e\u53f0\u53ef\u80fd\u8fd8\u6302\u7740\u4e1c\u897f\u5728\u4e0b\u8f7d\u3002\u7136\u800c\uff0c\u771f\u6b63\u540c\u65f6\u8fd0\u884c\u7684\u7a0b\u5e8f\u6570\u91cf\u6700\u591a\u4e0d\u4f1a\u8d85\u8fc7 CPU \u7684\u6838\u5fc3\u6570\uff0c\u4e00\u822c\u7684\u7535\u8111\u6709 4 \u6838\uff0c\u6240\u4ee5\u6700\u591a\u53ea\u80fd\u540c\u65f6\u8fd0\u884c 4 \u4e2a\u7a0b\u5e8f\u3002\u53e6\u5916\uff0c\u5f53\u4f60\u5199\u7684\u7a0b\u5e8f\u51fa Bug \u7684\u65f6\u5019\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u5e2e\u4f60\u7ed3\u675f\u7a0b\u5e8f\uff0c\u5e76\u5c06\u7a0b\u5e8f\u7ed3\u675f\u7684\u539f\u56e0\u62a5\u544a\u7ed9\u4f60\uff0c\u800c\u4e0d\u4f1a\u5f71\u54cd\u5230\u5176\u4ed6\u7a0b\u5e8f\u7684\u8fd0\u884c\u3002 \u4f60\u6216\u8bb8\u5df2\u7ecf\u77e5\u9053\uff0c\u6211\u4eec\u65e5\u5e38\u6240\u4f7f\u7528\u7684\u64cd\u4f5c\u7cfb\u7edf\u5b9e\u9645\u4e0a\u662f\u4f1a\u4e0d\u505c\u5730\u5207\u6362\u7a0b\u5e8f\u3002\u7136\u800c\uff0c\u4e00\u65e6\u7a0b\u5e8f\u5f00\u59cb\u8fd0\u884c\uff0c\u9664\u975e\u5b83\u4e3b\u52a8\u8df3\u8f6c\u5230\u5176\u4ed6\u7a0b\u5e8f\uff0c\u5426\u5219\u5c06\u6c38\u8fdc\u72ec\u5360\u4e00\u4e2a\u6838\u5fc3\uff0c\u54ea\u6015\u5b83\u662f\u5728\u6b7b\u5faa\u73af\u3002\u8fd9\u6837\u7684\u60c5\u51b5\u4e0b\uff0c\u64cd\u4f5c\u7cfb\u7edf\u53c8\u5982\u4f55\u83b7\u5f97 CPU \u6838\u5fc3\u7684\u4f7f\u7528\u6743\u5462\uff1f\u7b54\u6848\u662f\uff0c\u6211\u4eec\u65e5\u5e38\u6240\u4f7f\u7528\u7684 Windows \u548c Linux \u7b49\u64cd\u4f5c\u7cfb\u7edf\u662f \u62a2\u5360\u5f0f\u8c03\u5ea6 \u7684\u3002\u5728\u64cd\u4f5c\u7cfb\u7edf\u542f\u52a8\u7684\u65f6\u5019\uff0c\u5b83\u4eec\u4f1a\u6253\u5f00 CPU \u4e0a\u7684\u5b9a\u65f6\u5668\u4e2d\u65ad\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\uff0cCPU \u5c31\u4f1a\u5f3a\u884c\u6682\u505c\u5f53\u524d\u8fd0\u884c\u7684\u7a0b\u5e8f\uff0c\u5e76\u8df3\u8f6c\u5230\u64cd\u4f5c\u7cfb\u7edf\u8bbe\u7f6e\u7684\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u4e2d\u3002\u8fd9\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5c31\u6709\u673a\u4f1a\u4fdd\u5b58\u597d\u8fdb\u7a0b\u7684\u72b6\u6001\uff0c\u5e76\u6267\u884c\u8c03\u5ea6\u7b97\u6cd5\u9009\u62e9\u4e0b\u4e00\u4e2a\u9700\u8981\u8fd0\u884c\u7684\u7a0b\u5e8f\u4e86\u3002\u5f53\u7136\uff0c\u9664\u4e86\u62a2\u5360\u5f0f\u8c03\u5ea6\uff0c\u8fd8\u6709\u534f\u4f5c\u5f0f\u8c03\u5ea6\uff0c\u5728\u8fd9\u79cd\u8c03\u5ea6\u65b9\u5f0f\u4e2d\uff0c\u9700\u8981\u7a0b\u5e8f\u5458\u5728\u4ee3\u7801\u4e2d\u624b\u52a8\u63d2\u5165\u8df3\u8f6c\u5230\u64cd\u4f5c\u7cfb\u7edf\u7684\u4ee3\u7801\uff0c\u5426\u5219\u7a0b\u5e8f\u5c06\u4e00\u76f4\u8fd0\u884c\u4e0b\u53bb\u3002 \u800c\u5728\u7a0b\u5e8f\u51fa Bug \u7684\u65f6\u5019\uff0c\u4f8b\u5982\u8bbf\u5b58\u8d8a\u754c\u3001\u9664\u96f6\u9519\u8bef\u7b49\uff0c\u5219\u4f1a\u89e6\u53d1 CPU \u4e2d\u7684\u5f02\u5e38\uff0c\u8fd9\u65f6\uff0cCPU \u540c\u6837\u4f1a\u5f3a\u884c\u6682\u505c\u76ee\u524d\u7684\u7a0b\u5e8f\uff0c\u8df3\u8f6c\u5230\u64cd\u4f5c\u7cfb\u7edf\u9884\u5148\u8bbe\u7f6e\u597d\u7684\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f\u4e2d\u3002\u8fd9\u6837\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5c31\u53ef\u4ee5\u8bb0\u5f55\u4e0b\u9519\u8bef\u7684\u539f\u56e0\uff0c\u5e76\u8c03\u7528\u7a0b\u5e8f\u5458\u8bbe\u7f6e\u597d\u7684\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f\u6765\u5904\u7406\u9519\u8bef\u3002\u5f53\u7136\uff0c\u4f60\u4e5f\u5f88\u5c11\u7f16\u5199\u81ea\u5df1\u7684\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f\uff0c\u90a3\u4e48\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4fbf\u4f1a\u9ed8\u8ba4\u5730\u5c06\u4f60\u7684\u8fdb\u7a0b\u7ed3\u675f\u6389\u4e86\u3002 \u5728\u672c\u5b9e\u9a8c\u4e2d\uff0c\u4f60\u5c06\u901a\u8fc7\u5b9e\u8df5\u4e86\u89e3 CPU \u7684\u4e2d\u65ad\u548c\u5f02\u5e38\u662f\u5982\u4f55\u5b9e\u73b0\u7684\uff0cCPU \u662f\u5982\u4f55\u6253\u65ad\u6b63\u5e38\u7684\u6267\u884c\u6d41\u8fdb\u5165\u4e2d\u65ad\u548c\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f\u7684\uff0c\u53c8\u662f\u5982\u4f55\u544a\u8bc9\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u5fc5\u8981\u7684\u4fe1\u606f\uff0c\u4ee5\u53ca\u5982\u4f55\u4ece\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u8fd4\u56de\u5230\u6b63\u5e38\u7684\u6267\u884c\u6d41\u4e2d\u3002","title":"\u7b80\u4ecb"},{"location":"tutorial/interrupt-and-exception/#csr","text":"CSR (Control and Status Registers, \u63a7\u5236\u548c\u72b6\u6001\u5bc4\u5b58\u5668) \u7528\u6765\u63a7\u5236\u548c\u4fdd\u5b58 CPU \u7684\u5176\u4ed6\u529f\u80fd\u7684\u72b6\u6001\uff0c\u4f8b\u5982\u4e2d\u65ad\u4f7f\u80fd\u72b6\u6001\u3001\u7279\u6743\u7b49\u7ea7\u7b49\u3002","title":"CSR"},{"location":"tutorial/interrupt-and-exception/#mstatus-\u5bc4\u5b58\u5668","text":"mstatus \u5bc4\u5b58\u5668\u7528\u4e8e\u8bb0\u5f55\u673a\u5668\u6a21\u5f0f\u4e0b\u7684\u72b6\u6001\uff0c\u4f8b\u5982\u4e2d\u65ad\u662f\u5426\u542f\u7528\u7b49\u3002","title":"mstatus \u5bc4\u5b58\u5668"},{"location":"tutorial/interrupt-and-exception/#mepc-\u5bc4\u5b58\u5668","text":"mepc \u5bc4\u5b58\u5668\u4fdd\u5b58\u4e86\u4e2d\u65ad\u8fd4\u56de\u540e\u9700\u8981\u6267\u884c\u7684\u6307\u4ee4\u5730\u5740\uff0c\u5f53 CPU \u6267\u884c\u4e2d\u65ad\u65f6\uff0c mepc \u5bc4\u5b58\u5668\u88ab\u81ea\u52a8\u8bbe\u7f6e\u4e3a\u5f53\u524d\u6307\u4ee4\u7684\u5730\u5740\uff0c\u5982\u679c EX \u9636\u6bb5\u6b63\u5728\u6267\u884c\u8df3\u8f6c\uff0c\u5219\u8bbe\u7f6e\u4e3a\u8df3\u8f6c\u7684\u76ee\u6807\u5730\u5740\u3002","title":"mepc \u5bc4\u5b58\u5668"},{"location":"tutorial/interrupt-and-exception/#mcause-\u5bc4\u5b58\u5668","text":"mcause \u5bc4\u5b58\u5668\u4fdd\u5b58\u4e86\u4e2d\u65ad\u7684\u539f\u56e0\u3002","title":"mcause \u5bc4\u5b58\u5668"},{"location":"tutorial/interrupt-and-exception/#mtvec-\u5bc4\u5b58\u5668","text":"mtvec \u5bc4\u5b58\u5668\u4fdd\u5b58\u4e86\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u7684\u5730\u5740\uff0c\u5f53 CPU \u6267\u884c\u4e2d\u65ad\u65f6\uff0c pc \u5bc4\u5b58\u5668\u88ab\u81ea\u52a8\u8bbe\u7f6e\u4e3a mtvec \u5bc4\u5b58\u5668\u4e2d\u4fdd\u5b58\u7684\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u7684\u5730\u5740\u3002 \u5728\u4e2d\u65ad\u53d1\u751f\u7684\u65f6\u5019\uff0cCPU \u9700\u8981\u6e05\u7a7a\u5e76\u963b\u585e\u6d41\u6c34\u7ebf\uff0c\u5e76\u5728 CSR \u5bc4\u5b58\u5668\u5199\u5165\u4e2d\u65ad\u76f8\u5173\u7684\u4fe1\u606f\u3002\u7531\u4e8e CSR \u5bc4\u5b58\u5668\u5806\u5b9e\u73b0\u53ea\u6709\u4e00\u4e2a\u8bfb\u5199\u7aef\u53e3\uff0c\u56e0\u6b64\uff0cCPU \u9700\u8981\u591a\u4e2a\u5468\u671f\u624d\u80fd\u5b8c\u6210 CSR \u5bc4\u5b58\u5668\u7684\u5199\u5165\u3002\u5728\u8bbe\u7f6e\u5b8c CSR \u5bc4\u5b58\u5668\u540e\uff0c\u53d1\u51fa\u63a7\u5236\u4fe1\u53f7\uff0cCPU \u8df3\u8f6c\u5230 mtvec \u4e2d\u4fdd\u5b58\u7684\u6307\u4ee4\u5730\u5740\uff0c\u5f00\u59cb\u6267\u884c\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u3002","title":"mtvec \u5bc4\u5b58\u5668"},{"location":"tutorial/interrupt-and-exception/#\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f","text":"\u4e3a\u4e86\u5c3d\u5feb\u5904\u7406\u4e2d\u65ad\uff0cCPU \u4ec5\u4f1a\u5c06\u6700\u57fa\u672c\u7684\u4e2d\u65ad\u53d1\u751f\u5730\u5740\u548c\u4e2d\u65ad\u539f\u56e0\u7b49\u4fdd\u5b58\u5230 CSR \u5bc4\u5b58\u5668\u4e2d\u3002\u66f4\u590d\u6742\u7684\u529f\u80fd\u7531\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u5b9e\u73b0\u3002 \u7a0b\u5e8f\u6b63\u5e38\u6267\u884c\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u4f7f\u7528\u5230\u901a\u7528\u5bc4\u5b58\u5668\u5806\u3002\u4e3a\u4e86\u80fd\u591f\u8ba9\u4e2d\u65ad\u8fd4\u56de\u540e\uff0c\u539f\u6765\u7684\u6267\u884c\u6d41\u7a0b\u4e0d\u53d7\u5f71\u54cd\uff0c\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u9700\u8981\u7acb\u523b\u5148\u5c06\u5f53\u524d\u6240\u6709\u5bc4\u5b58\u5668\u7684\u5185\u5bb9\u5199\u5165\u5185\u5b58\u4e2d\uff0c\u7136\u540e\u518d\u8c03\u7528\u6211\u4eec\u81ea\u5b9a\u4e49\u7684\u51fd\u6570\u5904\u7406\u4e2d\u65ad\u3002\u5728\u51fd\u6570\u8fd4\u56de\u540e\uff0c\u6211\u4eec\u9700\u8981\u5c06\u539f\u6765\u5185\u5b58\u4e2d\u7684\u5bc4\u5b58\u5668\u5185\u5bb9\u6062\u590d\u5230 CPU \u4e2d\uff0c\u5e76\u8c03\u7528 mret \u6307\u4ee4\u4ece\u4e2d\u65ad\u4e2d\u8fd4\u56de\uff0c\u6062\u590d\u539f\u6765\u7a0b\u5e8f\u7684\u6267\u884c\u3002 \u6b64\u5916\uff0c\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u672c\u8eab\u4e5f\u9700\u8981\u6808\u6765\u4fdd\u5b58\u51fd\u6570\u6808\u5e27\uff0c\u6240\u4ee5\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u4e2d\u8fd8\u9700\u8981\u5207\u6362\u6808\u3002\u4e00\u79cd\u529e\u6cd5\u662f\u76f4\u63a5\u4f7f\u7528\u539f\u6765\u7a0b\u5e8f\u7684\u6808\uff0c\u4f46\u8fd9\u6837\u6709\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6808\u6ea2\u51fa\u3002\u4e3a\u4e86\u5b89\u5168\u8003\u8651\uff0c\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u4f7f\u7528\u5355\u72ec\u7684\u5185\u5b58\u7a7a\u95f4\u4f5c\u4e3a\u5176\u8fd0\u884c\u6808\u3002\u4e0a\u9762\u6240\u8bf4\u7684\u4fdd\u5b58\u5bc4\u5b58\u5668\u5185\u5bb9\uff0c\u53ef\u4ee5\u76f4\u63a5\u4fdd\u5b58\u5728\u4e2d\u65ad\u6808\u4e0a\u3002","title":"\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f"},{"location":"tutorial/running-programs/","text":"\u901a\u8fc7 clang \u7f16\u8bd1\u7684\u4e8c\u8fdb\u5236\u7a0b\u5e8f\u662f ELF \u683c\u5f0f\u7684\uff0c\u5e76\u4e0d\u80fd\u76f4\u63a5\u5728\u6211\u4eec\u81ea\u5df1\u7f16\u5199\u7684 CPU \u4e0a\u8fd0\u884c\u3002\u6240\u4ee5\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u5bf9\u53ef\u6267\u884c\u6587\u4ef6\u8fdb\u884c\u540e\u5904\u7406\u3002 \u4e00\u4e2a ELF \u683c\u5f0f\u7684\u53ef\u6267\u884c\u7a0b\u5e8f\u7531\u591a\u4e2a\u6bb5\uff08section\uff09\u7ec4\u6210\u3002\u5728\u5e73\u5e38\u7684\u8ba1\u7b97\u673a\u4e0a\u6267\u884c\u7684\u65f6\u5019\uff0c\u64cd\u4f5c\u7cfb\u7edf\u548c\u52a0\u8f7d\u5668\u4f1a\u5c06\u8fd9\u4e9b\u6bb5\u6309\u7167\u6587\u4ef6\u4e2d\u7684\u4fe1\u606f\u52a0\u8f7d\u5230\u6307\u5b9a\u7684\u5185\u5b58\u5730\u5740\u3002\u5176\u4e2d\uff0c\u5bf9\u7a0b\u5e8f\u8fd0\u884c\u6bd4\u8f83\u91cd\u8981\u7684\u6bb5\u6709\u4ee3\u7801\u6bb5 .text \u548c\u6570\u636e\u6bb5 .data \u3002\u5176\u4e2d\u4ee3\u7801\u6bb5\u5305\u542b\u4e86\u6700\u7ec8\u6267\u884c\u7684\u4e8c\u8fdb\u5236\u683c\u5f0f\u7684\u6307\u4ee4\uff0c\u800c\u6570\u636e\u6bb5\u5305\u542b\u4e86\u6211\u4eec\u5728\u7a0b\u5e8f\u4e2d\u4f7f\u7528\u7684\u5e38\u91cf\uff0c\u4f8b\u5982\u5b57\u7b26\u4e32\u3001\u6570\u7ec4\u7b49\u3002 \u7531\u4e8e\u6211\u4eec\u7684 CPU \u6ca1\u6709\u64cd\u4f5c\u7cfb\u7edf\uff0c\u4e5f\u6ca1\u6709\u52a0\u8f7d\u5668\uff0c\u6211\u4eec\u9700\u8981\u5bf9 ELF \u683c\u5f0f\u8fdb\u884c\u540e\u5904\u7406\uff0c\u8fd9\u6837\u7a0b\u5e8f\u624d\u53ef\u4ee5\u5728\u6211\u4eec\u81ea\u5df1\u7684 CPU \u4e0a\u6b63\u786e\u8fd0\u884c\u3002\u6211\u4eec\u53ea\u9700\u8981 ELF \u683c\u5f0f\u4e2d\u7684\u4ee3\u7801\u6bb5\u548c\u6570\u636e\u6bb5\uff0c\u5176\u4ed6\u7684\u6bb5\u90fd\u6682\u65f6\u4e0d\u9700\u8981\u3002\u5728\u94fe\u63a5\u5668\u811a\u672c\u4e2d\uff0c\u6211\u4eec\u5c06\u4ee3\u7801\u6bb5\u548c\u6570\u636e\u6bb5\u5206\u914d\u5230\u76f8\u90bb\u7684\u5730\u5740\uff0c\u7b80\u5316\u540e\u7eed\u5b9e\u73b0\u3002\u800c\u4ee3\u7801\u6bb5\u5f00\u59cb\u4e8e 0x1000 \u5730\u5740\uff0c\u524d\u9762\u7684\u7a7a\u95f4\u662f\u9884\u7559\u7ed9\u7a0b\u5e8f\u8fd0\u884c\u7684\u6808\u3002\u7136\u540e\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528 objcopy \u5de5\u5177\uff0c\u5355\u72ec\u5c06\u6587\u4ef6\u4e2d\u7684\u4ee3\u7801\u6bb5\u548c\u6570\u636e\u6bb5\u62f7\u8d1d\u5230\u4e00\u4e2a\u6587\u4ef6\u4e2d\uff0c\u6700\u540e\u6211\u4eec\u4f7f\u7528\u811a\u672c\uff0c\u5c06\u8fd9\u4e2a\u4e8c\u8fdb\u5236\u6587\u4ef6\u8f6c\u6362\u4e3a Verilog \u53ef\u4ee5\u8bc6\u522b\u7684\u521d\u59cb\u5316\u6587\u4ef6\u683c\u5f0f\uff0c\u5e76\u7528\u6765\u521d\u59cb\u5316 CPU \u5185\u5b58\u3002\u8fd9\u6837\uff0c\u5728 CPU \u590d\u4f4d\u4e4b\u540e\uff0cCPU \u5c31\u4f1a\u4ece\u5165\u53e3\u5730\u5740\u5f00\u59cb\u52a0\u8f7d\u4ee3\u7801\u6267\u884c\u4e86\u3002","title":"\u8fd0\u884c\u7a0b\u5e8f"},{"location":"tutorial/rv32i/","text":"RV32I \u6307\u4ee4\u96c6 \u00b6 \u5728\u5f00\u59cb\u5b9e\u73b0\u4e00\u4e2a RISC-V \u5904\u7406\u5668\u4e4b\u524d\uff0c\u5148\u8ba9\u6211\u4eec\u6765\u4e86\u89e3\u4e00\u4e0b\u57fa\u672c\u7684 RV32I \u5305\u542b\u54ea\u4e9b\u6307\u4ee4\uff0c\u5e76\u5728\u6a21\u62df\u5668\u4e0a\u8fd0\u884c\u8fd9\u4e9b\u6307\u4ee4\uff0c\u770b\u770b\u5b83\u4eec\u7684\u6267\u884c\u7ed3\u679c\uff0c\u5efa\u7acb\u5bf9\u4f7f\u7528\u6c47\u7f16\u8bed\u8a00\u7f16\u5199\u7a0b\u5e8f\u7684\u57fa\u672c\u611f\u89c9\u3002 \u6307\u4ee4\u683c\u5f0f \u00b6 RISC-V \u6709\u516d\u79cd\u57fa\u672c\u7684\u6307\u4ee4\u7c7b\u578b\uff1a R \u7c7b\u578b\u6307\u4ee4\uff0c\u7528\u4e8e\u5bc4\u5b58\u5668-\u5bc4\u5b58\u5668\u64cd\u4f5c I \u7c7b\u578b\u6307\u4ee4\uff0c\u7528\u4e8e\u77ed\u7acb\u5373\u6570\u548c\u8bbf\u5b58 load \u64cd\u4f5c S \u7c7b\u578b\u6307\u4ee4\uff0c\u7528\u4e8e\u8bbf\u5b58 store \u64cd\u4f5c B \u7c7b\u578b\u6307\u4ee4\uff0c\u7528\u4e8e\u6761\u4ef6\u8df3\u8f6c\u64cd\u4f5c U \u7c7b\u578b\u6307\u4ee4\uff0c\u7528\u4e8e\u957f\u7acb\u5373\u6570 J \u7c7b\u578b\u6307\u4ee4\uff0c\u7528\u4e8e\u65e0\u6761\u4ef6\u8df3\u8f6c Spike \u6a21\u62df\u5668 \u00b6 Spike \u662f\u4e00\u4e2a RISC-V ISA \u6a21\u62df\u5668\uff0c\u652f\u6301\u591a\u79cd RISC-V \u6269\u5c55\uff0c\u901a\u5e38\u88ab\u4eba\u4eec\u62ff\u6765\u4f5c\u4e3a\u53c2\u8003\u5b9e\u73b0\uff0c\u4ee5\u9a8c\u8bc1\u81ea\u5df1\u5b9e\u73b0\u7684\u6b63\u786e\u6027\u3002","title":"RV32I \u6307\u4ee4\u96c6"},{"location":"tutorial/rv32i/#rv32i-\u6307\u4ee4\u96c6","text":"\u5728\u5f00\u59cb\u5b9e\u73b0\u4e00\u4e2a RISC-V \u5904\u7406\u5668\u4e4b\u524d\uff0c\u5148\u8ba9\u6211\u4eec\u6765\u4e86\u89e3\u4e00\u4e0b\u57fa\u672c\u7684 RV32I \u5305\u542b\u54ea\u4e9b\u6307\u4ee4\uff0c\u5e76\u5728\u6a21\u62df\u5668\u4e0a\u8fd0\u884c\u8fd9\u4e9b\u6307\u4ee4\uff0c\u770b\u770b\u5b83\u4eec\u7684\u6267\u884c\u7ed3\u679c\uff0c\u5efa\u7acb\u5bf9\u4f7f\u7528\u6c47\u7f16\u8bed\u8a00\u7f16\u5199\u7a0b\u5e8f\u7684\u57fa\u672c\u611f\u89c9\u3002","title":"RV32I \u6307\u4ee4\u96c6"},{"location":"tutorial/rv32i/#\u6307\u4ee4\u683c\u5f0f","text":"RISC-V \u6709\u516d\u79cd\u57fa\u672c\u7684\u6307\u4ee4\u7c7b\u578b\uff1a R \u7c7b\u578b\u6307\u4ee4\uff0c\u7528\u4e8e\u5bc4\u5b58\u5668-\u5bc4\u5b58\u5668\u64cd\u4f5c I \u7c7b\u578b\u6307\u4ee4\uff0c\u7528\u4e8e\u77ed\u7acb\u5373\u6570\u548c\u8bbf\u5b58 load \u64cd\u4f5c S \u7c7b\u578b\u6307\u4ee4\uff0c\u7528\u4e8e\u8bbf\u5b58 store \u64cd\u4f5c B \u7c7b\u578b\u6307\u4ee4\uff0c\u7528\u4e8e\u6761\u4ef6\u8df3\u8f6c\u64cd\u4f5c U \u7c7b\u578b\u6307\u4ee4\uff0c\u7528\u4e8e\u957f\u7acb\u5373\u6570 J \u7c7b\u578b\u6307\u4ee4\uff0c\u7528\u4e8e\u65e0\u6761\u4ef6\u8df3\u8f6c","title":"\u6307\u4ee4\u683c\u5f0f"},{"location":"tutorial/rv32i/#spike-\u6a21\u62df\u5668","text":"Spike \u662f\u4e00\u4e2a RISC-V ISA \u6a21\u62df\u5668\uff0c\u652f\u6301\u591a\u79cd RISC-V \u6269\u5c55\uff0c\u901a\u5e38\u88ab\u4eba\u4eec\u62ff\u6765\u4f5c\u4e3a\u53c2\u8003\u5b9e\u73b0\uff0c\u4ee5\u9a8c\u8bc1\u81ea\u5df1\u5b9e\u73b0\u7684\u6b63\u786e\u6027\u3002","title":"Spike \u6a21\u62df\u5668"}]}